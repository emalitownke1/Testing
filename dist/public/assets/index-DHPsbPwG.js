function $1(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function gy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ef={exports:{}},jo={},Tf={exports:{}},st={};var Tx;function V1(){if(Tx)return st;Tx=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function N(A){return A===null||typeof A!="object"?null:(A=b&&A[b]||A["@@iterator"],typeof A=="function"?A:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,w={};function j(A,R,D){this.props=A,this.context=R,this.refs=w,this.updater=D||C}j.prototype.isReactComponent={},j.prototype.setState=function(A,R){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,R,"setState")},j.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function k(){}k.prototype=j.prototype;function _(A,R,D){this.props=A,this.context=R,this.refs=w,this.updater=D||C}var F=_.prototype=new k;F.constructor=_,T(F,j.prototype),F.isPureReactComponent=!0;var I=Array.isArray,M=Object.prototype.hasOwnProperty,Z={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function J(A,R,D){var z,ae={},pe=null,ie=null;if(R!=null)for(z in R.ref!==void 0&&(ie=R.ref),R.key!==void 0&&(pe=""+R.key),R)M.call(R,z)&&!q.hasOwnProperty(z)&&(ae[z]=R[z]);var ce=arguments.length-2;if(ce===1)ae.children=D;else if(1<ce){for(var Ae=Array(ce),Ue=0;Ue<ce;Ue++)Ae[Ue]=arguments[Ue+2];ae.children=Ae}if(A&&A.defaultProps)for(z in ce=A.defaultProps,ce)ae[z]===void 0&&(ae[z]=ce[z]);return{$$typeof:e,type:A,key:pe,ref:ie,props:ae,_owner:Z.current}}function U(A,R){return{$$typeof:e,type:A.type,key:R,ref:A.ref,props:A.props,_owner:A._owner}}function re(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function me(A){var R={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(D){return R[D]})}var te=/\/+/g;function he(A,R){return typeof A=="object"&&A!==null&&A.key!=null?me(""+A.key):R.toString(36)}function ne(A,R,D,z,ae){var pe=typeof A;(pe==="undefined"||pe==="boolean")&&(A=null);var ie=!1;if(A===null)ie=!0;else switch(pe){case"string":case"number":ie=!0;break;case"object":switch(A.$$typeof){case e:case t:ie=!0}}if(ie)return ie=A,ae=ae(ie),A=z===""?"."+he(ie,0):z,I(ae)?(D="",A!=null&&(D=A.replace(te,"$&/")+"/"),ne(ae,R,D,"",function(Ue){return Ue})):ae!=null&&(re(ae)&&(ae=U(ae,D+(!ae.key||ie&&ie.key===ae.key?"":(""+ae.key).replace(te,"$&/")+"/")+A)),R.push(ae)),1;if(ie=0,z=z===""?".":z+":",I(A))for(var ce=0;ce<A.length;ce++){pe=A[ce];var Ae=z+he(pe,ce);ie+=ne(pe,R,D,Ae,ae)}else if(Ae=N(A),typeof Ae=="function")for(A=Ae.call(A),ce=0;!(pe=A.next()).done;)pe=pe.value,Ae=z+he(pe,ce++),ie+=ne(pe,R,D,Ae,ae);else if(pe==="object")throw R=String(A),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return ie}function we(A,R,D){if(A==null)return A;var z=[],ae=0;return ne(A,z,"","",function(pe){return R.call(D,pe,ae++)}),z}function E(A){if(A._status===-1){var R=A._result;R=R(),R.then(function(D){(A._status===0||A._status===-1)&&(A._status=1,A._result=D)},function(D){(A._status===0||A._status===-1)&&(A._status=2,A._result=D)}),A._status===-1&&(A._status=0,A._result=R)}if(A._status===1)return A._result.default;throw A._result}var K={current:null},V={transition:null},Y={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:V,ReactCurrentOwner:Z};function se(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:we,forEach:function(A,R,D){we(A,function(){R.apply(this,arguments)},D)},count:function(A){var R=0;return we(A,function(){R++}),R},toArray:function(A){return we(A,function(R){return R})||[]},only:function(A){if(!re(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},st.Component=j,st.Fragment=n,st.Profiler=o,st.PureComponent=_,st.StrictMode=i,st.Suspense=g,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,st.act=se,st.cloneElement=function(A,R,D){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var z=T({},A.props),ae=A.key,pe=A.ref,ie=A._owner;if(R!=null){if(R.ref!==void 0&&(pe=R.ref,ie=Z.current),R.key!==void 0&&(ae=""+R.key),A.type&&A.type.defaultProps)var ce=A.type.defaultProps;for(Ae in R)M.call(R,Ae)&&!q.hasOwnProperty(Ae)&&(z[Ae]=R[Ae]===void 0&&ce!==void 0?ce[Ae]:R[Ae])}var Ae=arguments.length-2;if(Ae===1)z.children=D;else if(1<Ae){ce=Array(Ae);for(var Ue=0;Ue<Ae;Ue++)ce[Ue]=arguments[Ue+2];z.children=ce}return{$$typeof:e,type:A.type,key:ae,ref:pe,props:z,_owner:ie}},st.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},st.createElement=J,st.createFactory=function(A){var R=J.bind(null,A);return R.type=A,R},st.createRef=function(){return{current:null}},st.forwardRef=function(A){return{$$typeof:m,render:A}},st.isValidElement=re,st.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:E}},st.memo=function(A,R){return{$$typeof:x,type:A,compare:R===void 0?null:R}},st.startTransition=function(A){var R=V.transition;V.transition={};try{A()}finally{V.transition=R}},st.unstable_act=se,st.useCallback=function(A,R){return K.current.useCallback(A,R)},st.useContext=function(A){return K.current.useContext(A)},st.useDebugValue=function(){},st.useDeferredValue=function(A){return K.current.useDeferredValue(A)},st.useEffect=function(A,R){return K.current.useEffect(A,R)},st.useId=function(){return K.current.useId()},st.useImperativeHandle=function(A,R,D){return K.current.useImperativeHandle(A,R,D)},st.useInsertionEffect=function(A,R){return K.current.useInsertionEffect(A,R)},st.useLayoutEffect=function(A,R){return K.current.useLayoutEffect(A,R)},st.useMemo=function(A,R){return K.current.useMemo(A,R)},st.useReducer=function(A,R,D){return K.current.useReducer(A,R,D)},st.useRef=function(A){return K.current.useRef(A)},st.useState=function(A){return K.current.useState(A)},st.useSyncExternalStore=function(A,R,D){return K.current.useSyncExternalStore(A,R,D)},st.useTransition=function(){return K.current.useTransition()},st.version="18.3.1",st}var _x;function ld(){return _x||(_x=1,Tf.exports=V1()),Tf.exports}var Rx;function z1(){if(Rx)return jo;Rx=1;var e=ld(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(m,g,x){var v,b={},N=null,C=null;x!==void 0&&(N=""+x),g.key!==void 0&&(N=""+g.key),g.ref!==void 0&&(C=g.ref);for(v in g)i.call(g,v)&&!c.hasOwnProperty(v)&&(b[v]=g[v]);if(m&&m.defaultProps)for(v in g=m.defaultProps,g)b[v]===void 0&&(b[v]=g[v]);return{$$typeof:t,type:m,key:N,ref:C,props:b,_owner:o.current}}return jo.Fragment=n,jo.jsx=d,jo.jsxs=d,jo}var Ax;function U1(){return Ax||(Ax=1,Ef.exports=z1()),Ef.exports}var r=U1(),jc={},_f={exports:{}},Lr={},Rf={exports:{}},Af={};var Ix;function q1(){return Ix||(Ix=1,(function(e){function t(V,Y){var se=V.length;V.push(Y);e:for(;0<se;){var A=se-1>>>1,R=V[A];if(0<o(R,Y))V[A]=Y,V[se]=R,se=A;else break e}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var Y=V[0],se=V.pop();if(se!==Y){V[0]=se;e:for(var A=0,R=V.length,D=R>>>1;A<D;){var z=2*(A+1)-1,ae=V[z],pe=z+1,ie=V[pe];if(0>o(ae,se))pe<R&&0>o(ie,ae)?(V[A]=ie,V[pe]=se,A=pe):(V[A]=ae,V[z]=se,A=z);else if(pe<R&&0>o(ie,se))V[A]=ie,V[pe]=se,A=pe;else break e}}return Y}function o(V,Y){var se=V.sortIndex-Y.sortIndex;return se!==0?se:V.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();e.unstable_now=function(){return d.now()-m}}var g=[],x=[],v=1,b=null,N=3,C=!1,T=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(V){for(var Y=n(x);Y!==null;){if(Y.callback===null)i(x);else if(Y.startTime<=V)i(x),Y.sortIndex=Y.expirationTime,t(g,Y);else break;Y=n(x)}}function I(V){if(w=!1,F(V),!T)if(n(g)!==null)T=!0,E(M);else{var Y=n(x);Y!==null&&K(I,Y.startTime-V)}}function M(V,Y){T=!1,w&&(w=!1,k(J),J=-1),C=!0;var se=N;try{for(F(Y),b=n(g);b!==null&&(!(b.expirationTime>Y)||V&&!me());){var A=b.callback;if(typeof A=="function"){b.callback=null,N=b.priorityLevel;var R=A(b.expirationTime<=Y);Y=e.unstable_now(),typeof R=="function"?b.callback=R:b===n(g)&&i(g),F(Y)}else i(g);b=n(g)}if(b!==null)var D=!0;else{var z=n(x);z!==null&&K(I,z.startTime-Y),D=!1}return D}finally{b=null,N=se,C=!1}}var Z=!1,q=null,J=-1,U=5,re=-1;function me(){return!(e.unstable_now()-re<U)}function te(){if(q!==null){var V=e.unstable_now();re=V;var Y=!0;try{Y=q(!0,V)}finally{Y?he():(Z=!1,q=null)}}else Z=!1}var he;if(typeof _=="function")he=function(){_(te)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,we=ne.port2;ne.port1.onmessage=te,he=function(){we.postMessage(null)}}else he=function(){j(te,0)};function E(V){q=V,Z||(Z=!0,he())}function K(V,Y){J=j(function(){V(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){T||C||(T=!0,E(M))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return n(g)},e.unstable_next=function(V){switch(N){case 1:case 2:case 3:var Y=3;break;default:Y=N}var se=N;N=Y;try{return V()}finally{N=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var se=N;N=V;try{return Y()}finally{N=se}},e.unstable_scheduleCallback=function(V,Y,se){var A=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?A+se:A):se=A,V){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=se+R,V={id:v++,callback:Y,priorityLevel:V,startTime:se,expirationTime:R,sortIndex:-1},se>A?(V.sortIndex=se,t(x,V),n(g)===null&&V===n(x)&&(w?(k(J),J=-1):w=!0,K(I,se-A))):(V.sortIndex=R,t(g,V),T||C||(T=!0,E(M))),V},e.unstable_shouldYield=me,e.unstable_wrapCallback=function(V){var Y=N;return function(){var se=N;N=Y;try{return V.apply(this,arguments)}finally{N=se}}}})(Af)),Af}var Ox;function W1(){return Ox||(Ox=1,Rf.exports=q1()),Rf.exports}var Dx;function K1(){if(Dx)return Lr;Dx=1;var e=ld(),t=W1();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function c(s,a){d(s,a),d(s+"Capture",a)}function d(s,a){for(o[s]=a,s=0;s<a.length;s++)i.add(a[s])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},b={};function N(s){return g.call(b,s)?!0:g.call(v,s)?!1:x.test(s)?b[s]=!0:(v[s]=!0,!1)}function C(s,a,l,u){if(l!==null&&l.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return u?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function T(s,a,l,u){if(a===null||typeof a>"u"||C(s,a,l,u))return!0;if(u)return!1;if(l!==null)switch(l.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(s,a,l,u,p,y,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=u,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=a,this.sanitizeURL=y,this.removeEmptyString=S}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){j[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];j[a]=new w(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){j[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){j[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){j[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){j[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){j[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){j[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){j[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function _(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(k,_);j[a]=new w(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(k,_);j[a]=new w(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(k,_);j[a]=new w(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){j[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),j.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){j[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,a,l,u){var p=j.hasOwnProperty(a)?j[a]:null;(p!==null?p.type!==0:u||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,l,p,u)&&(l=null),u||p===null?N(a)&&(l===null?s.removeAttribute(a):s.setAttribute(a,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(a=p.attributeName,u=p.attributeNamespace,l===null?s.removeAttribute(a):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,u?s.setAttributeNS(u,a,l):s.setAttribute(a,l))))}var I=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),Z=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),me=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),V=Symbol.iterator;function Y(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,A;function R(s){if(A===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);A=a&&a[1]||""}return`
`+A+s}var D=!1;function z(s,a){if(!s||D)return"";D=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(X){var u=X}Reflect.construct(s,[],a)}else{try{a.call()}catch(X){u=X}s.call(a.prototype)}else{try{throw Error()}catch(X){u=X}s()}}catch(X){if(X&&u&&typeof X.stack=="string"){for(var p=X.stack.split(`
`),y=u.stack.split(`
`),S=p.length-1,O=y.length-1;1<=S&&0<=O&&p[S]!==y[O];)O--;for(;1<=S&&0<=O;S--,O--)if(p[S]!==y[O]){if(S!==1||O!==1)do if(S--,O--,0>O||p[S]!==y[O]){var B=`
`+p[S].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=S&&0<=O);break}}}finally{D=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?R(s):""}function ae(s){switch(s.tag){case 5:return R(s.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return s=z(s.type,!1),s;case 11:return s=z(s.type.render,!1),s;case 1:return s=z(s.type,!0),s;default:return""}}function pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case q:return"Fragment";case Z:return"Portal";case U:return"Profiler";case J:return"StrictMode";case he:return"Suspense";case ne:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case me:return(s.displayName||"Context")+".Consumer";case re:return(s._context.displayName||"Context")+".Provider";case te:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case we:return a=s.displayName||null,a!==null?a:pe(s.type)||"Memo";case E:a=s._payload,s=s._init;try{return pe(s(a))}catch{}}return null}function ie(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(a);case 8:return a===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ce(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ae(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ue(s){var a=Ae(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(S){u=""+S,y.call(this,S)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ct(s){s._valueTracker||(s._valueTracker=Ue(s))}function pt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Ae(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Ft(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function gr(s,a){var l=a.checked;return se({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function qt(s,a){var l=a.defaultValue==null?"":a.defaultValue,u=a.checked!=null?a.checked:a.defaultChecked;l=ce(a.value!=null?a.value:l),s._wrapperState={initialChecked:u,initialValue:l,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Lt(s,a){a=a.checked,a!=null&&F(s,"checked",a,!1)}function Ar(s,a){Lt(s,a);var l=ce(a.value),u=a.type;if(l!=null)u==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(u==="submit"||u==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Bt(s,a.type,l):a.hasOwnProperty("defaultValue")&&Bt(s,a.type,ce(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function fs(s,a,l){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var u=a.type;if(!(u!=="submit"&&u!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,l||a===s.value||(s.value=a),s.defaultValue=a}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function Bt(s,a,l){(a!=="number"||Ft(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var L=Array.isArray;function G(s,a,l,u){if(s=s.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=a.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&u&&(s[l].defaultSelected=!0)}else{for(l=""+ce(l),a=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function ee(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ne(s,a){var l=a.value;if(l==null){if(l=a.children,a=a.defaultValue,l!=null){if(a!=null)throw Error(n(92));if(L(l)){if(1<l.length)throw Error(n(93));l=l[0]}a=l}a==null&&(a=""),l=a}s._wrapperState={initialValue:ce(l)}}function je(s,a){var l=ce(a.value),u=ce(a.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),a.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),u!=null&&(s.defaultValue=""+u)}function ve(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function P(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?P(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Pe,qe=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,l,u,p){MSApp.execUnsafeLocalFunction(function(){return s(a,l,u,p)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Pe=Pe||document.createElement("div"),Pe.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Pe.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function dt(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xs=["Webkit","ms","Moz","O"];Object.keys(dr).forEach(function(s){Xs.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),dr[a]=dr[s]})});function ka(s,a,l){return a==null||typeof a=="boolean"||a===""?"":l||typeof a!="number"||a===0||dr.hasOwnProperty(s)&&dr[s]?(""+a).trim():a+"px"}function Pa(s,a){s=s.style;for(var l in a)if(a.hasOwnProperty(l)){var u=l.indexOf("--")===0,p=ka(l,a[l],u);l==="float"&&(l="cssFloat"),u?s.setProperty(l,p):s[l]=p}}var Vd=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ea(s,a){if(a){if(Vd[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Li(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ta=null;function zd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ud=null,_a=null,Ra=null;function Kh(s){if(s=io(s)){if(typeof Ud!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Fl(a),Ud(s.stateNode,s.type,a))}}function Gh(s){_a?Ra?Ra.push(s):Ra=[s]:_a=s}function Qh(){if(_a){var s=_a,a=Ra;if(Ra=_a=null,Kh(s),a)for(s=0;s<a.length;s++)Kh(a[s])}}function Hh(s,a){return s(a)}function Zh(){}var qd=!1;function Yh(s,a,l){if(qd)return s(a,l);qd=!0;try{return Hh(s,a,l)}finally{qd=!1,(_a!==null||Ra!==null)&&(Zh(),Qh())}}function Bi(s,a){var l=s.stateNode;if(l===null)return null;var u=Fl(l);if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,a,typeof l));return l}var Wd=!1;if(m)try{var $i={};Object.defineProperty($i,"passive",{get:function(){Wd=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{Wd=!1}function KN(s,a,l,u,p,y,S,O,B){var X=Array.prototype.slice.call(arguments,3);try{a.apply(l,X)}catch(ge){this.onError(ge)}}var Vi=!1,pl=null,gl=!1,Kd=null,GN={onError:function(s){Vi=!0,pl=s}};function QN(s,a,l,u,p,y,S,O,B){Vi=!1,pl=null,KN.apply(GN,arguments)}function HN(s,a,l,u,p,y,S,O,B){if(QN.apply(this,arguments),Vi){if(Vi){var X=pl;Vi=!1,pl=null}else throw Error(n(198));gl||(gl=!0,Kd=X)}}function Js(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function Xh(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Jh(s){if(Js(s)!==s)throw Error(n(188))}function ZN(s){var a=s.alternate;if(!a){if(a=Js(s),a===null)throw Error(n(188));return a!==s?null:s}for(var l=s,u=a;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Jh(p),s;if(y===u)return Jh(p),a;y=y.sibling}throw Error(n(188))}if(l.return!==u.return)l=p,u=y;else{for(var S=!1,O=p.child;O;){if(O===l){S=!0,l=p,u=y;break}if(O===u){S=!0,u=p,l=y;break}O=O.sibling}if(!S){for(O=y.child;O;){if(O===l){S=!0,l=y,u=p;break}if(O===u){S=!0,u=y,l=p;break}O=O.sibling}if(!S)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:a}function ep(s){return s=ZN(s),s!==null?tp(s):null}function tp(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=tp(s);if(a!==null)return a;s=s.sibling}return null}var rp=t.unstable_scheduleCallback,np=t.unstable_cancelCallback,YN=t.unstable_shouldYield,XN=t.unstable_requestPaint,$t=t.unstable_now,JN=t.unstable_getCurrentPriorityLevel,Gd=t.unstable_ImmediatePriority,sp=t.unstable_UserBlockingPriority,xl=t.unstable_NormalPriority,eS=t.unstable_LowPriority,ap=t.unstable_IdlePriority,vl=null,An=null;function tS(s){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(vl,s,void 0,(s.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:sS,rS=Math.log,nS=Math.LN2;function sS(s){return s>>>=0,s===0?32:31-(rS(s)/nS|0)|0}var yl=64,bl=4194304;function zi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function wl(s,a){var l=s.pendingLanes;if(l===0)return 0;var u=0,p=s.suspendedLanes,y=s.pingedLanes,S=l&268435455;if(S!==0){var O=S&~p;O!==0?u=zi(O):(y&=S,y!==0&&(u=zi(y)))}else S=l&~p,S!==0?u=zi(S):y!==0&&(u=zi(y));if(u===0)return 0;if(a!==0&&a!==u&&(a&p)===0&&(p=u&-u,y=a&-a,p>=y||p===16&&(y&4194240)!==0))return a;if((u&4)!==0&&(u|=l&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=u;0<a;)l=31-un(a),p=1<<l,u|=s[l],a&=~p;return u}function aS(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iS(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes;0<y;){var S=31-un(y),O=1<<S,B=p[S];B===-1?((O&l)===0||(O&u)!==0)&&(p[S]=aS(O,a)):B<=a&&(s.expiredLanes|=O),y&=~O}}function Qd(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ip(){var s=yl;return yl<<=1,(yl&4194240)===0&&(yl=64),s}function Hd(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Ui(s,a,l){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-un(a),s[a]=l}function oS(s,a){var l=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var u=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-un(l),y=1<<p;a[p]=0,u[p]=-1,s[p]=-1,l&=~y}}function Zd(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-un(l),p=1<<u;p&a|s[u]&a&&(s[u]|=a),l&=~p}}var ht=0;function op(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var lp,Yd,cp,dp,up,Xd=!1,jl=[],ms=null,hs=null,ps=null,qi=new Map,Wi=new Map,gs=[],lS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fp(s,a){switch(s){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":qi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(a.pointerId)}}function Ki(s,a,l,u,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},a!==null&&(a=io(a),a!==null&&Yd(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function cS(s,a,l,u,p){switch(a){case"focusin":return ms=Ki(ms,s,a,l,u,p),!0;case"dragenter":return hs=Ki(hs,s,a,l,u,p),!0;case"mouseover":return ps=Ki(ps,s,a,l,u,p),!0;case"pointerover":var y=p.pointerId;return qi.set(y,Ki(qi.get(y)||null,s,a,l,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Wi.set(y,Ki(Wi.get(y)||null,s,a,l,u,p)),!0}return!1}function mp(s){var a=ea(s.target);if(a!==null){var l=Js(a);if(l!==null){if(a=l.tag,a===13){if(a=Xh(l),a!==null){s.blockedOn=a,up(s.priority,function(){cp(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Nl(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=eu(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Ta=u,l.target.dispatchEvent(u),Ta=null}else return a=io(l),a!==null&&Yd(a),s.blockedOn=l,!1;a.shift()}return!0}function hp(s,a,l){Nl(s)&&l.delete(a)}function dS(){Xd=!1,ms!==null&&Nl(ms)&&(ms=null),hs!==null&&Nl(hs)&&(hs=null),ps!==null&&Nl(ps)&&(ps=null),qi.forEach(hp),Wi.forEach(hp)}function Gi(s,a){s.blockedOn===a&&(s.blockedOn=null,Xd||(Xd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dS)))}function Qi(s){function a(p){return Gi(p,s)}if(0<jl.length){Gi(jl[0],s);for(var l=1;l<jl.length;l++){var u=jl[l];u.blockedOn===s&&(u.blockedOn=null)}}for(ms!==null&&Gi(ms,s),hs!==null&&Gi(hs,s),ps!==null&&Gi(ps,s),qi.forEach(a),Wi.forEach(a),l=0;l<gs.length;l++)u=gs[l],u.blockedOn===s&&(u.blockedOn=null);for(;0<gs.length&&(l=gs[0],l.blockedOn===null);)mp(l),l.blockedOn===null&&gs.shift()}var Aa=I.ReactCurrentBatchConfig,Sl=!0;function uS(s,a,l,u){var p=ht,y=Aa.transition;Aa.transition=null;try{ht=1,Jd(s,a,l,u)}finally{ht=p,Aa.transition=y}}function fS(s,a,l,u){var p=ht,y=Aa.transition;Aa.transition=null;try{ht=4,Jd(s,a,l,u)}finally{ht=p,Aa.transition=y}}function Jd(s,a,l,u){if(Sl){var p=eu(s,a,l,u);if(p===null)xu(s,a,u,Cl,l),fp(s,u);else if(cS(p,s,a,l,u))u.stopPropagation();else if(fp(s,u),a&4&&-1<lS.indexOf(s)){for(;p!==null;){var y=io(p);if(y!==null&&lp(y),y=eu(s,a,l,u),y===null&&xu(s,a,u,Cl,l),y===p)break;p=y}p!==null&&u.stopPropagation()}else xu(s,a,u,null,l)}}var Cl=null;function eu(s,a,l,u){if(Cl=null,s=zd(u),s=ea(s),s!==null)if(a=Js(s),a===null)s=null;else if(l=a.tag,l===13){if(s=Xh(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Cl=s,null}function pp(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JN()){case Gd:return 1;case sp:return 4;case xl:case eS:return 16;case ap:return 536870912;default:return 16}default:return 16}}var xs=null,tu=null,kl=null;function gp(){if(kl)return kl;var s,a=tu,l=a.length,u,p="value"in xs?xs.value:xs.textContent,y=p.length;for(s=0;s<l&&a[s]===p[s];s++);var S=l-s;for(u=1;u<=S&&a[l-u]===p[y-u];u++);return kl=p.slice(s,1<u?1-u:void 0)}function Pl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function El(){return!0}function xp(){return!1}function qr(s){function a(l,u,p,y,S){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(l=s[O],this[O]=l?l(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?El:xp,this.isPropagationStopped=xp,this}return se(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),a}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ru=qr(Ia),Hi=se({},Ia,{view:0,detail:0}),mS=qr(Hi),nu,su,Zi,Tl=se({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Zi&&(Zi&&s.type==="mousemove"?(nu=s.screenX-Zi.screenX,su=s.screenY-Zi.screenY):su=nu=0,Zi=s),nu)},movementY:function(s){return"movementY"in s?s.movementY:su}}),vp=qr(Tl),hS=se({},Tl,{dataTransfer:0}),pS=qr(hS),gS=se({},Hi,{relatedTarget:0}),au=qr(gS),xS=se({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),vS=qr(xS),yS=se({},Ia,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),bS=qr(yS),wS=se({},Ia,{data:0}),yp=qr(wS),jS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CS(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=SS[s])?!!a[s]:!1}function iu(){return CS}var kS=se({},Hi,{key:function(s){if(s.key){var a=jS[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Pl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?NS[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(s){return s.type==="keypress"?Pl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Pl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),PS=qr(kS),ES=se({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bp=qr(ES),TS=se({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),_S=qr(TS),RS=se({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),AS=qr(RS),IS=se({},Tl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),OS=qr(IS),DS=[9,13,27,32],ou=m&&"CompositionEvent"in window,Yi=null;m&&"documentMode"in document&&(Yi=document.documentMode);var MS=m&&"TextEvent"in window&&!Yi,wp=m&&(!ou||Yi&&8<Yi&&11>=Yi),jp=" ",Np=!1;function Sp(s,a){switch(s){case"keyup":return DS.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cp(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Oa=!1;function FS(s,a){switch(s){case"compositionend":return Cp(a);case"keypress":return a.which!==32?null:(Np=!0,jp);case"textInput":return s=a.data,s===jp&&Np?null:s;default:return null}}function LS(s,a){if(Oa)return s==="compositionend"||!ou&&Sp(s,a)?(s=gp(),kl=tu=xs=null,Oa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return wp&&a.locale!=="ko"?null:a.data;default:return null}}var BS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!BS[s.type]:a==="textarea"}function Pp(s,a,l,u){Gh(u),a=Ol(a,"onChange"),0<a.length&&(l=new ru("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Xi=null,Ji=null;function $S(s){Wp(s,0)}function _l(s){var a=Ba(s);if(pt(a))return s}function VS(s,a){if(s==="change")return a}var Ep=!1;if(m){var lu;if(m){var cu="oninput"in document;if(!cu){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),cu=typeof Tp.oninput=="function"}lu=cu}else lu=!1;Ep=lu&&(!document.documentMode||9<document.documentMode)}function _p(){Xi&&(Xi.detachEvent("onpropertychange",Rp),Ji=Xi=null)}function Rp(s){if(s.propertyName==="value"&&_l(Ji)){var a=[];Pp(a,Ji,s,zd(s)),Yh($S,a)}}function zS(s,a,l){s==="focusin"?(_p(),Xi=a,Ji=l,Xi.attachEvent("onpropertychange",Rp)):s==="focusout"&&_p()}function US(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _l(Ji)}function qS(s,a){if(s==="click")return _l(a)}function WS(s,a){if(s==="input"||s==="change")return _l(a)}function KS(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var fn=typeof Object.is=="function"?Object.is:KS;function eo(s,a){if(fn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!g.call(a,p)||!fn(s[p],a[p]))return!1}return!0}function Ap(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ip(s,a){var l=Ap(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ap(l)}}function Op(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Op(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Dp(){for(var s=window,a=Ft();a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Ft(s.document)}return a}function du(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function GS(s){var a=Dp(),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&Op(l.ownerDocument.documentElement,l)){if(u!==null&&du(l)){if(a=u.start,s=u.end,s===void 0&&(s=a),"selectionStart"in l)l.selectionStart=a,l.selectionEnd=Math.min(s,l.value.length);else if(s=(a=l.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,y=Math.min(u.start,p);u=u.end===void 0?y:Math.min(u.end,p),!s.extend&&y>u&&(p=u,u=y,y=p),p=Ip(l,y);var S=Ip(l,u);p&&S&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(p.node,p.offset),s.removeAllRanges(),y>u?(s.addRange(a),s.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),s.addRange(a)))}}for(a=[],s=l;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<a.length;l++)s=a[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var QS=m&&"documentMode"in document&&11>=document.documentMode,Da=null,uu=null,to=null,fu=!1;function Mp(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;fu||Da==null||Da!==Ft(u)||(u=Da,"selectionStart"in u&&du(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),to&&eo(to,u)||(to=u,u=Ol(uu,"onSelect"),0<u.length&&(a=new ru("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=Da)))}function Rl(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Ma={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},mu={},Fp={};m&&(Fp=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Al(s){if(mu[s])return mu[s];if(!Ma[s])return s;var a=Ma[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in Fp)return mu[s]=a[l];return s}var Lp=Al("animationend"),Bp=Al("animationiteration"),$p=Al("animationstart"),Vp=Al("transitionend"),zp=new Map,Up="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(s,a){zp.set(s,a),c(a,[s])}for(var hu=0;hu<Up.length;hu++){var pu=Up[hu],HS=pu.toLowerCase(),ZS=pu[0].toUpperCase()+pu.slice(1);vs(HS,"on"+ZS)}vs(Lp,"onAnimationEnd"),vs(Bp,"onAnimationIteration"),vs($p,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(Vp,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ro));function qp(s,a,l){var u=s.type||"unknown-event";s.currentTarget=l,HN(u,a,void 0,s),s.currentTarget=null}function Wp(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],p=u.event;u=u.listeners;e:{var y=void 0;if(a)for(var S=u.length-1;0<=S;S--){var O=u[S],B=O.instance,X=O.currentTarget;if(O=O.listener,B!==y&&p.isPropagationStopped())break e;qp(p,O,X),y=B}else for(S=0;S<u.length;S++){if(O=u[S],B=O.instance,X=O.currentTarget,O=O.listener,B!==y&&p.isPropagationStopped())break e;qp(p,O,X),y=B}}}if(gl)throw s=Kd,gl=!1,Kd=null,s}function bt(s,a){var l=a[Nu];l===void 0&&(l=a[Nu]=new Set);var u=s+"__bubble";l.has(u)||(Kp(a,s,2,!1),l.add(u))}function gu(s,a,l){var u=0;a&&(u|=4),Kp(l,s,u,a)}var Il="_reactListening"+Math.random().toString(36).slice(2);function no(s){if(!s[Il]){s[Il]=!0,i.forEach(function(l){l!=="selectionchange"&&(YS.has(l)||gu(l,!1,s),gu(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Il]||(a[Il]=!0,gu("selectionchange",!1,a))}}function Kp(s,a,l,u){switch(pp(a)){case 1:var p=uS;break;case 4:p=fS;break;default:p=Jd}l=p.bind(null,a,l,s),p=void 0,!Wd||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(a,l,{capture:!0,passive:p}):s.addEventListener(a,l,!0):p!==void 0?s.addEventListener(a,l,{passive:p}):s.addEventListener(a,l,!1)}function xu(s,a,l,u,p){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var O=u.stateNode.containerInfo;if(O===p||O.nodeType===8&&O.parentNode===p)break;if(S===4)for(S=u.return;S!==null;){var B=S.tag;if((B===3||B===4)&&(B=S.stateNode.containerInfo,B===p||B.nodeType===8&&B.parentNode===p))return;S=S.return}for(;O!==null;){if(S=ea(O),S===null)return;if(B=S.tag,B===5||B===6){u=y=S;continue e}O=O.parentNode}}u=u.return}Yh(function(){var X=y,ge=zd(l),xe=[];e:{var ue=zp.get(s);if(ue!==void 0){var Ce=ru,Ie=s;switch(s){case"keypress":if(Pl(l)===0)break e;case"keydown":case"keyup":Ce=PS;break;case"focusin":Ie="focus",Ce=au;break;case"focusout":Ie="blur",Ce=au;break;case"beforeblur":case"afterblur":Ce=au;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=pS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=_S;break;case Lp:case Bp:case $p:Ce=vS;break;case Vp:Ce=AS;break;case"scroll":Ce=mS;break;case"wheel":Ce=OS;break;case"copy":case"cut":case"paste":Ce=bS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=bp}var De=(a&4)!==0,Vt=!De&&s==="scroll",W=De?ue!==null?ue+"Capture":null:ue;De=[];for(var $=X,Q;$!==null;){Q=$;var be=Q.stateNode;if(Q.tag===5&&be!==null&&(Q=be,W!==null&&(be=Bi($,W),be!=null&&De.push(so($,be,Q)))),Vt)break;$=$.return}0<De.length&&(ue=new Ce(ue,Ie,null,l,ge),xe.push({event:ue,listeners:De}))}}if((a&7)===0){e:{if(ue=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",ue&&l!==Ta&&(Ie=l.relatedTarget||l.fromElement)&&(ea(Ie)||Ie[Qn]))break e;if((Ce||ue)&&(ue=ge.window===ge?ge:(ue=ge.ownerDocument)?ue.defaultView||ue.parentWindow:window,Ce?(Ie=l.relatedTarget||l.toElement,Ce=X,Ie=Ie?ea(Ie):null,Ie!==null&&(Vt=Js(Ie),Ie!==Vt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Ce=null,Ie=X),Ce!==Ie)){if(De=vp,be="onMouseLeave",W="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(De=bp,be="onPointerLeave",W="onPointerEnter",$="pointer"),Vt=Ce==null?ue:Ba(Ce),Q=Ie==null?ue:Ba(Ie),ue=new De(be,$+"leave",Ce,l,ge),ue.target=Vt,ue.relatedTarget=Q,be=null,ea(ge)===X&&(De=new De(W,$+"enter",Ie,l,ge),De.target=Q,De.relatedTarget=Vt,be=De),Vt=be,Ce&&Ie)t:{for(De=Ce,W=Ie,$=0,Q=De;Q;Q=Fa(Q))$++;for(Q=0,be=W;be;be=Fa(be))Q++;for(;0<$-Q;)De=Fa(De),$--;for(;0<Q-$;)W=Fa(W),Q--;for(;$--;){if(De===W||W!==null&&De===W.alternate)break t;De=Fa(De),W=Fa(W)}De=null}else De=null;Ce!==null&&Gp(xe,ue,Ce,De,!1),Ie!==null&&Vt!==null&&Gp(xe,Vt,Ie,De,!0)}}e:{if(ue=X?Ba(X):window,Ce=ue.nodeName&&ue.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ue.type==="file")var Le=VS;else if(kp(ue))if(Ep)Le=WS;else{Le=US;var Ve=zS}else(Ce=ue.nodeName)&&Ce.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Le=qS);if(Le&&(Le=Le(s,X))){Pp(xe,Le,l,ge);break e}Ve&&Ve(s,ue,X),s==="focusout"&&(Ve=ue._wrapperState)&&Ve.controlled&&ue.type==="number"&&Bt(ue,"number",ue.value)}switch(Ve=X?Ba(X):window,s){case"focusin":(kp(Ve)||Ve.contentEditable==="true")&&(Da=Ve,uu=X,to=null);break;case"focusout":to=uu=Da=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,Mp(xe,l,ge);break;case"selectionchange":if(QS)break;case"keydown":case"keyup":Mp(xe,l,ge)}var ze;if(ou)e:{switch(s){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Oa?Sp(s,l)&&(Ze="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ze="onCompositionStart");Ze&&(wp&&l.locale!=="ko"&&(Oa||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Oa&&(ze=gp()):(xs=ge,tu="value"in xs?xs.value:xs.textContent,Oa=!0)),Ve=Ol(X,Ze),0<Ve.length&&(Ze=new yp(Ze,s,null,l,ge),xe.push({event:Ze,listeners:Ve}),ze?Ze.data=ze:(ze=Cp(l),ze!==null&&(Ze.data=ze)))),(ze=MS?FS(s,l):LS(s,l))&&(X=Ol(X,"onBeforeInput"),0<X.length&&(ge=new yp("onBeforeInput","beforeinput",null,l,ge),xe.push({event:ge,listeners:X}),ge.data=ze))}Wp(xe,a)})}function so(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Ol(s,a){for(var l=a+"Capture",u=[];s!==null;){var p=s,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=Bi(s,l),y!=null&&u.unshift(so(s,y,p)),y=Bi(s,a),y!=null&&u.push(so(s,y,p))),s=s.return}return u}function Fa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Gp(s,a,l,u,p){for(var y=a._reactName,S=[];l!==null&&l!==u;){var O=l,B=O.alternate,X=O.stateNode;if(B!==null&&B===u)break;O.tag===5&&X!==null&&(O=X,p?(B=Bi(l,y),B!=null&&S.unshift(so(l,B,O))):p||(B=Bi(l,y),B!=null&&S.push(so(l,B,O)))),l=l.return}S.length!==0&&s.push({event:a,listeners:S})}var XS=/\r\n?/g,JS=/\u0000|\uFFFD/g;function Qp(s){return(typeof s=="string"?s:""+s).replace(XS,`
`).replace(JS,"")}function Dl(s,a,l){if(a=Qp(a),Qp(s)!==a&&l)throw Error(n(425))}function Ml(){}var vu=null,yu=null;function bu(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var wu=typeof setTimeout=="function"?setTimeout:void 0,e1=typeof clearTimeout=="function"?clearTimeout:void 0,Hp=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hp<"u"?function(s){return Hp.resolve(null).then(s).catch(r1)}:wu;function r1(s){setTimeout(function(){throw s})}function ju(s,a){var l=a,u=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(u===0){s.removeChild(p),Qi(a);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=p}while(l);Qi(a)}function ys(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Zp(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}var La=Math.random().toString(36).slice(2),In="__reactFiber$"+La,ao="__reactProps$"+La,Qn="__reactContainer$"+La,Nu="__reactEvents$"+La,n1="__reactListeners$"+La,s1="__reactHandles$"+La;function ea(s){var a=s[In];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Qn]||l[In]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=Zp(s);s!==null;){if(l=s[In])return l;s=Zp(s)}return a}s=l,l=s.parentNode}return null}function io(s){return s=s[In]||s[Qn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ba(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Fl(s){return s[ao]||null}var Su=[],$a=-1;function bs(s){return{current:s}}function wt(s){0>$a||(s.current=Su[$a],Su[$a]=null,$a--)}function yt(s,a){$a++,Su[$a]=s.current,s.current=a}var ws={},xr=bs(ws),Ir=bs(!1),ta=ws;function Va(s,a){var l=s.type.contextTypes;if(!l)return ws;var u=s.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===a)return u.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=a[y];return u&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=p),p}function Or(s){return s=s.childContextTypes,s!=null}function Ll(){wt(Ir),wt(xr)}function Yp(s,a,l){if(xr.current!==ws)throw Error(n(168));yt(xr,a),yt(Ir,l)}function Xp(s,a,l){var u=s.stateNode;if(a=a.childContextTypes,typeof u.getChildContext!="function")return l;u=u.getChildContext();for(var p in u)if(!(p in a))throw Error(n(108,ie(s)||"Unknown",p));return se({},l,u)}function Bl(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ws,ta=xr.current,yt(xr,s),yt(Ir,Ir.current),!0}function Jp(s,a,l){var u=s.stateNode;if(!u)throw Error(n(169));l?(s=Xp(s,a,ta),u.__reactInternalMemoizedMergedChildContext=s,wt(Ir),wt(xr),yt(xr,s)):wt(Ir),yt(Ir,l)}var Hn=null,$l=!1,Cu=!1;function eg(s){Hn===null?Hn=[s]:Hn.push(s)}function a1(s){$l=!0,eg(s)}function js(){if(!Cu&&Hn!==null){Cu=!0;var s=0,a=ht;try{var l=Hn;for(ht=1;s<l.length;s++){var u=l[s];do u=u(!0);while(u!==null)}Hn=null,$l=!1}catch(p){throw Hn!==null&&(Hn=Hn.slice(s+1)),rp(Gd,js),p}finally{ht=a,Cu=!1}}return null}var za=[],Ua=0,Vl=null,zl=0,en=[],tn=0,ra=null,Zn=1,Yn="";function na(s,a){za[Ua++]=zl,za[Ua++]=Vl,Vl=s,zl=a}function tg(s,a,l){en[tn++]=Zn,en[tn++]=Yn,en[tn++]=ra,ra=s;var u=Zn;s=Yn;var p=32-un(u)-1;u&=~(1<<p),l+=1;var y=32-un(a)+p;if(30<y){var S=p-p%5;y=(u&(1<<S)-1).toString(32),u>>=S,p-=S,Zn=1<<32-un(a)+p|l<<p|u,Yn=y+s}else Zn=1<<y|l<<p|u,Yn=s}function ku(s){s.return!==null&&(na(s,1),tg(s,1,0))}function Pu(s){for(;s===Vl;)Vl=za[--Ua],za[Ua]=null,zl=za[--Ua],za[Ua]=null;for(;s===ra;)ra=en[--tn],en[tn]=null,Yn=en[--tn],en[tn]=null,Zn=en[--tn],en[tn]=null}var Wr=null,Kr=null,Ct=!1,mn=null;function rg(s,a){var l=an(5,null,null,0);l.elementType="DELETED",l.stateNode=a,l.return=s,a=s.deletions,a===null?(s.deletions=[l],s.flags|=16):a.push(l)}function ng(s,a){switch(s.tag){case 5:var l=s.type;return a=a.nodeType!==1||l.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Wr=s,Kr=ys(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Wr=s,Kr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(l=ra!==null?{id:Zn,overflow:Yn}:null,s.memoizedState={dehydrated:a,treeContext:l,retryLane:1073741824},l=an(18,null,null,0),l.stateNode=a,l.return=s,s.child=l,Wr=s,Kr=null,!0):!1;default:return!1}}function Eu(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Tu(s){if(Ct){var a=Kr;if(a){var l=a;if(!ng(s,a)){if(Eu(s))throw Error(n(418));a=ys(l.nextSibling);var u=Wr;a&&ng(s,a)?rg(u,l):(s.flags=s.flags&-4097|2,Ct=!1,Wr=s)}}else{if(Eu(s))throw Error(n(418));s.flags=s.flags&-4097|2,Ct=!1,Wr=s}}}function sg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Wr=s}function Ul(s){if(s!==Wr)return!1;if(!Ct)return sg(s),Ct=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!bu(s.type,s.memoizedProps)),a&&(a=Kr)){if(Eu(s))throw ag(),Error(n(418));for(;a;)rg(s,a),a=ys(a.nextSibling)}if(sg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(a===0){Kr=ys(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++}s=s.nextSibling}Kr=null}}else Kr=Wr?ys(s.stateNode.nextSibling):null;return!0}function ag(){for(var s=Kr;s;)s=ys(s.nextSibling)}function qa(){Kr=Wr=null,Ct=!1}function _u(s){mn===null?mn=[s]:mn.push(s)}var i1=I.ReactCurrentBatchConfig;function oo(s,a,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var u=l.stateNode}if(!u)throw Error(n(147,s));var p=u,y=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(S){var O=p.refs;S===null?delete O[y]:O[y]=S},a._stringRef=y,a)}if(typeof s!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,s))}return s}function ql(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function ig(s){var a=s._init;return a(s._payload)}function og(s){function a(W,$){if(s){var Q=W.deletions;Q===null?(W.deletions=[$],W.flags|=16):Q.push($)}}function l(W,$){if(!s)return null;for(;$!==null;)a(W,$),$=$.sibling;return null}function u(W,$){for(W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function p(W,$){return W=_s(W,$),W.index=0,W.sibling=null,W}function y(W,$,Q){return W.index=Q,s?(Q=W.alternate,Q!==null?(Q=Q.index,Q<$?(W.flags|=2,$):Q):(W.flags|=2,$)):(W.flags|=1048576,$)}function S(W){return s&&W.alternate===null&&(W.flags|=2),W}function O(W,$,Q,be){return $===null||$.tag!==6?($=jf(Q,W.mode,be),$.return=W,$):($=p($,Q),$.return=W,$)}function B(W,$,Q,be){var Le=Q.type;return Le===q?ge(W,$,Q.props.children,be,Q.key):$!==null&&($.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===E&&ig(Le)===$.type)?(be=p($,Q.props),be.ref=oo(W,$,Q),be.return=W,be):(be=hc(Q.type,Q.key,Q.props,null,W.mode,be),be.ref=oo(W,$,Q),be.return=W,be)}function X(W,$,Q,be){return $===null||$.tag!==4||$.stateNode.containerInfo!==Q.containerInfo||$.stateNode.implementation!==Q.implementation?($=Nf(Q,W.mode,be),$.return=W,$):($=p($,Q.children||[]),$.return=W,$)}function ge(W,$,Q,be,Le){return $===null||$.tag!==7?($=ua(Q,W.mode,be,Le),$.return=W,$):($=p($,Q),$.return=W,$)}function xe(W,$,Q){if(typeof $=="string"&&$!==""||typeof $=="number")return $=jf(""+$,W.mode,Q),$.return=W,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case M:return Q=hc($.type,$.key,$.props,null,W.mode,Q),Q.ref=oo(W,null,$),Q.return=W,Q;case Z:return $=Nf($,W.mode,Q),$.return=W,$;case E:var be=$._init;return xe(W,be($._payload),Q)}if(L($)||Y($))return $=ua($,W.mode,Q,null),$.return=W,$;ql(W,$)}return null}function ue(W,$,Q,be){var Le=$!==null?$.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Le!==null?null:O(W,$,""+Q,be);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case M:return Q.key===Le?B(W,$,Q,be):null;case Z:return Q.key===Le?X(W,$,Q,be):null;case E:return Le=Q._init,ue(W,$,Le(Q._payload),be)}if(L(Q)||Y(Q))return Le!==null?null:ge(W,$,Q,be,null);ql(W,Q)}return null}function Ce(W,$,Q,be,Le){if(typeof be=="string"&&be!==""||typeof be=="number")return W=W.get(Q)||null,O($,W,""+be,Le);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case M:return W=W.get(be.key===null?Q:be.key)||null,B($,W,be,Le);case Z:return W=W.get(be.key===null?Q:be.key)||null,X($,W,be,Le);case E:var Ve=be._init;return Ce(W,$,Q,Ve(be._payload),Le)}if(L(be)||Y(be))return W=W.get(Q)||null,ge($,W,be,Le,null);ql($,be)}return null}function Ie(W,$,Q,be){for(var Le=null,Ve=null,ze=$,Ze=$=0,nr=null;ze!==null&&Ze<Q.length;Ze++){ze.index>Ze?(nr=ze,ze=null):nr=ze.sibling;var ft=ue(W,ze,Q[Ze],be);if(ft===null){ze===null&&(ze=nr);break}s&&ze&&ft.alternate===null&&a(W,ze),$=y(ft,$,Ze),Ve===null?Le=ft:Ve.sibling=ft,Ve=ft,ze=nr}if(Ze===Q.length)return l(W,ze),Ct&&na(W,Ze),Le;if(ze===null){for(;Ze<Q.length;Ze++)ze=xe(W,Q[Ze],be),ze!==null&&($=y(ze,$,Ze),Ve===null?Le=ze:Ve.sibling=ze,Ve=ze);return Ct&&na(W,Ze),Le}for(ze=u(W,ze);Ze<Q.length;Ze++)nr=Ce(ze,W,Ze,Q[Ze],be),nr!==null&&(s&&nr.alternate!==null&&ze.delete(nr.key===null?Ze:nr.key),$=y(nr,$,Ze),Ve===null?Le=nr:Ve.sibling=nr,Ve=nr);return s&&ze.forEach(function(Rs){return a(W,Rs)}),Ct&&na(W,Ze),Le}function De(W,$,Q,be){var Le=Y(Q);if(typeof Le!="function")throw Error(n(150));if(Q=Le.call(Q),Q==null)throw Error(n(151));for(var Ve=Le=null,ze=$,Ze=$=0,nr=null,ft=Q.next();ze!==null&&!ft.done;Ze++,ft=Q.next()){ze.index>Ze?(nr=ze,ze=null):nr=ze.sibling;var Rs=ue(W,ze,ft.value,be);if(Rs===null){ze===null&&(ze=nr);break}s&&ze&&Rs.alternate===null&&a(W,ze),$=y(Rs,$,Ze),Ve===null?Le=Rs:Ve.sibling=Rs,Ve=Rs,ze=nr}if(ft.done)return l(W,ze),Ct&&na(W,Ze),Le;if(ze===null){for(;!ft.done;Ze++,ft=Q.next())ft=xe(W,ft.value,be),ft!==null&&($=y(ft,$,Ze),Ve===null?Le=ft:Ve.sibling=ft,Ve=ft);return Ct&&na(W,Ze),Le}for(ze=u(W,ze);!ft.done;Ze++,ft=Q.next())ft=Ce(ze,W,Ze,ft.value,be),ft!==null&&(s&&ft.alternate!==null&&ze.delete(ft.key===null?Ze:ft.key),$=y(ft,$,Ze),Ve===null?Le=ft:Ve.sibling=ft,Ve=ft);return s&&ze.forEach(function(B1){return a(W,B1)}),Ct&&na(W,Ze),Le}function Vt(W,$,Q,be){if(typeof Q=="object"&&Q!==null&&Q.type===q&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case M:e:{for(var Le=Q.key,Ve=$;Ve!==null;){if(Ve.key===Le){if(Le=Q.type,Le===q){if(Ve.tag===7){l(W,Ve.sibling),$=p(Ve,Q.props.children),$.return=W,W=$;break e}}else if(Ve.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===E&&ig(Le)===Ve.type){l(W,Ve.sibling),$=p(Ve,Q.props),$.ref=oo(W,Ve,Q),$.return=W,W=$;break e}l(W,Ve);break}else a(W,Ve);Ve=Ve.sibling}Q.type===q?($=ua(Q.props.children,W.mode,be,Q.key),$.return=W,W=$):(be=hc(Q.type,Q.key,Q.props,null,W.mode,be),be.ref=oo(W,$,Q),be.return=W,W=be)}return S(W);case Z:e:{for(Ve=Q.key;$!==null;){if($.key===Ve)if($.tag===4&&$.stateNode.containerInfo===Q.containerInfo&&$.stateNode.implementation===Q.implementation){l(W,$.sibling),$=p($,Q.children||[]),$.return=W,W=$;break e}else{l(W,$);break}else a(W,$);$=$.sibling}$=Nf(Q,W.mode,be),$.return=W,W=$}return S(W);case E:return Ve=Q._init,Vt(W,$,Ve(Q._payload),be)}if(L(Q))return Ie(W,$,Q,be);if(Y(Q))return De(W,$,Q,be);ql(W,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,$!==null&&$.tag===6?(l(W,$.sibling),$=p($,Q),$.return=W,W=$):(l(W,$),$=jf(Q,W.mode,be),$.return=W,W=$),S(W)):l(W,$)}return Vt}var Wa=og(!0),lg=og(!1),Wl=bs(null),Kl=null,Ka=null,Ru=null;function Au(){Ru=Ka=Kl=null}function Iu(s){var a=Wl.current;wt(Wl),s._currentValue=a}function Ou(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Ga(s,a){Kl=s,Ru=Ka=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Dr=!0),s.firstContext=null)}function rn(s){var a=s._currentValue;if(Ru!==s)if(s={context:s,memoizedValue:a,next:null},Ka===null){if(Kl===null)throw Error(n(308));Ka=s,Kl.dependencies={lanes:0,firstContext:s}}else Ka=Ka.next=s;return a}var sa=null;function Du(s){sa===null?sa=[s]:sa.push(s)}function cg(s,a,l,u){var p=a.interleaved;return p===null?(l.next=l,Du(a)):(l.next=p.next,p.next=l),a.interleaved=l,Xn(s,u)}function Xn(s,a){s.lanes|=a;var l=s.alternate;for(l!==null&&(l.lanes|=a),l=s,s=s.return;s!==null;)s.childLanes|=a,l=s.alternate,l!==null&&(l.childLanes|=a),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Ns=!1;function Mu(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Jn(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ss(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(ut&2)!==0){var p=u.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a,Xn(s,l)}return p=u.interleaved,p===null?(a.next=a,Du(u)):(a.next=p.next,p.next=a),u.interleaved=a,Xn(s,l)}function Gl(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194240)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Zd(s,l)}}function ug(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?p=y=a:y=y.next=a}else p=y=a;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,effects:u.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}function Ql(s,a,l,u){var p=s.updateQueue;Ns=!1;var y=p.firstBaseUpdate,S=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var B=O,X=B.next;B.next=null,S===null?y=X:S.next=X,S=B;var ge=s.alternate;ge!==null&&(ge=ge.updateQueue,O=ge.lastBaseUpdate,O!==S&&(O===null?ge.firstBaseUpdate=X:O.next=X,ge.lastBaseUpdate=B))}if(y!==null){var xe=p.baseState;S=0,ge=X=B=null,O=y;do{var ue=O.lane,Ce=O.eventTime;if((u&ue)===ue){ge!==null&&(ge=ge.next={eventTime:Ce,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var Ie=s,De=O;switch(ue=a,Ce=l,De.tag){case 1:if(Ie=De.payload,typeof Ie=="function"){xe=Ie.call(Ce,xe,ue);break e}xe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=De.payload,ue=typeof Ie=="function"?Ie.call(Ce,xe,ue):Ie,ue==null)break e;xe=se({},xe,ue);break e;case 2:Ns=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,ue=p.effects,ue===null?p.effects=[O]:ue.push(O))}else Ce={eventTime:Ce,lane:ue,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ge===null?(X=ge=Ce,B=xe):ge=ge.next=Ce,S|=ue;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ue=O,O=ue.next,ue.next=null,p.lastBaseUpdate=ue,p.shared.pending=null}}while(!0);if(ge===null&&(B=xe),p.baseState=B,p.firstBaseUpdate=X,p.lastBaseUpdate=ge,a=p.shared.interleaved,a!==null){p=a;do S|=p.lane,p=p.next;while(p!==a)}else y===null&&(p.shared.lanes=0);oa|=S,s.lanes=S,s.memoizedState=xe}}function fg(s,a,l){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var u=s[a],p=u.callback;if(p!==null){if(u.callback=null,u=l,typeof p!="function")throw Error(n(191,p));p.call(u)}}}var lo={},On=bs(lo),co=bs(lo),uo=bs(lo);function aa(s){if(s===lo)throw Error(n(174));return s}function Fu(s,a){switch(yt(uo,a),yt(co,s),yt(On,lo),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:oe(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=oe(a,s)}wt(On),yt(On,a)}function Qa(){wt(On),wt(co),wt(uo)}function mg(s){aa(uo.current);var a=aa(On.current),l=oe(a,s.type);a!==l&&(yt(co,s),yt(On,l))}function Lu(s){co.current===s&&(wt(On),wt(co))}var Pt=bs(0);function Hl(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Bu=[];function $u(){for(var s=0;s<Bu.length;s++)Bu[s]._workInProgressVersionPrimary=null;Bu.length=0}var Zl=I.ReactCurrentDispatcher,Vu=I.ReactCurrentBatchConfig,ia=0,Et=null,Yt=null,tr=null,Yl=!1,fo=!1,mo=0,o1=0;function vr(){throw Error(n(321))}function zu(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!fn(s[l],a[l]))return!1;return!0}function Uu(s,a,l,u,p,y){if(ia=y,Et=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Zl.current=s===null||s.memoizedState===null?u1:f1,s=l(u,p),fo){y=0;do{if(fo=!1,mo=0,25<=y)throw Error(n(301));y+=1,tr=Yt=null,a.updateQueue=null,Zl.current=m1,s=l(u,p)}while(fo)}if(Zl.current=ec,a=Yt!==null&&Yt.next!==null,ia=0,tr=Yt=Et=null,Yl=!1,a)throw Error(n(300));return s}function qu(){var s=mo!==0;return mo=0,s}function Dn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?Et.memoizedState=tr=s:tr=tr.next=s,tr}function nn(){if(Yt===null){var s=Et.alternate;s=s!==null?s.memoizedState:null}else s=Yt.next;var a=tr===null?Et.memoizedState:tr.next;if(a!==null)tr=a,Yt=s;else{if(s===null)throw Error(n(310));Yt=s,s={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},tr===null?Et.memoizedState=tr=s:tr=tr.next=s}return tr}function ho(s,a){return typeof a=="function"?a(s):a}function Wu(s){var a=nn(),l=a.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var u=Yt,p=u.baseQueue,y=l.pending;if(y!==null){if(p!==null){var S=p.next;p.next=y.next,y.next=S}u.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,u=u.baseState;var O=S=null,B=null,X=y;do{var ge=X.lane;if((ia&ge)===ge)B!==null&&(B=B.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),u=X.hasEagerState?X.eagerState:s(u,X.action);else{var xe={lane:ge,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};B===null?(O=B=xe,S=u):B=B.next=xe,Et.lanes|=ge,oa|=ge}X=X.next}while(X!==null&&X!==y);B===null?S=u:B.next=O,fn(u,a.memoizedState)||(Dr=!0),a.memoizedState=u,a.baseState=S,a.baseQueue=B,l.lastRenderedState=u}if(s=l.interleaved,s!==null){p=s;do y=p.lane,Et.lanes|=y,oa|=y,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[a.memoizedState,l.dispatch]}function Ku(s){var a=nn(),l=a.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var u=l.dispatch,p=l.pending,y=a.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do y=s(y,S.action),S=S.next;while(S!==p);fn(y,a.memoizedState)||(Dr=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,u]}function hg(){}function pg(s,a){var l=Et,u=nn(),p=a(),y=!fn(u.memoizedState,p);if(y&&(u.memoizedState=p,Dr=!0),u=u.queue,Gu(vg.bind(null,l,u,s),[s]),u.getSnapshot!==a||y||tr!==null&&tr.memoizedState.tag&1){if(l.flags|=2048,po(9,xg.bind(null,l,u,p,a),void 0,null),rr===null)throw Error(n(349));(ia&30)!==0||gg(l,a,p)}return p}function gg(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Et.updateQueue,a===null?(a={lastEffect:null,stores:null},Et.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function xg(s,a,l,u){a.value=l,a.getSnapshot=u,yg(a)&&bg(s)}function vg(s,a,l){return l(function(){yg(a)&&bg(s)})}function yg(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!fn(s,l)}catch{return!0}}function bg(s){var a=Xn(s,1);a!==null&&xn(a,s,1,-1)}function wg(s){var a=Dn();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:s},a.queue=s,s=s.dispatch=d1.bind(null,Et,s),[a.memoizedState,s]}function po(s,a,l,u){return s={tag:s,create:a,destroy:l,deps:u,next:null},a=Et.updateQueue,a===null?(a={lastEffect:null,stores:null},Et.updateQueue=a,a.lastEffect=s.next=s):(l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s)),s}function jg(){return nn().memoizedState}function Xl(s,a,l,u){var p=Dn();Et.flags|=s,p.memoizedState=po(1|a,l,void 0,u===void 0?null:u)}function Jl(s,a,l,u){var p=nn();u=u===void 0?null:u;var y=void 0;if(Yt!==null){var S=Yt.memoizedState;if(y=S.destroy,u!==null&&zu(u,S.deps)){p.memoizedState=po(a,l,y,u);return}}Et.flags|=s,p.memoizedState=po(1|a,l,y,u)}function Ng(s,a){return Xl(8390656,8,s,a)}function Gu(s,a){return Jl(2048,8,s,a)}function Sg(s,a){return Jl(4,2,s,a)}function Cg(s,a){return Jl(4,4,s,a)}function kg(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Pg(s,a,l){return l=l!=null?l.concat([s]):null,Jl(4,4,kg.bind(null,a,s),l)}function Qu(){}function Eg(s,a){var l=nn();a=a===void 0?null:a;var u=l.memoizedState;return u!==null&&a!==null&&zu(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function Tg(s,a){var l=nn();a=a===void 0?null:a;var u=l.memoizedState;return u!==null&&a!==null&&zu(a,u[1])?u[0]:(s=s(),l.memoizedState=[s,a],s)}function _g(s,a,l){return(ia&21)===0?(s.baseState&&(s.baseState=!1,Dr=!0),s.memoizedState=l):(fn(l,a)||(l=ip(),Et.lanes|=l,oa|=l,s.baseState=!0),a)}function l1(s,a){var l=ht;ht=l!==0&&4>l?l:4,s(!0);var u=Vu.transition;Vu.transition={};try{s(!1),a()}finally{ht=l,Vu.transition=u}}function Rg(){return nn().memoizedState}function c1(s,a,l){var u=Es(s);if(l={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null},Ag(s))Ig(a,l);else if(l=cg(s,a,l,u),l!==null){var p=kr();xn(l,s,u,p),Og(l,a,u)}}function d1(s,a,l){var u=Es(s),p={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ag(s))Ig(a,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var S=a.lastRenderedState,O=y(S,l);if(p.hasEagerState=!0,p.eagerState=O,fn(O,S)){var B=a.interleaved;B===null?(p.next=p,Du(a)):(p.next=B.next,B.next=p),a.interleaved=p;return}}catch{}finally{}l=cg(s,a,p,u),l!==null&&(p=kr(),xn(l,s,u,p),Og(l,a,u))}}function Ag(s){var a=s.alternate;return s===Et||a!==null&&a===Et}function Ig(s,a){fo=Yl=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Og(s,a,l){if((l&4194240)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Zd(s,l)}}var ec={readContext:rn,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},u1={readContext:rn,useCallback:function(s,a){return Dn().memoizedState=[s,a===void 0?null:a],s},useContext:rn,useEffect:Ng,useImperativeHandle:function(s,a,l){return l=l!=null?l.concat([s]):null,Xl(4194308,4,kg.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Xl(4194308,4,s,a)},useInsertionEffect:function(s,a){return Xl(4,2,s,a)},useMemo:function(s,a){var l=Dn();return a=a===void 0?null:a,s=s(),l.memoizedState=[s,a],s},useReducer:function(s,a,l){var u=Dn();return a=l!==void 0?l(a):a,u.memoizedState=u.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},u.queue=s,s=s.dispatch=c1.bind(null,Et,s),[u.memoizedState,s]},useRef:function(s){var a=Dn();return s={current:s},a.memoizedState=s},useState:wg,useDebugValue:Qu,useDeferredValue:function(s){return Dn().memoizedState=s},useTransition:function(){var s=wg(!1),a=s[0];return s=l1.bind(null,s[1]),Dn().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,l){var u=Et,p=Dn();if(Ct){if(l===void 0)throw Error(n(407));l=l()}else{if(l=a(),rr===null)throw Error(n(349));(ia&30)!==0||gg(u,a,l)}p.memoizedState=l;var y={value:l,getSnapshot:a};return p.queue=y,Ng(vg.bind(null,u,y,s),[s]),u.flags|=2048,po(9,xg.bind(null,u,y,l,a),void 0,null),l},useId:function(){var s=Dn(),a=rr.identifierPrefix;if(Ct){var l=Yn,u=Zn;l=(u&~(1<<32-un(u)-1)).toString(32)+l,a=":"+a+"R"+l,l=mo++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=o1++,a=":"+a+"r"+l.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},f1={readContext:rn,useCallback:Eg,useContext:rn,useEffect:Gu,useImperativeHandle:Pg,useInsertionEffect:Sg,useLayoutEffect:Cg,useMemo:Tg,useReducer:Wu,useRef:jg,useState:function(){return Wu(ho)},useDebugValue:Qu,useDeferredValue:function(s){var a=nn();return _g(a,Yt.memoizedState,s)},useTransition:function(){var s=Wu(ho)[0],a=nn().memoizedState;return[s,a]},useMutableSource:hg,useSyncExternalStore:pg,useId:Rg,unstable_isNewReconciler:!1},m1={readContext:rn,useCallback:Eg,useContext:rn,useEffect:Gu,useImperativeHandle:Pg,useInsertionEffect:Sg,useLayoutEffect:Cg,useMemo:Tg,useReducer:Ku,useRef:jg,useState:function(){return Ku(ho)},useDebugValue:Qu,useDeferredValue:function(s){var a=nn();return Yt===null?a.memoizedState=s:_g(a,Yt.memoizedState,s)},useTransition:function(){var s=Ku(ho)[0],a=nn().memoizedState;return[s,a]},useMutableSource:hg,useSyncExternalStore:pg,useId:Rg,unstable_isNewReconciler:!1};function hn(s,a){if(s&&s.defaultProps){a=se({},a),s=s.defaultProps;for(var l in s)a[l]===void 0&&(a[l]=s[l]);return a}return a}function Hu(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:se({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var tc={isMounted:function(s){return(s=s._reactInternals)?Js(s)===s:!1},enqueueSetState:function(s,a,l){s=s._reactInternals;var u=kr(),p=Es(s),y=Jn(u,p);y.payload=a,l!=null&&(y.callback=l),a=Ss(s,y,p),a!==null&&(xn(a,s,p,u),Gl(a,s,p))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=kr(),p=Es(s),y=Jn(u,p);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=Ss(s,y,p),a!==null&&(xn(a,s,p,u),Gl(a,s,p))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=kr(),u=Es(s),p=Jn(l,u);p.tag=2,a!=null&&(p.callback=a),a=Ss(s,p,u),a!==null&&(xn(a,s,u,l),Gl(a,s,u))}};function Dg(s,a,l,u,p,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,S):a.prototype&&a.prototype.isPureReactComponent?!eo(l,u)||!eo(p,y):!0}function Mg(s,a,l){var u=!1,p=ws,y=a.contextType;return typeof y=="object"&&y!==null?y=rn(y):(p=Or(a)?ta:xr.current,u=a.contextTypes,y=(u=u!=null)?Va(s,p):ws),a=new a(l,y),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=tc,s.stateNode=a,a._reactInternals=s,u&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=y),a}function Fg(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&tc.enqueueReplaceState(a,a.state,null)}function Zu(s,a,l,u){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},Mu(s);var y=a.contextType;typeof y=="object"&&y!==null?p.context=rn(y):(y=Or(a)?ta:xr.current,p.context=Va(s,y)),p.state=s.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Hu(s,a,y,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(a=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),a!==p.state&&tc.enqueueReplaceState(p,p.state,null),Ql(s,l,p,u),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function Ha(s,a){try{var l="",u=a;do l+=ae(u),u=u.return;while(u);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:a,stack:p,digest:null}}function Yu(s,a,l){return{value:s,source:null,stack:l??null,digest:a??null}}function Xu(s,a){try{console.error(a.value)}catch(l){setTimeout(function(){throw l})}}var h1=typeof WeakMap=="function"?WeakMap:Map;function Lg(s,a,l){l=Jn(-1,l),l.tag=3,l.payload={element:null};var u=a.value;return l.callback=function(){lc||(lc=!0,hf=u),Xu(s,a)},l}function Bg(s,a,l){l=Jn(-1,l),l.tag=3;var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var p=a.value;l.payload=function(){return u(p)},l.callback=function(){Xu(s,a)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Xu(s,a),typeof u!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),l}function $g(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new h1;var p=new Set;u.set(a,p)}else p=u.get(a),p===void 0&&(p=new Set,u.set(a,p));p.has(l)||(p.add(l),s=E1.bind(null,s,a,l),a.then(s,s))}function Vg(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function zg(s,a,l,u,p){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(a=Jn(-1,1),a.tag=2,Ss(l,a,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var p1=I.ReactCurrentOwner,Dr=!1;function Cr(s,a,l,u){a.child=s===null?lg(a,null,l,u):Wa(a,s.child,l,u)}function Ug(s,a,l,u,p){l=l.render;var y=a.ref;return Ga(a,p),u=Uu(s,a,l,u,y,p),l=qu(),s!==null&&!Dr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~p,es(s,a,p)):(Ct&&l&&ku(a),a.flags|=1,Cr(s,a,u,p),a.child)}function qg(s,a,l,u,p){if(s===null){var y=l.type;return typeof y=="function"&&!wf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(a.tag=15,a.type=y,Wg(s,a,y,u,p)):(s=hc(l.type,null,u,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,(s.lanes&p)===0){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:eo,l(S,u)&&s.ref===a.ref)return es(s,a,p)}return a.flags|=1,s=_s(y,u),s.ref=a.ref,s.return=a,a.child=s}function Wg(s,a,l,u,p){if(s!==null){var y=s.memoizedProps;if(eo(y,u)&&s.ref===a.ref)if(Dr=!1,a.pendingProps=u=y,(s.lanes&p)!==0)(s.flags&131072)!==0&&(Dr=!0);else return a.lanes=s.lanes,es(s,a,p)}return Ju(s,a,l,u,p)}function Kg(s,a,l){var u=a.pendingProps,p=u.children,y=s!==null?s.memoizedState:null;if(u.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Ya,Gr),Gr|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,yt(Ya,Gr),Gr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=y!==null?y.baseLanes:l,yt(Ya,Gr),Gr|=u}else y!==null?(u=y.baseLanes|l,a.memoizedState=null):u=l,yt(Ya,Gr),Gr|=u;return Cr(s,a,p,l),a.child}function Gg(s,a){var l=a.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(a.flags|=512,a.flags|=2097152)}function Ju(s,a,l,u,p){var y=Or(l)?ta:xr.current;return y=Va(a,y),Ga(a,p),l=Uu(s,a,l,u,y,p),u=qu(),s!==null&&!Dr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~p,es(s,a,p)):(Ct&&u&&ku(a),a.flags|=1,Cr(s,a,l,p),a.child)}function Qg(s,a,l,u,p){if(Or(l)){var y=!0;Bl(a)}else y=!1;if(Ga(a,p),a.stateNode===null)nc(s,a),Mg(a,l,u),Zu(a,l,u,p),u=!0;else if(s===null){var S=a.stateNode,O=a.memoizedProps;S.props=O;var B=S.context,X=l.contextType;typeof X=="object"&&X!==null?X=rn(X):(X=Or(l)?ta:xr.current,X=Va(a,X));var ge=l.getDerivedStateFromProps,xe=typeof ge=="function"||typeof S.getSnapshotBeforeUpdate=="function";xe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==u||B!==X)&&Fg(a,S,u,X),Ns=!1;var ue=a.memoizedState;S.state=ue,Ql(a,u,S,p),B=a.memoizedState,O!==u||ue!==B||Ir.current||Ns?(typeof ge=="function"&&(Hu(a,l,ge,u),B=a.memoizedState),(O=Ns||Dg(a,l,O,u,ue,B,X))?(xe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=B),S.props=u,S.state=B,S.context=X,u=O):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{S=a.stateNode,dg(s,a),O=a.memoizedProps,X=a.type===a.elementType?O:hn(a.type,O),S.props=X,xe=a.pendingProps,ue=S.context,B=l.contextType,typeof B=="object"&&B!==null?B=rn(B):(B=Or(l)?ta:xr.current,B=Va(a,B));var Ce=l.getDerivedStateFromProps;(ge=typeof Ce=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==xe||ue!==B)&&Fg(a,S,u,B),Ns=!1,ue=a.memoizedState,S.state=ue,Ql(a,u,S,p);var Ie=a.memoizedState;O!==xe||ue!==Ie||Ir.current||Ns?(typeof Ce=="function"&&(Hu(a,l,Ce,u),Ie=a.memoizedState),(X=Ns||Dg(a,l,X,u,ue,Ie,B)||!1)?(ge||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(u,Ie,B),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(u,Ie,B)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===s.memoizedProps&&ue===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ue===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Ie),S.props=u,S.state=Ie,S.context=B,u=X):(typeof S.componentDidUpdate!="function"||O===s.memoizedProps&&ue===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ue===s.memoizedState||(a.flags|=1024),u=!1)}return ef(s,a,l,u,y,p)}function ef(s,a,l,u,p,y){Gg(s,a);var S=(a.flags&128)!==0;if(!u&&!S)return p&&Jp(a,l,!1),es(s,a,y);u=a.stateNode,p1.current=a;var O=S&&typeof l.getDerivedStateFromError!="function"?null:u.render();return a.flags|=1,s!==null&&S?(a.child=Wa(a,s.child,null,y),a.child=Wa(a,null,O,y)):Cr(s,a,O,y),a.memoizedState=u.state,p&&Jp(a,l,!0),a.child}function Hg(s){var a=s.stateNode;a.pendingContext?Yp(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Yp(s,a.context,!1),Fu(s,a.containerInfo)}function Zg(s,a,l,u,p){return qa(),_u(p),a.flags|=256,Cr(s,a,l,u),a.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function rf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Yg(s,a,l){var u=a.pendingProps,p=Pt.current,y=!1,S=(a.flags&128)!==0,O;if((O=S)||(O=s!==null&&s.memoizedState===null?!1:(p&2)!==0),O?(y=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),yt(Pt,p&1),s===null)return Tu(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(S=u.children,s=u.fallback,y?(u=a.mode,y=a.child,S={mode:"hidden",children:S},(u&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=S):y=pc(S,u,0,null),s=ua(s,u,l,null),y.return=a,s.return=a,y.sibling=s,a.child=y,a.child.memoizedState=rf(l),a.memoizedState=tf,s):nf(a,S));if(p=s.memoizedState,p!==null&&(O=p.dehydrated,O!==null))return g1(s,a,S,u,O,p,l);if(y){y=u.fallback,S=a.mode,p=s.child,O=p.sibling;var B={mode:"hidden",children:u.children};return(S&1)===0&&a.child!==p?(u=a.child,u.childLanes=0,u.pendingProps=B,a.deletions=null):(u=_s(p,B),u.subtreeFlags=p.subtreeFlags&14680064),O!==null?y=_s(O,y):(y=ua(y,S,l,null),y.flags|=2),y.return=a,u.return=a,u.sibling=y,a.child=u,u=y,y=a.child,S=s.child.memoizedState,S=S===null?rf(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=s.childLanes&~l,a.memoizedState=tf,u}return y=s.child,s=y.sibling,u=_s(y,{mode:"visible",children:u.children}),(a.mode&1)===0&&(u.lanes=l),u.return=a,u.sibling=null,s!==null&&(l=a.deletions,l===null?(a.deletions=[s],a.flags|=16):l.push(s)),a.child=u,a.memoizedState=null,u}function nf(s,a){return a=pc({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function rc(s,a,l,u){return u!==null&&_u(u),Wa(a,s.child,null,l),s=nf(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function g1(s,a,l,u,p,y,S){if(l)return a.flags&256?(a.flags&=-257,u=Yu(Error(n(422))),rc(s,a,S,u)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(y=u.fallback,p=a.mode,u=pc({mode:"visible",children:u.children},p,0,null),y=ua(y,p,S,null),y.flags|=2,u.return=a,y.return=a,u.sibling=y,a.child=u,(a.mode&1)!==0&&Wa(a,s.child,null,S),a.child.memoizedState=rf(S),a.memoizedState=tf,y);if((a.mode&1)===0)return rc(s,a,S,null);if(p.data==="$!"){if(u=p.nextSibling&&p.nextSibling.dataset,u)var O=u.dgst;return u=O,y=Error(n(419)),u=Yu(y,u,void 0),rc(s,a,S,u)}if(O=(S&s.childLanes)!==0,Dr||O){if(u=rr,u!==null){switch(S&-S){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(u.suspendedLanes|S))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Xn(s,p),xn(u,s,p,-1))}return bf(),u=Yu(Error(n(421))),rc(s,a,S,u)}return p.data==="$?"?(a.flags|=128,a.child=s.child,a=T1.bind(null,s),p._reactRetry=a,null):(s=y.treeContext,Kr=ys(p.nextSibling),Wr=a,Ct=!0,mn=null,s!==null&&(en[tn++]=Zn,en[tn++]=Yn,en[tn++]=ra,Zn=s.id,Yn=s.overflow,ra=a),a=nf(a,u.children),a.flags|=4096,a)}function Xg(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Ou(s.return,a,l)}function sf(s,a,l,u,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=p)}function Jg(s,a,l){var u=a.pendingProps,p=u.revealOrder,y=u.tail;if(Cr(s,a,u.children,l),u=Pt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Xg(s,l,a);else if(s.tag===19)Xg(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}if(yt(Pt,u),(a.mode&1)===0)a.memoizedState=null;else switch(p){case"forwards":for(l=a.child,p=null;l!==null;)s=l.alternate,s!==null&&Hl(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),sf(a,!1,p,l,y);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&Hl(s)===null){a.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}sf(a,!0,l,null,y);break;case"together":sf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function nc(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function es(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),oa|=a.lanes,(l&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,l=_s(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=_s(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function x1(s,a,l){switch(a.tag){case 3:Hg(a),qa();break;case 5:mg(a);break;case 1:Or(a.type)&&Bl(a);break;case 4:Fu(a,a.stateNode.containerInfo);break;case 10:var u=a.type._context,p=a.memoizedProps.value;yt(Wl,u._currentValue),u._currentValue=p;break;case 13:if(u=a.memoizedState,u!==null)return u.dehydrated!==null?(yt(Pt,Pt.current&1),a.flags|=128,null):(l&a.child.childLanes)!==0?Yg(s,a,l):(yt(Pt,Pt.current&1),s=es(s,a,l),s!==null?s.sibling:null);yt(Pt,Pt.current&1);break;case 19:if(u=(l&a.childLanes)!==0,(s.flags&128)!==0){if(u)return Jg(s,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),yt(Pt,Pt.current),u)break;return null;case 22:case 23:return a.lanes=0,Kg(s,a,l)}return es(s,a,l)}var ex,af,tx,rx;ex=function(s,a){for(var l=a.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},af=function(){},tx=function(s,a,l,u){var p=s.memoizedProps;if(p!==u){s=a.stateNode,aa(On.current);var y=null;switch(l){case"input":p=gr(s,p),u=gr(s,u),y=[];break;case"select":p=se({},p,{value:void 0}),u=se({},u,{value:void 0}),y=[];break;case"textarea":p=ee(s,p),u=ee(s,u),y=[];break;default:typeof p.onClick!="function"&&typeof u.onClick=="function"&&(s.onclick=Ml)}Ea(l,u);var S;l=null;for(X in p)if(!u.hasOwnProperty(X)&&p.hasOwnProperty(X)&&p[X]!=null)if(X==="style"){var O=p[X];for(S in O)O.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(o.hasOwnProperty(X)?y||(y=[]):(y=y||[]).push(X,null));for(X in u){var B=u[X];if(O=p?.[X],u.hasOwnProperty(X)&&B!==O&&(B!=null||O!=null))if(X==="style")if(O){for(S in O)!O.hasOwnProperty(S)||B&&B.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in B)B.hasOwnProperty(S)&&O[S]!==B[S]&&(l||(l={}),l[S]=B[S])}else l||(y||(y=[]),y.push(X,l)),l=B;else X==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,O=O?O.__html:void 0,B!=null&&O!==B&&(y=y||[]).push(X,B)):X==="children"?typeof B!="string"&&typeof B!="number"||(y=y||[]).push(X,""+B):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(o.hasOwnProperty(X)?(B!=null&&X==="onScroll"&&bt("scroll",s),y||O===B||(y=[])):(y=y||[]).push(X,B))}l&&(y=y||[]).push("style",l);var X=y;(a.updateQueue=X)&&(a.flags|=4)}},rx=function(s,a,l,u){l!==u&&(a.flags|=4)};function go(s,a){if(!Ct)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function yr(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&14680064,u|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function v1(s,a,l){var u=a.pendingProps;switch(Pu(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(a),null;case 1:return Or(a.type)&&Ll(),yr(a),null;case 3:return u=a.stateNode,Qa(),wt(Ir),wt(xr),$u(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Ul(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,mn!==null&&(xf(mn),mn=null))),af(s,a),yr(a),null;case 5:Lu(a);var p=aa(uo.current);if(l=a.type,s!==null&&a.stateNode!=null)tx(s,a,l,u,p),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!u){if(a.stateNode===null)throw Error(n(166));return yr(a),null}if(s=aa(On.current),Ul(a)){u=a.stateNode,l=a.type;var y=a.memoizedProps;switch(u[In]=a,u[ao]=y,s=(a.mode&1)!==0,l){case"dialog":bt("cancel",u),bt("close",u);break;case"iframe":case"object":case"embed":bt("load",u);break;case"video":case"audio":for(p=0;p<ro.length;p++)bt(ro[p],u);break;case"source":bt("error",u);break;case"img":case"image":case"link":bt("error",u),bt("load",u);break;case"details":bt("toggle",u);break;case"input":qt(u,y),bt("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!y.multiple},bt("invalid",u);break;case"textarea":Ne(u,y),bt("invalid",u)}Ea(l,y),p=null;for(var S in y)if(y.hasOwnProperty(S)){var O=y[S];S==="children"?typeof O=="string"?u.textContent!==O&&(y.suppressHydrationWarning!==!0&&Dl(u.textContent,O,s),p=["children",O]):typeof O=="number"&&u.textContent!==""+O&&(y.suppressHydrationWarning!==!0&&Dl(u.textContent,O,s),p=["children",""+O]):o.hasOwnProperty(S)&&O!=null&&S==="onScroll"&&bt("scroll",u)}switch(l){case"input":ct(u),fs(u,y,!0);break;case"textarea":ct(u),ve(u);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(u.onclick=Ml)}u=p,a.updateQueue=u,u!==null&&(a.flags|=4)}else{S=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=P(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof u.is=="string"?s=S.createElement(l,{is:u.is}):(s=S.createElement(l),l==="select"&&(S=s,u.multiple?S.multiple=!0:u.size&&(S.size=u.size))):s=S.createElementNS(s,l),s[In]=a,s[ao]=u,ex(s,a,!1,!1),a.stateNode=s;e:{switch(S=Li(l,u),l){case"dialog":bt("cancel",s),bt("close",s),p=u;break;case"iframe":case"object":case"embed":bt("load",s),p=u;break;case"video":case"audio":for(p=0;p<ro.length;p++)bt(ro[p],s);p=u;break;case"source":bt("error",s),p=u;break;case"img":case"image":case"link":bt("error",s),bt("load",s),p=u;break;case"details":bt("toggle",s),p=u;break;case"input":qt(s,u),p=gr(s,u),bt("invalid",s);break;case"option":p=u;break;case"select":s._wrapperState={wasMultiple:!!u.multiple},p=se({},u,{value:void 0}),bt("invalid",s);break;case"textarea":Ne(s,u),p=ee(s,u),bt("invalid",s);break;default:p=u}Ea(l,p),O=p;for(y in O)if(O.hasOwnProperty(y)){var B=O[y];y==="style"?Pa(s,B):y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&qe(s,B)):y==="children"?typeof B=="string"?(l!=="textarea"||B!=="")&&dt(s,B):typeof B=="number"&&dt(s,""+B):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?B!=null&&y==="onScroll"&&bt("scroll",s):B!=null&&F(s,y,B,S))}switch(l){case"input":ct(s),fs(s,u,!1);break;case"textarea":ct(s),ve(s);break;case"option":u.value!=null&&s.setAttribute("value",""+ce(u.value));break;case"select":s.multiple=!!u.multiple,y=u.value,y!=null?G(s,!!u.multiple,y,!1):u.defaultValue!=null&&G(s,!!u.multiple,u.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=Ml)}switch(l){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return yr(a),null;case 6:if(s&&a.stateNode!=null)rx(s,a,s.memoizedProps,u);else{if(typeof u!="string"&&a.stateNode===null)throw Error(n(166));if(l=aa(uo.current),aa(On.current),Ul(a)){if(u=a.stateNode,l=a.memoizedProps,u[In]=a,(y=u.nodeValue!==l)&&(s=Wr,s!==null))switch(s.tag){case 3:Dl(u.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Dl(u.nodeValue,l,(s.mode&1)!==0)}y&&(a.flags|=4)}else u=(l.nodeType===9?l:l.ownerDocument).createTextNode(u),u[In]=a,a.stateNode=u}return yr(a),null;case 13:if(wt(Pt),u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ct&&Kr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)ag(),qa(),a.flags|=98560,y=!1;else if(y=Ul(a),u!==null&&u.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[In]=a}else qa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;yr(a),y=!1}else mn!==null&&(xf(mn),mn=null),y=!0;if(!y)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=l,a):(u=u!==null,u!==(s!==null&&s.memoizedState!==null)&&u&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Pt.current&1)!==0?Xt===0&&(Xt=3):bf())),a.updateQueue!==null&&(a.flags|=4),yr(a),null);case 4:return Qa(),af(s,a),s===null&&no(a.stateNode.containerInfo),yr(a),null;case 10:return Iu(a.type._context),yr(a),null;case 17:return Or(a.type)&&Ll(),yr(a),null;case 19:if(wt(Pt),y=a.memoizedState,y===null)return yr(a),null;if(u=(a.flags&128)!==0,S=y.rendering,S===null)if(u)go(y,!1);else{if(Xt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(S=Hl(s),S!==null){for(a.flags|=128,go(y,!1),u=S.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),a.subtreeFlags=0,u=l,l=a.child;l!==null;)y=l,s=u,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,s=S.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return yt(Pt,Pt.current&1|2),a.child}s=s.sibling}y.tail!==null&&$t()>Xa&&(a.flags|=128,u=!0,go(y,!1),a.lanes=4194304)}else{if(!u)if(s=Hl(S),s!==null){if(a.flags|=128,u=!0,l=s.updateQueue,l!==null&&(a.updateQueue=l,a.flags|=4),go(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!Ct)return yr(a),null}else 2*$t()-y.renderingStartTime>Xa&&l!==1073741824&&(a.flags|=128,u=!0,go(y,!1),a.lanes=4194304);y.isBackwards?(S.sibling=a.child,a.child=S):(l=y.last,l!==null?l.sibling=S:a.child=S,y.last=S)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=$t(),a.sibling=null,l=Pt.current,yt(Pt,u?l&1|2:l&1),a):(yr(a),null);case 22:case 23:return yf(),u=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==u&&(a.flags|=8192),u&&(a.mode&1)!==0?(Gr&1073741824)!==0&&(yr(a),a.subtreeFlags&6&&(a.flags|=8192)):yr(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function y1(s,a){switch(Pu(a),a.tag){case 1:return Or(a.type)&&Ll(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Qa(),wt(Ir),wt(xr),$u(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Lu(a),null;case 13:if(wt(Pt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));qa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return wt(Pt),null;case 4:return Qa(),null;case 10:return Iu(a.type._context),null;case 22:case 23:return yf(),null;case 24:return null;default:return null}}var sc=!1,br=!1,b1=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Za(s,a){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(u){At(s,a,u)}else l.current=null}function of(s,a,l){try{l()}catch(u){At(s,a,u)}}var nx=!1;function w1(s,a){if(vu=Sl,s=Dp(),du(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,O=-1,B=-1,X=0,ge=0,xe=s,ue=null;t:for(;;){for(var Ce;xe!==l||p!==0&&xe.nodeType!==3||(O=S+p),xe!==y||u!==0&&xe.nodeType!==3||(B=S+u),xe.nodeType===3&&(S+=xe.nodeValue.length),(Ce=xe.firstChild)!==null;)ue=xe,xe=Ce;for(;;){if(xe===s)break t;if(ue===l&&++X===p&&(O=S),ue===y&&++ge===u&&(B=S),(Ce=xe.nextSibling)!==null)break;xe=ue,ue=xe.parentNode}xe=Ce}l=O===-1||B===-1?null:{start:O,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(yu={focusedElem:s,selectionRange:l},Sl=!1,Ee=a;Ee!==null;)if(a=Ee,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ee=s;else for(;Ee!==null;){a=Ee;try{var Ie=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var De=Ie.memoizedProps,Vt=Ie.memoizedState,W=a.stateNode,$=W.getSnapshotBeforeUpdate(a.elementType===a.type?De:hn(a.type,De),Vt);W.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(be){At(a,a.return,be)}if(s=a.sibling,s!==null){s.return=a.return,Ee=s;break}Ee=a.return}return Ie=nx,nx=!1,Ie}function xo(s,a,l){var u=a.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&s)===s){var y=p.destroy;p.destroy=void 0,y!==void 0&&of(a,l,y)}p=p.next}while(p!==u)}}function ac(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&s)===s){var u=l.create;l.destroy=u()}l=l.next}while(l!==a)}}function lf(s){var a=s.ref;if(a!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof a=="function"?a(s):a.current=s}}function sx(s){var a=s.alternate;a!==null&&(s.alternate=null,sx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[In],delete a[ao],delete a[Nu],delete a[n1],delete a[s1])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function ax(s){return s.tag===5||s.tag===3||s.tag===4}function ix(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ax(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cf(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(s,a):l.insertBefore(s,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(s,l)):(a=l,a.appendChild(s)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Ml));else if(u!==4&&(s=s.child,s!==null))for(cf(s,a,l),s=s.sibling;s!==null;)cf(s,a,l),s=s.sibling}function df(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(s=s.child,s!==null))for(df(s,a,l),s=s.sibling;s!==null;)df(s,a,l),s=s.sibling}var ur=null,pn=!1;function Cs(s,a,l){for(l=l.child;l!==null;)ox(s,a,l),l=l.sibling}function ox(s,a,l){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(vl,l)}catch{}switch(l.tag){case 5:br||Za(l,a);case 6:var u=ur,p=pn;ur=null,Cs(s,a,l),ur=u,pn=p,ur!==null&&(pn?(s=ur,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):ur.removeChild(l.stateNode));break;case 18:ur!==null&&(pn?(s=ur,l=l.stateNode,s.nodeType===8?ju(s.parentNode,l):s.nodeType===1&&ju(s,l),Qi(s)):ju(ur,l.stateNode));break;case 4:u=ur,p=pn,ur=l.stateNode.containerInfo,pn=!0,Cs(s,a,l),ur=u,pn=p;break;case 0:case 11:case 14:case 15:if(!br&&(u=l.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){p=u=u.next;do{var y=p,S=y.destroy;y=y.tag,S!==void 0&&((y&2)!==0||(y&4)!==0)&&of(l,a,S),p=p.next}while(p!==u)}Cs(s,a,l);break;case 1:if(!br&&(Za(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=l.memoizedProps,u.state=l.memoizedState,u.componentWillUnmount()}catch(O){At(l,a,O)}Cs(s,a,l);break;case 21:Cs(s,a,l);break;case 22:l.mode&1?(br=(u=br)||l.memoizedState!==null,Cs(s,a,l),br=u):Cs(s,a,l);break;default:Cs(s,a,l)}}function lx(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new b1),a.forEach(function(u){var p=_1.bind(null,s,u);l.has(u)||(l.add(u),u.then(p,p))})}}function gn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];try{var y=s,S=a,O=S;e:for(;O!==null;){switch(O.tag){case 5:ur=O.stateNode,pn=!1;break e;case 3:ur=O.stateNode.containerInfo,pn=!0;break e;case 4:ur=O.stateNode.containerInfo,pn=!0;break e}O=O.return}if(ur===null)throw Error(n(160));ox(y,S,p),ur=null,pn=!1;var B=p.alternate;B!==null&&(B.return=null),p.return=null}catch(X){At(p,a,X)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)cx(a,s),a=a.sibling}function cx(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(gn(a,s),Mn(s),u&4){try{xo(3,s,s.return),ac(3,s)}catch(De){At(s,s.return,De)}try{xo(5,s,s.return)}catch(De){At(s,s.return,De)}}break;case 1:gn(a,s),Mn(s),u&512&&l!==null&&Za(l,l.return);break;case 5:if(gn(a,s),Mn(s),u&512&&l!==null&&Za(l,l.return),s.flags&32){var p=s.stateNode;try{dt(p,"")}catch(De){At(s,s.return,De)}}if(u&4&&(p=s.stateNode,p!=null)){var y=s.memoizedProps,S=l!==null?l.memoizedProps:y,O=s.type,B=s.updateQueue;if(s.updateQueue=null,B!==null)try{O==="input"&&y.type==="radio"&&y.name!=null&&Lt(p,y),Li(O,S);var X=Li(O,y);for(S=0;S<B.length;S+=2){var ge=B[S],xe=B[S+1];ge==="style"?Pa(p,xe):ge==="dangerouslySetInnerHTML"?qe(p,xe):ge==="children"?dt(p,xe):F(p,ge,xe,X)}switch(O){case"input":Ar(p,y);break;case"textarea":je(p,y);break;case"select":var ue=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var Ce=y.value;Ce!=null?G(p,!!y.multiple,Ce,!1):ue!==!!y.multiple&&(y.defaultValue!=null?G(p,!!y.multiple,y.defaultValue,!0):G(p,!!y.multiple,y.multiple?[]:"",!1))}p[ao]=y}catch(De){At(s,s.return,De)}}break;case 6:if(gn(a,s),Mn(s),u&4){if(s.stateNode===null)throw Error(n(162));p=s.stateNode,y=s.memoizedProps;try{p.nodeValue=y}catch(De){At(s,s.return,De)}}break;case 3:if(gn(a,s),Mn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Qi(a.containerInfo)}catch(De){At(s,s.return,De)}break;case 4:gn(a,s),Mn(s);break;case 13:gn(a,s),Mn(s),p=s.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(mf=$t())),u&4&&lx(s);break;case 22:if(ge=l!==null&&l.memoizedState!==null,s.mode&1?(br=(X=br)||ge,gn(a,s),br=X):gn(a,s),Mn(s),u&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ge&&(s.mode&1)!==0)for(Ee=s,ge=s.child;ge!==null;){for(xe=Ee=ge;Ee!==null;){switch(ue=Ee,Ce=ue.child,ue.tag){case 0:case 11:case 14:case 15:xo(4,ue,ue.return);break;case 1:Za(ue,ue.return);var Ie=ue.stateNode;if(typeof Ie.componentWillUnmount=="function"){u=ue,l=ue.return;try{a=u,Ie.props=a.memoizedProps,Ie.state=a.memoizedState,Ie.componentWillUnmount()}catch(De){At(u,l,De)}}break;case 5:Za(ue,ue.return);break;case 22:if(ue.memoizedState!==null){fx(xe);continue}}Ce!==null?(Ce.return=ue,Ee=Ce):fx(xe)}ge=ge.sibling}e:for(ge=null,xe=s;;){if(xe.tag===5){if(ge===null){ge=xe;try{p=xe.stateNode,X?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(O=xe.stateNode,B=xe.memoizedProps.style,S=B!=null&&B.hasOwnProperty("display")?B.display:null,O.style.display=ka("display",S))}catch(De){At(s,s.return,De)}}}else if(xe.tag===6){if(ge===null)try{xe.stateNode.nodeValue=X?"":xe.memoizedProps}catch(De){At(s,s.return,De)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===s)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===s)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===s)break e;ge===xe&&(ge=null),xe=xe.return}ge===xe&&(ge=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:gn(a,s),Mn(s),u&4&&lx(s);break;case 21:break;default:gn(a,s),Mn(s)}}function Mn(s){var a=s.flags;if(a&2){try{e:{for(var l=s.return;l!==null;){if(ax(l)){var u=l;break e}l=l.return}throw Error(n(160))}switch(u.tag){case 5:var p=u.stateNode;u.flags&32&&(dt(p,""),u.flags&=-33);var y=ix(s);df(s,y,p);break;case 3:case 4:var S=u.stateNode.containerInfo,O=ix(s);cf(s,O,S);break;default:throw Error(n(161))}}catch(B){At(s,s.return,B)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function j1(s,a,l){Ee=s,dx(s)}function dx(s,a,l){for(var u=(s.mode&1)!==0;Ee!==null;){var p=Ee,y=p.child;if(p.tag===22&&u){var S=p.memoizedState!==null||sc;if(!S){var O=p.alternate,B=O!==null&&O.memoizedState!==null||br;O=sc;var X=br;if(sc=S,(br=B)&&!X)for(Ee=p;Ee!==null;)S=Ee,B=S.child,S.tag===22&&S.memoizedState!==null?mx(p):B!==null?(B.return=S,Ee=B):mx(p);for(;y!==null;)Ee=y,dx(y),y=y.sibling;Ee=p,sc=O,br=X}ux(s)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,Ee=y):ux(s)}}function ux(s){for(;Ee!==null;){var a=Ee;if((a.flags&8772)!==0){var l=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:br||ac(5,a);break;case 1:var u=a.stateNode;if(a.flags&4&&!br)if(l===null)u.componentDidMount();else{var p=a.elementType===a.type?l.memoizedProps:hn(a.type,l.memoizedProps);u.componentDidUpdate(p,l.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&fg(a,y,u);break;case 3:var S=a.updateQueue;if(S!==null){if(l=null,a.child!==null)switch(a.child.tag){case 5:l=a.child.stateNode;break;case 1:l=a.child.stateNode}fg(a,S,l)}break;case 5:var O=a.stateNode;if(l===null&&a.flags&4){l=O;var B=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&l.focus();break;case"img":B.src&&(l.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var X=a.alternate;if(X!==null){var ge=X.memoizedState;if(ge!==null){var xe=ge.dehydrated;xe!==null&&Qi(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}br||a.flags&512&&lf(a)}catch(ue){At(a,a.return,ue)}}if(a===s){Ee=null;break}if(l=a.sibling,l!==null){l.return=a.return,Ee=l;break}Ee=a.return}}function fx(s){for(;Ee!==null;){var a=Ee;if(a===s){Ee=null;break}var l=a.sibling;if(l!==null){l.return=a.return,Ee=l;break}Ee=a.return}}function mx(s){for(;Ee!==null;){var a=Ee;try{switch(a.tag){case 0:case 11:case 15:var l=a.return;try{ac(4,a)}catch(B){At(a,l,B)}break;case 1:var u=a.stateNode;if(typeof u.componentDidMount=="function"){var p=a.return;try{u.componentDidMount()}catch(B){At(a,p,B)}}var y=a.return;try{lf(a)}catch(B){At(a,y,B)}break;case 5:var S=a.return;try{lf(a)}catch(B){At(a,S,B)}}}catch(B){At(a,a.return,B)}if(a===s){Ee=null;break}var O=a.sibling;if(O!==null){O.return=a.return,Ee=O;break}Ee=a.return}}var N1=Math.ceil,ic=I.ReactCurrentDispatcher,uf=I.ReactCurrentOwner,sn=I.ReactCurrentBatchConfig,ut=0,rr=null,Wt=null,fr=0,Gr=0,Ya=bs(0),Xt=0,vo=null,oa=0,oc=0,ff=0,yo=null,Mr=null,mf=0,Xa=1/0,ts=null,lc=!1,hf=null,ks=null,cc=!1,Ps=null,dc=0,bo=0,pf=null,uc=-1,fc=0;function kr(){return(ut&6)!==0?$t():uc!==-1?uc:uc=$t()}function Es(s){return(s.mode&1)===0?1:(ut&2)!==0&&fr!==0?fr&-fr:i1.transition!==null?(fc===0&&(fc=ip()),fc):(s=ht,s!==0||(s=window.event,s=s===void 0?16:pp(s.type)),s)}function xn(s,a,l,u){if(50<bo)throw bo=0,pf=null,Error(n(185));Ui(s,l,u),((ut&2)===0||s!==rr)&&(s===rr&&((ut&2)===0&&(oc|=l),Xt===4&&Ts(s,fr)),Fr(s,u),l===1&&ut===0&&(a.mode&1)===0&&(Xa=$t()+500,$l&&js()))}function Fr(s,a){var l=s.callbackNode;iS(s,a);var u=wl(s,s===rr?fr:0);if(u===0)l!==null&&np(l),s.callbackNode=null,s.callbackPriority=0;else if(a=u&-u,s.callbackPriority!==a){if(l!=null&&np(l),a===1)s.tag===0?a1(px.bind(null,s)):eg(px.bind(null,s)),t1(function(){(ut&6)===0&&js()}),l=null;else{switch(op(u)){case 1:l=Gd;break;case 4:l=sp;break;case 16:l=xl;break;case 536870912:l=ap;break;default:l=xl}l=Nx(l,hx.bind(null,s))}s.callbackPriority=a,s.callbackNode=l}}function hx(s,a){if(uc=-1,fc=0,(ut&6)!==0)throw Error(n(327));var l=s.callbackNode;if(Ja()&&s.callbackNode!==l)return null;var u=wl(s,s===rr?fr:0);if(u===0)return null;if((u&30)!==0||(u&s.expiredLanes)!==0||a)a=mc(s,u);else{a=u;var p=ut;ut|=2;var y=xx();(rr!==s||fr!==a)&&(ts=null,Xa=$t()+500,ca(s,a));do try{k1();break}catch(O){gx(s,O)}while(!0);Au(),ic.current=y,ut=p,Wt!==null?a=0:(rr=null,fr=0,a=Xt)}if(a!==0){if(a===2&&(p=Qd(s),p!==0&&(u=p,a=gf(s,p))),a===1)throw l=vo,ca(s,0),Ts(s,u),Fr(s,$t()),l;if(a===6)Ts(s,u);else{if(p=s.current.alternate,(u&30)===0&&!S1(p)&&(a=mc(s,u),a===2&&(y=Qd(s),y!==0&&(u=y,a=gf(s,y))),a===1))throw l=vo,ca(s,0),Ts(s,u),Fr(s,$t()),l;switch(s.finishedWork=p,s.finishedLanes=u,a){case 0:case 1:throw Error(n(345));case 2:da(s,Mr,ts);break;case 3:if(Ts(s,u),(u&130023424)===u&&(a=mf+500-$t(),10<a)){if(wl(s,0)!==0)break;if(p=s.suspendedLanes,(p&u)!==u){kr(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=wu(da.bind(null,s,Mr,ts),a);break}da(s,Mr,ts);break;case 4:if(Ts(s,u),(u&4194240)===u)break;for(a=s.eventTimes,p=-1;0<u;){var S=31-un(u);y=1<<S,S=a[S],S>p&&(p=S),u&=~y}if(u=p,u=$t()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*N1(u/1960))-u,10<u){s.timeoutHandle=wu(da.bind(null,s,Mr,ts),u);break}da(s,Mr,ts);break;case 5:da(s,Mr,ts);break;default:throw Error(n(329))}}}return Fr(s,$t()),s.callbackNode===l?hx.bind(null,s):null}function gf(s,a){var l=yo;return s.current.memoizedState.isDehydrated&&(ca(s,a).flags|=256),s=mc(s,a),s!==2&&(a=Mr,Mr=l,a!==null&&xf(a)),s}function xf(s){Mr===null?Mr=s:Mr.push.apply(Mr,s)}function S1(s){for(var a=s;;){if(a.flags&16384){var l=a.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var u=0;u<l.length;u++){var p=l[u],y=p.getSnapshot;p=p.value;try{if(!fn(y(),p))return!1}catch{return!1}}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ts(s,a){for(a&=~ff,a&=~oc,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var l=31-un(a),u=1<<l;s[l]=-1,a&=~u}}function px(s){if((ut&6)!==0)throw Error(n(327));Ja();var a=wl(s,0);if((a&1)===0)return Fr(s,$t()),null;var l=mc(s,a);if(s.tag!==0&&l===2){var u=Qd(s);u!==0&&(a=u,l=gf(s,u))}if(l===1)throw l=vo,ca(s,0),Ts(s,a),Fr(s,$t()),l;if(l===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,da(s,Mr,ts),Fr(s,$t()),null}function vf(s,a){var l=ut;ut|=1;try{return s(a)}finally{ut=l,ut===0&&(Xa=$t()+500,$l&&js())}}function la(s){Ps!==null&&Ps.tag===0&&(ut&6)===0&&Ja();var a=ut;ut|=1;var l=sn.transition,u=ht;try{if(sn.transition=null,ht=1,s)return s()}finally{ht=u,sn.transition=l,ut=a,(ut&6)===0&&js()}}function yf(){Gr=Ya.current,wt(Ya)}function ca(s,a){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,e1(l)),Wt!==null)for(l=Wt.return;l!==null;){var u=l;switch(Pu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ll();break;case 3:Qa(),wt(Ir),wt(xr),$u();break;case 5:Lu(u);break;case 4:Qa();break;case 13:wt(Pt);break;case 19:wt(Pt);break;case 10:Iu(u.type._context);break;case 22:case 23:yf()}l=l.return}if(rr=s,Wt=s=_s(s.current,null),fr=Gr=a,Xt=0,vo=null,ff=oc=oa=0,Mr=yo=null,sa!==null){for(a=0;a<sa.length;a++)if(l=sa[a],u=l.interleaved,u!==null){l.interleaved=null;var p=u.next,y=l.pending;if(y!==null){var S=y.next;y.next=p,u.next=S}l.pending=u}sa=null}return s}function gx(s,a){do{var l=Wt;try{if(Au(),Zl.current=ec,Yl){for(var u=Et.memoizedState;u!==null;){var p=u.queue;p!==null&&(p.pending=null),u=u.next}Yl=!1}if(ia=0,tr=Yt=Et=null,fo=!1,mo=0,uf.current=null,l===null||l.return===null){Xt=1,vo=a,Wt=null;break}e:{var y=s,S=l.return,O=l,B=a;if(a=fr,O.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var X=B,ge=O,xe=ge.tag;if((ge.mode&1)===0&&(xe===0||xe===11||xe===15)){var ue=ge.alternate;ue?(ge.updateQueue=ue.updateQueue,ge.memoizedState=ue.memoizedState,ge.lanes=ue.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Ce=Vg(S);if(Ce!==null){Ce.flags&=-257,zg(Ce,S,O,y,a),Ce.mode&1&&$g(y,X,a),a=Ce,B=X;var Ie=a.updateQueue;if(Ie===null){var De=new Set;De.add(B),a.updateQueue=De}else Ie.add(B);break e}else{if((a&1)===0){$g(y,X,a),bf();break e}B=Error(n(426))}}else if(Ct&&O.mode&1){var Vt=Vg(S);if(Vt!==null){(Vt.flags&65536)===0&&(Vt.flags|=256),zg(Vt,S,O,y,a),_u(Ha(B,O));break e}}y=B=Ha(B,O),Xt!==4&&(Xt=2),yo===null?yo=[y]:yo.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var W=Lg(y,B,a);ug(y,W);break e;case 1:O=B;var $=y.type,Q=y.stateNode;if((y.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(ks===null||!ks.has(Q)))){y.flags|=65536,a&=-a,y.lanes|=a;var be=Bg(y,O,a);ug(y,be);break e}}y=y.return}while(y!==null)}yx(l)}catch(Le){a=Le,Wt===l&&l!==null&&(Wt=l=l.return);continue}break}while(!0)}function xx(){var s=ic.current;return ic.current=ec,s===null?ec:s}function bf(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),rr===null||(oa&268435455)===0&&(oc&268435455)===0||Ts(rr,fr)}function mc(s,a){var l=ut;ut|=2;var u=xx();(rr!==s||fr!==a)&&(ts=null,ca(s,a));do try{C1();break}catch(p){gx(s,p)}while(!0);if(Au(),ut=l,ic.current=u,Wt!==null)throw Error(n(261));return rr=null,fr=0,Xt}function C1(){for(;Wt!==null;)vx(Wt)}function k1(){for(;Wt!==null&&!YN();)vx(Wt)}function vx(s){var a=jx(s.alternate,s,Gr);s.memoizedProps=s.pendingProps,a===null?yx(s):Wt=a,uf.current=null}function yx(s){var a=s;do{var l=a.alternate;if(s=a.return,(a.flags&32768)===0){if(l=v1(l,a,Gr),l!==null){Wt=l;return}}else{if(l=y1(l,a),l!==null){l.flags&=32767,Wt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Xt=6,Wt=null;return}}if(a=a.sibling,a!==null){Wt=a;return}Wt=a=s}while(a!==null);Xt===0&&(Xt=5)}function da(s,a,l){var u=ht,p=sn.transition;try{sn.transition=null,ht=1,P1(s,a,l,u)}finally{sn.transition=p,ht=u}return null}function P1(s,a,l,u){do Ja();while(Ps!==null);if((ut&6)!==0)throw Error(n(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(oS(s,y),s===rr&&(Wt=rr=null,fr=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||cc||(cc=!0,Nx(xl,function(){return Ja(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=sn.transition,sn.transition=null;var S=ht;ht=1;var O=ut;ut|=4,uf.current=null,w1(s,l),cx(l,s),GS(yu),Sl=!!vu,yu=vu=null,s.current=l,j1(l),XN(),ut=O,ht=S,sn.transition=y}else s.current=l;if(cc&&(cc=!1,Ps=s,dc=p),y=s.pendingLanes,y===0&&(ks=null),tS(l.stateNode),Fr(s,$t()),a!==null)for(u=s.onRecoverableError,l=0;l<a.length;l++)p=a[l],u(p.value,{componentStack:p.stack,digest:p.digest});if(lc)throw lc=!1,s=hf,hf=null,s;return(dc&1)!==0&&s.tag!==0&&Ja(),y=s.pendingLanes,(y&1)!==0?s===pf?bo++:(bo=0,pf=s):bo=0,js(),null}function Ja(){if(Ps!==null){var s=op(dc),a=sn.transition,l=ht;try{if(sn.transition=null,ht=16>s?16:s,Ps===null)var u=!1;else{if(s=Ps,Ps=null,dc=0,(ut&6)!==0)throw Error(n(331));var p=ut;for(ut|=4,Ee=s.current;Ee!==null;){var y=Ee,S=y.child;if((Ee.flags&16)!==0){var O=y.deletions;if(O!==null){for(var B=0;B<O.length;B++){var X=O[B];for(Ee=X;Ee!==null;){var ge=Ee;switch(ge.tag){case 0:case 11:case 15:xo(8,ge,y)}var xe=ge.child;if(xe!==null)xe.return=ge,Ee=xe;else for(;Ee!==null;){ge=Ee;var ue=ge.sibling,Ce=ge.return;if(sx(ge),ge===X){Ee=null;break}if(ue!==null){ue.return=Ce,Ee=ue;break}Ee=Ce}}}var Ie=y.alternate;if(Ie!==null){var De=Ie.child;if(De!==null){Ie.child=null;do{var Vt=De.sibling;De.sibling=null,De=Vt}while(De!==null)}}Ee=y}}if((y.subtreeFlags&2064)!==0&&S!==null)S.return=y,Ee=S;else e:for(;Ee!==null;){if(y=Ee,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:xo(9,y,y.return)}var W=y.sibling;if(W!==null){W.return=y.return,Ee=W;break e}Ee=y.return}}var $=s.current;for(Ee=$;Ee!==null;){S=Ee;var Q=S.child;if((S.subtreeFlags&2064)!==0&&Q!==null)Q.return=S,Ee=Q;else e:for(S=$;Ee!==null;){if(O=Ee,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:ac(9,O)}}catch(Le){At(O,O.return,Le)}if(O===S){Ee=null;break e}var be=O.sibling;if(be!==null){be.return=O.return,Ee=be;break e}Ee=O.return}}if(ut=p,js(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(vl,s)}catch{}u=!0}return u}finally{ht=l,sn.transition=a}}return!1}function bx(s,a,l){a=Ha(l,a),a=Lg(s,a,1),s=Ss(s,a,1),a=kr(),s!==null&&(Ui(s,1,a),Fr(s,a))}function At(s,a,l){if(s.tag===3)bx(s,s,l);else for(;a!==null;){if(a.tag===3){bx(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ks===null||!ks.has(u))){s=Ha(l,s),s=Bg(a,s,1),a=Ss(a,s,1),s=kr(),a!==null&&(Ui(a,1,s),Fr(a,s));break}}a=a.return}}function E1(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),a=kr(),s.pingedLanes|=s.suspendedLanes&l,rr===s&&(fr&l)===l&&(Xt===4||Xt===3&&(fr&130023424)===fr&&500>$t()-mf?ca(s,0):ff|=l),Fr(s,a)}function wx(s,a){a===0&&((s.mode&1)===0?a=1:(a=bl,bl<<=1,(bl&130023424)===0&&(bl=4194304)));var l=kr();s=Xn(s,a),s!==null&&(Ui(s,a,l),Fr(s,l))}function T1(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),wx(s,l)}function _1(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=s.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(a),wx(s,l)}var jx;jx=function(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps||Ir.current)Dr=!0;else{if((s.lanes&l)===0&&(a.flags&128)===0)return Dr=!1,x1(s,a,l);Dr=(s.flags&131072)!==0}else Dr=!1,Ct&&(a.flags&1048576)!==0&&tg(a,zl,a.index);switch(a.lanes=0,a.tag){case 2:var u=a.type;nc(s,a),s=a.pendingProps;var p=Va(a,xr.current);Ga(a,l),p=Uu(null,a,u,s,p,l);var y=qu();return a.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Or(u)?(y=!0,Bl(a)):y=!1,a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Mu(a),p.updater=tc,a.stateNode=p,p._reactInternals=a,Zu(a,u,s,l),a=ef(null,a,u,!0,y,l)):(a.tag=0,Ct&&y&&ku(a),Cr(null,a,p,l),a=a.child),a;case 16:u=a.elementType;e:{switch(nc(s,a),s=a.pendingProps,p=u._init,u=p(u._payload),a.type=u,p=a.tag=A1(u),s=hn(u,s),p){case 0:a=Ju(null,a,u,s,l);break e;case 1:a=Qg(null,a,u,s,l);break e;case 11:a=Ug(null,a,u,s,l);break e;case 14:a=qg(null,a,u,hn(u.type,s),l);break e}throw Error(n(306,u,""))}return a;case 0:return u=a.type,p=a.pendingProps,p=a.elementType===u?p:hn(u,p),Ju(s,a,u,p,l);case 1:return u=a.type,p=a.pendingProps,p=a.elementType===u?p:hn(u,p),Qg(s,a,u,p,l);case 3:e:{if(Hg(a),s===null)throw Error(n(387));u=a.pendingProps,y=a.memoizedState,p=y.element,dg(s,a),Ql(a,u,null,l);var S=a.memoizedState;if(u=S.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){p=Ha(Error(n(423)),a),a=Zg(s,a,u,l,p);break e}else if(u!==p){p=Ha(Error(n(424)),a),a=Zg(s,a,u,l,p);break e}else for(Kr=ys(a.stateNode.containerInfo.firstChild),Wr=a,Ct=!0,mn=null,l=lg(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(qa(),u===p){a=es(s,a,l);break e}Cr(s,a,u,l)}a=a.child}return a;case 5:return mg(a),s===null&&Tu(a),u=a.type,p=a.pendingProps,y=s!==null?s.memoizedProps:null,S=p.children,bu(u,p)?S=null:y!==null&&bu(u,y)&&(a.flags|=32),Gg(s,a),Cr(s,a,S,l),a.child;case 6:return s===null&&Tu(a),null;case 13:return Yg(s,a,l);case 4:return Fu(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=Wa(a,null,u,l):Cr(s,a,u,l),a.child;case 11:return u=a.type,p=a.pendingProps,p=a.elementType===u?p:hn(u,p),Ug(s,a,u,p,l);case 7:return Cr(s,a,a.pendingProps,l),a.child;case 8:return Cr(s,a,a.pendingProps.children,l),a.child;case 12:return Cr(s,a,a.pendingProps.children,l),a.child;case 10:e:{if(u=a.type._context,p=a.pendingProps,y=a.memoizedProps,S=p.value,yt(Wl,u._currentValue),u._currentValue=S,y!==null)if(fn(y.value,S)){if(y.children===p.children&&!Ir.current){a=es(s,a,l);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var O=y.dependencies;if(O!==null){S=y.child;for(var B=O.firstContext;B!==null;){if(B.context===u){if(y.tag===1){B=Jn(-1,l&-l),B.tag=2;var X=y.updateQueue;if(X!==null){X=X.shared;var ge=X.pending;ge===null?B.next=B:(B.next=ge.next,ge.next=B),X.pending=B}}y.lanes|=l,B=y.alternate,B!==null&&(B.lanes|=l),Ou(y.return,l,a),O.lanes|=l;break}B=B.next}}else if(y.tag===10)S=y.type===a.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(n(341));S.lanes|=l,O=S.alternate,O!==null&&(O.lanes|=l),Ou(S,l,a),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===a){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}Cr(s,a,p.children,l),a=a.child}return a;case 9:return p=a.type,u=a.pendingProps.children,Ga(a,l),p=rn(p),u=u(p),a.flags|=1,Cr(s,a,u,l),a.child;case 14:return u=a.type,p=hn(u,a.pendingProps),p=hn(u.type,p),qg(s,a,u,p,l);case 15:return Wg(s,a,a.type,a.pendingProps,l);case 17:return u=a.type,p=a.pendingProps,p=a.elementType===u?p:hn(u,p),nc(s,a),a.tag=1,Or(u)?(s=!0,Bl(a)):s=!1,Ga(a,l),Mg(a,u,p),Zu(a,u,p,l),ef(null,a,u,!0,s,l);case 19:return Jg(s,a,l);case 22:return Kg(s,a,l)}throw Error(n(156,a.tag))};function Nx(s,a){return rp(s,a)}function R1(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(s,a,l,u){return new R1(s,a,l,u)}function wf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function A1(s){if(typeof s=="function")return wf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===te)return 11;if(s===we)return 14}return 2}function _s(s,a){var l=s.alternate;return l===null?(l=an(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function hc(s,a,l,u,p,y){var S=2;if(u=s,typeof s=="function")wf(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case q:return ua(l.children,p,y,a);case J:S=8,p|=8;break;case U:return s=an(12,l,a,p|2),s.elementType=U,s.lanes=y,s;case he:return s=an(13,l,a,p),s.elementType=he,s.lanes=y,s;case ne:return s=an(19,l,a,p),s.elementType=ne,s.lanes=y,s;case K:return pc(l,p,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case re:S=10;break e;case me:S=9;break e;case te:S=11;break e;case we:S=14;break e;case E:S=16,u=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=an(S,l,a,p),a.elementType=s,a.type=u,a.lanes=y,a}function ua(s,a,l,u){return s=an(7,s,u,a),s.lanes=l,s}function pc(s,a,l,u){return s=an(22,s,u,a),s.elementType=K,s.lanes=l,s.stateNode={isHidden:!1},s}function jf(s,a,l){return s=an(6,s,null,a),s.lanes=l,s}function Nf(s,a,l){return a=an(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function I1(s,a,l,u,p){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hd(0),this.expirationTimes=Hd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hd(0),this.identifierPrefix=u,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Sf(s,a,l,u,p,y,S,O,B){return s=new I1(s,a,l,O,B),a===1?(a=1,y===!0&&(a|=8)):a=0,y=an(3,null,null,a),s.current=y,y.stateNode=s,y.memoizedState={element:u,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mu(y),s}function O1(s,a,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:u==null?null:""+u,children:s,containerInfo:a,implementation:l}}function Sx(s){if(!s)return ws;s=s._reactInternals;e:{if(Js(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Or(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var l=s.type;if(Or(l))return Xp(s,l,a)}return a}function Cx(s,a,l,u,p,y,S,O,B){return s=Sf(l,u,!0,s,p,y,S,O,B),s.context=Sx(null),l=s.current,u=kr(),p=Es(l),y=Jn(u,p),y.callback=a??null,Ss(l,y,p),s.current.lanes=p,Ui(s,p,u),Fr(s,u),s}function gc(s,a,l,u){var p=a.current,y=kr(),S=Es(p);return l=Sx(l),a.context===null?a.context=l:a.pendingContext=l,a=Jn(y,S),a.payload={element:s},u=u===void 0?null:u,u!==null&&(a.callback=u),s=Ss(p,a,S),s!==null&&(xn(s,p,S,y),Gl(s,p,S)),S}function xc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function kx(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Cf(s,a){kx(s,a),(s=s.alternate)&&kx(s,a)}function D1(){return null}var Px=typeof reportError=="function"?reportError:function(s){console.error(s)};function kf(s){this._internalRoot=s}vc.prototype.render=kf.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));gc(s,a,null,null)},vc.prototype.unmount=kf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;la(function(){gc(null,s,null,null)}),a[Qn]=null}};function vc(s){this._internalRoot=s}vc.prototype.unstable_scheduleHydration=function(s){if(s){var a=dp();s={blockedOn:null,target:s,priority:a};for(var l=0;l<gs.length&&a!==0&&a<gs[l].priority;l++);gs.splice(l,0,s),l===0&&mp(s)}};function Pf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function yc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Ex(){}function M1(s,a,l,u,p){if(p){if(typeof u=="function"){var y=u;u=function(){var X=xc(S);y.call(X)}}var S=Cx(a,u,s,0,null,!1,!1,"",Ex);return s._reactRootContainer=S,s[Qn]=S.current,no(s.nodeType===8?s.parentNode:s),la(),S}for(;p=s.lastChild;)s.removeChild(p);if(typeof u=="function"){var O=u;u=function(){var X=xc(B);O.call(X)}}var B=Sf(s,0,!1,null,null,!1,!1,"",Ex);return s._reactRootContainer=B,s[Qn]=B.current,no(s.nodeType===8?s.parentNode:s),la(function(){gc(a,B,l,u)}),B}function bc(s,a,l,u,p){var y=l._reactRootContainer;if(y){var S=y;if(typeof p=="function"){var O=p;p=function(){var B=xc(S);O.call(B)}}gc(a,S,s,p)}else S=M1(l,a,s,p,u);return xc(S)}lp=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var l=zi(a.pendingLanes);l!==0&&(Zd(a,l|1),Fr(a,$t()),(ut&6)===0&&(Xa=$t()+500,js()))}break;case 13:la(function(){var u=Xn(s,1);if(u!==null){var p=kr();xn(u,s,1,p)}}),Cf(s,1)}},Yd=function(s){if(s.tag===13){var a=Xn(s,134217728);if(a!==null){var l=kr();xn(a,s,134217728,l)}Cf(s,134217728)}},cp=function(s){if(s.tag===13){var a=Es(s),l=Xn(s,a);if(l!==null){var u=kr();xn(l,s,a,u)}Cf(s,a)}},dp=function(){return ht},up=function(s,a){var l=ht;try{return ht=s,a()}finally{ht=l}},Ud=function(s,a,l){switch(a){case"input":if(Ar(s,l),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var p=Fl(u);if(!p)throw Error(n(90));pt(u),Ar(u,p)}}}break;case"textarea":je(s,l);break;case"select":a=l.value,a!=null&&G(s,!!l.multiple,a,!1)}},Hh=vf,Zh=la;var F1={usingClientEntryPoint:!1,Events:[io,Ba,Fl,Gh,Qh,vf]},wo={findFiberByHostInstance:ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L1={bundleType:wo.bundleType,version:wo.version,rendererPackageName:wo.rendererPackageName,rendererConfig:wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=ep(s),s===null?null:s.stateNode},findFiberByHostInstance:wo.findFiberByHostInstance||D1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{vl=wc.inject(L1),An=wc}catch{}}return Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F1,Lr.createPortal=function(s,a){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pf(a))throw Error(n(200));return O1(s,a,null,l)},Lr.createRoot=function(s,a){if(!Pf(s))throw Error(n(299));var l=!1,u="",p=Px;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onRecoverableError!==void 0&&(p=a.onRecoverableError)),a=Sf(s,1,!1,null,null,l,!1,u,p),s[Qn]=a.current,no(s.nodeType===8?s.parentNode:s),new kf(a)},Lr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=ep(a),s=s===null?null:s.stateNode,s},Lr.flushSync=function(s){return la(s)},Lr.hydrate=function(s,a,l){if(!yc(a))throw Error(n(200));return bc(null,s,a,!0,l)},Lr.hydrateRoot=function(s,a,l){if(!Pf(s))throw Error(n(405));var u=l!=null&&l.hydratedSources||null,p=!1,y="",S=Px;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),a=Cx(a,null,s,1,l??null,p,!1,y,S),s[Qn]=a.current,no(s),u)for(s=0;s<u.length;s++)l=u[s],p=l._getVersion,p=p(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,p]:a.mutableSourceEagerHydrationData.push(l,p);return new vc(a)},Lr.render=function(s,a,l){if(!yc(a))throw Error(n(200));return bc(null,s,a,!1,l)},Lr.unmountComponentAtNode=function(s){if(!yc(s))throw Error(n(40));return s._reactRootContainer?(la(function(){bc(null,null,s,!1,function(){s._reactRootContainer=null,s[Qn]=null})}),!0):!1},Lr.unstable_batchedUpdates=vf,Lr.unstable_renderSubtreeIntoContainer=function(s,a,l,u){if(!yc(l))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return bc(s,a,l,!1,u)},Lr.version="18.3.1-next-f1338f8080-20240426",Lr}var Mx;function xy(){if(Mx)return _f.exports;Mx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_f.exports=K1(),_f.exports}var Fx;function G1(){if(Fx)return jc;Fx=1;var e=xy();return jc.createRoot=e.createRoot,jc.hydrateRoot=e.hydrateRoot,jc}var Q1=G1();function H1(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,i,o,c,d=[],m="",g=e.split("/");for(g[0]||g.shift();o=g.shift();)n=o[0],n==="*"?(d.push(n),m+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(i=o.indexOf("?",1),c=o.indexOf(".",1),d.push(o.substring(1,~i?i:~c?c:o.length)),m+=~i&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(m+=(~i?"?":"")+"\\"+o.substring(c))):m+="/"+o;return{keys:d,pattern:new RegExp("^"+m+(t?"(?=$|/)":"/?$"),"i")}}var h=ld();const Ot=gy(h),cd=$1({__proto__:null,default:Ot},[h]);var If={exports:{}},Of={};var Lx;function Z1(){if(Lx)return Of;Lx=1;var e=ld();function t(b,N){return b===N&&(b!==0||1/b===1/N)||b!==b&&N!==N}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,o=e.useEffect,c=e.useLayoutEffect,d=e.useDebugValue;function m(b,N){var C=N(),T=i({inst:{value:C,getSnapshot:N}}),w=T[0].inst,j=T[1];return c(function(){w.value=C,w.getSnapshot=N,g(w)&&j({inst:w})},[b,C,N]),o(function(){return g(w)&&j({inst:w}),b(function(){g(w)&&j({inst:w})})},[b]),d(C),C}function g(b){var N=b.getSnapshot;b=b.value;try{var C=N();return!n(b,C)}catch{return!0}}function x(b,N){return N()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x:m;return Of.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,Of}var Bx;function Y1(){return Bx||(Bx=1,If.exports=Z1()),If.exports}var X1=Y1();const J1=cd.useInsertionEffect,eC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tC=eC?h.useLayoutEffect:h.useEffect,rC=J1||tC,vy=e=>{const t=h.useRef([e,(...n)=>t[0](...n)]).current;return rC(()=>{t[0]=e}),t[1]},nC="popstate",zm="pushState",Um="replaceState",sC="hashchange",$x=[nC,zm,Um,sC],aC=e=>{for(const t of $x)addEventListener(t,e);return()=>{for(const t of $x)removeEventListener(t,e)}},yy=(e,t)=>X1.useSyncExternalStore(aC,e,t),iC=()=>location.search,oC=({ssrSearch:e=""}={})=>yy(iC,()=>e),Vx=()=>location.pathname,lC=({ssrPath:e}={})=>yy(Vx,e?()=>e:Vx),cC=(e,{replace:t=!1,state:n=null}={})=>history[t?Um:zm](n,"",e),dC=(e={})=>[lC(e),cC],zx=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[zx]>"u"){for(const e of[zm,Um]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),i=new Event(e);return i.arguments=arguments,dispatchEvent(i),n}}Object.defineProperty(window,zx,{value:!0})}const uC=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",by=(e="")=>e==="/"?"":e,fC=(e,t)=>e[0]==="~"?e.slice(1):by(t)+e,mC=(e="",t)=>uC(Ux(by(e)),Ux(t)),Ux=e=>{try{return decodeURI(e)}catch{return e}},wy={hook:dC,searchHook:oC,parser:H1,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},jy=h.createContext(wy),rl=()=>h.useContext(jy),Ny={},Sy=h.createContext(Ny),hC=()=>h.useContext(Sy),dd=e=>{const[t,n]=e.hook(e);return[mC(e.base,t),vy((i,o)=>n(fC(i,e.base),o))]},Ei=()=>dd(rl()),Cy=(e,t,n,i)=>{const{pattern:o,keys:c}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",i),d=o.exec(n)||[],[m,...g]=d;return m!==void 0?[!0,(()=>{const x=c!==!1?Object.fromEntries(c.map((b,N)=>[b,g[N]])):d.groups;let v={...g};return x&&Object.assign(v,x),v})(),...i?[m]:[]]:[!1,null]},pC=({children:e,...t})=>{const n=rl(),i=t.hook?wy:n;let o=i;const[c,d]=t.ssrPath?.split("?")??[];d&&(t.ssrSearch=d,t.ssrPath=c),t.hrefs=t.hrefs??t.hook?.hrefs;let m=h.useRef({}),g=m.current,x=g;for(let v in i){const b=v==="base"?i[v]+(t[v]||""):t[v]||i[v];g===x&&b!==x[v]&&(m.current=x={...x}),x[v]=b,(b!==i[v]||b!==o[v])&&(o=x)}return h.createElement(jy.Provider,{value:o,children:e})},qx=({children:e,component:t},n)=>t?h.createElement(t,{params:n}):typeof e=="function"?e(n):e,gC=e=>{let t=h.useRef(Ny);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([i,o])=>o!==n[i])?e:n},Qr=({path:e,nest:t,match:n,...i})=>{const o=rl(),[c]=dd(o),[d,m,g]=n??Cy(o.parser,e,c,t),x=gC({...hC(),...m});if(!d)return null;const v=g?h.createElement(pC,{base:g},qx(i,x)):qx(i,x);return h.createElement(Sy.Provider,{value:x,children:v})},Po=h.forwardRef((e,t)=>{const n=rl(),[i,o]=dd(n),{to:c="",href:d=c,onClick:m,asChild:g,children:x,className:v,replace:b,state:N,...C}=e,T=vy(j=>{j.ctrlKey||j.metaKey||j.altKey||j.shiftKey||j.button!==0||(m?.(j),j.defaultPrevented||(j.preventDefault(),o(d,e)))}),w=n.hrefs(d[0]==="~"?d.slice(1):n.base+d,n);return g&&h.isValidElement(x)?h.cloneElement(x,{onClick:T,href:w}):h.createElement("a",{...C,onClick:T,href:w,className:v?.call?v(i===d):v,children:x,ref:t})}),ky=e=>Array.isArray(e)?e.flatMap(t=>ky(t&&t.type===h.Fragment?t.props.children:t)):[e],xC=({children:e,location:t})=>{const n=rl(),[i]=dd(n);for(const o of ky(e)){let c=0;if(h.isValidElement(o)&&(c=Cy(n.parser,o.props.path,t||i,o.props.nest))[0])return h.cloneElement(o,{match:c})}return null};var Ti=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vC={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},yC=class{#e=vC;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},fa=new yC;function bC(e){setTimeout(e,0)}var pa=typeof window>"u"||"Deno"in globalThis;function Er(){}function wC(e,t){return typeof e=="function"?e(t):e}function am(e){return typeof e=="number"&&e>=0&&e!==1/0}function Py(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ls(e,t){return typeof e=="function"?e(t):e}function on(e,t){return typeof e=="function"?e(t):e}function Wx(e,t){const{type:n="all",exact:i,fetchStatus:o,predicate:c,queryKey:d,stale:m}=e;if(d){if(i){if(t.queryHash!==qm(d,t.options))return!1}else if(!Ao(t.queryKey,d))return!1}if(n!=="all"){const g=t.isActive();if(n==="active"&&!g||n==="inactive"&&g)return!1}return!(typeof m=="boolean"&&t.isStale()!==m||o&&o!==t.state.fetchStatus||c&&!c(t))}function Kx(e,t){const{exact:n,status:i,predicate:o,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(n){if(ga(t.options.mutationKey)!==ga(c))return!1}else if(!Ao(t.options.mutationKey,c))return!1}return!(i&&t.state.status!==i||o&&!o(t))}function qm(e,t){return(t?.queryKeyHashFn||ga)(e)}function ga(e){return JSON.stringify(e,(t,n)=>im(n)?Object.keys(n).sort().reduce((i,o)=>(i[o]=n[o],i),{}):n)}function Ao(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ao(e[n],t[n])):!1}var jC=Object.prototype.hasOwnProperty;function Ey(e,t){if(e===t)return e;const n=Gx(e)&&Gx(t);if(!n&&!(im(e)&&im(t)))return t;const o=(n?e:Object.keys(e)).length,c=n?t:Object.keys(t),d=c.length,m=n?new Array(d):{};let g=0;for(let x=0;x<d;x++){const v=n?x:c[x],b=e[v],N=t[v];if(b===N){m[v]=b,(n?x<o:jC.call(e,v))&&g++;continue}if(b===null||N===null||typeof b!="object"||typeof N!="object"){m[v]=N;continue}const C=Ey(b,N);m[v]=C,C===b&&g++}return o===d&&g===o?e:m}function Bc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Gx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function im(e){if(!Qx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Qx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Qx(e){return Object.prototype.toString.call(e)==="[object Object]"}function NC(e){return new Promise(t=>{fa.setTimeout(t,e)})}function om(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Ey(e,t):t}function SC(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function CC(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var Wm=Symbol();function Ty(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Wm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function _y(e,t){return typeof e=="function"?e(...t):!!e}var kC=class extends Ti{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!pa&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Km=new kC;function lm(){let e,t;const n=new Promise((o,c)=>{e=o,t=c});n.status="pending",n.catch(()=>{});function i(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{i({status:"fulfilled",value:o}),e(o)},n.reject=o=>{i({status:"rejected",reason:o}),t(o)},n}var PC=bC;function EC(){let e=[],t=0,n=m=>{m()},i=m=>{m()},o=PC;const c=m=>{t?e.push(m):o(()=>{n(m)})},d=()=>{const m=e;e=[],m.length&&o(()=>{i(()=>{m.forEach(g=>{n(g)})})})};return{batch:m=>{let g;t++;try{g=m()}finally{t--,t||d()}return g},batchCalls:m=>(...g)=>{c(()=>{m(...g)})},schedule:c,setNotifyFunction:m=>{n=m},setBatchNotifyFunction:m=>{i=m},setScheduler:m=>{o=m}}}var Jt=EC(),TC=class extends Ti{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!pa&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},$c=new TC;function _C(e){return Math.min(1e3*2**e,3e4)}function Ry(e){return(e??"online")==="online"?$c.isOnline():!0}var cm=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ay(e){let t=!1,n=0,i;const o=lm(),c=()=>o.status!=="pending",d=w=>{if(!c()){const j=new cm(w);N(j),e.onCancel?.(j)}},m=()=>{t=!0},g=()=>{t=!1},x=()=>Km.isFocused()&&(e.networkMode==="always"||$c.isOnline())&&e.canRun(),v=()=>Ry(e.networkMode)&&e.canRun(),b=w=>{c()||(i?.(),o.resolve(w))},N=w=>{c()||(i?.(),o.reject(w))},C=()=>new Promise(w=>{i=j=>{(c()||x())&&w(j)},e.onPause?.()}).then(()=>{i=void 0,c()||e.onContinue?.()}),T=()=>{if(c())return;let w;const j=n===0?e.initialPromise:void 0;try{w=j??e.fn()}catch(k){w=Promise.reject(k)}Promise.resolve(w).then(b).catch(k=>{if(c())return;const _=e.retry??(pa?0:3),F=e.retryDelay??_C,I=typeof F=="function"?F(n,k):F,M=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,k);if(t||!M){N(k);return}n++,e.onFail?.(n,k),NC(I).then(()=>x()?void 0:C()).then(()=>{t?N(k):T()})})};return{promise:o,status:()=>o.status,cancel:d,continue:()=>(i?.(),o),cancelRetry:m,continueRetry:g,canStart:v,start:()=>(v()?T():C().then(T),o)}}var Iy=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),am(this.gcTime)&&(this.#e=fa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(pa?1/0:300*1e3))}clearGcTimeout(){this.#e&&(fa.clearTimeout(this.#e),this.#e=void 0)}},RC=class extends Iy{#e;#t;#r;#s;#n;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#r=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Zx(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Zx(this.options);t.data!==void 0&&(this.setState(Hx(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const n=om(this.state.data,e,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Er).catch(Er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>on(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ls(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Py(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},o=()=>{const m=Ty(this.options,t),x=(()=>{const v={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(v),v})();return this.#o=!1,this.options.persister?this.options.persister(m,x,this):m(x)},d=(()=>{const m={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return i(m),m})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#a({type:"fetch",meta:d.fetchOptions?.meta}),this.#n=Ay({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:m=>{m instanceof cm&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(m,g)=>{this.#a({type:"failed",failureCount:m,error:g})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const m=await this.#n.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#r.config.onSuccess?.(m,this),this.#r.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof cm){if(m.silent)return this.#n.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#a({type:"error",error:m}),this.#r.config.onError?.(m,this),this.#r.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#a(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Oy(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...Hx(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const o=e.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Jt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function Oy(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ry(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Hx(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Zx(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var AC=class extends Ti{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#o=lm(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#s=void 0;#n;#i;#o;#a;#p;#f;#m;#c;#d;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Yx(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof on(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),t._defaulted&&!Bc(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&Xx(this.#t,n,this.options,t)&&this.#u(),this.updateResult(),i&&(this.#t!==n||on(this.options.enabled,this.#t)!==on(t.enabled,this.#t)||Ls(this.options.staleTime,this.#t)!==Ls(t.staleTime,this.#t))&&this.#g();const o=this.#x();i&&(this.#t!==n||on(this.options.enabled,this.#t)!==on(t.enabled,this.#t)||o!==this.#l)&&this.#v(o)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return OC(this,n)&&(this.#s=n,this.#i=this.options,this.#n=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),t?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#u(e){this.#j();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Er)),t}#g(){this.#b();const e=Ls(this.options.staleTime,this.#t);if(pa||this.#s.isStale||!am(e))return;const n=Py(this.#s.dataUpdatedAt,e)+1;this.#c=fa.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(pa||on(this.options.enabled,this.#t)===!1||!am(this.#l)||this.#l===0)&&(this.#d=fa.setInterval(()=>{(this.options.refetchIntervalInBackground||Km.isFocused())&&this.#u()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#b(){this.#c&&(fa.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#d&&(fa.clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const n=this.#t,i=this.options,o=this.#s,c=this.#n,d=this.#i,g=e!==n?e.state:this.#r,{state:x}=e;let v={...x},b=!1,N;if(t._optimisticResults){const J=this.hasListeners(),U=!J&&Yx(e,t),re=J&&Xx(e,n,t,i);(U||re)&&(v={...v,...Oy(x.data,e.options)}),t._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:C,errorUpdatedAt:T,status:w}=v;N=v.data;let j=!1;if(t.placeholderData!==void 0&&N===void 0&&w==="pending"){let J;o?.isPlaceholderData&&t.placeholderData===d?.placeholderData?(J=o.data,j=!0):J=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,J!==void 0&&(w="success",N=om(o?.data,J,t),b=!0)}if(t.select&&N!==void 0&&!j)if(o&&N===c?.data&&t.select===this.#p)N=this.#f;else try{this.#p=t.select,N=t.select(N),N=om(o?.data,N,t),this.#f=N,this.#a=null}catch(J){this.#a=J}this.#a&&(C=this.#a,N=this.#f,T=Date.now(),w="error");const k=v.fetchStatus==="fetching",_=w==="pending",F=w==="error",I=_&&k,M=N!==void 0,q={status:w,fetchStatus:v.fetchStatus,isPending:_,isSuccess:w==="success",isError:F,isInitialLoading:I,isLoading:I,data:N,dataUpdatedAt:v.dataUpdatedAt,error:C,errorUpdatedAt:T,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>g.dataUpdateCount||v.errorUpdateCount>g.errorUpdateCount,isFetching:k,isRefetching:k&&!_,isLoadingError:F&&!M,isPaused:v.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:F&&M,isStale:Gm(e,t),refetch:this.refetch,promise:this.#o,isEnabled:on(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const J=me=>{q.status==="error"?me.reject(q.error):q.data!==void 0&&me.resolve(q.data)},U=()=>{const me=this.#o=q.promise=lm();J(me)},re=this.#o;switch(re.status){case"pending":e.queryHash===n.queryHash&&J(re);break;case"fulfilled":(q.status==="error"||q.data!==re.value)&&U();break;case"rejected":(q.status!=="error"||q.error!==re.reason)&&U();break}}return q}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#i=this.options,this.#n.data!==void 0&&(this.#m=this.#t),Bc(t,e))return;this.#s=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!this.#h.size)return!0;const c=new Set(o??this.#h);return this.options.throwOnError&&c.add("error"),Object.keys(this.#s).some(d=>{const m=d;return this.#s[m]!==e[m]&&c.has(m)})};this.#N({listeners:n()})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){Jt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function IC(e,t){return on(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Yx(e,t){return IC(e,t)||e.state.data!==void 0&&dm(e,t,t.refetchOnMount)}function dm(e,t,n){if(on(t.enabled,e)!==!1&&Ls(t.staleTime,e)!=="static"){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&Gm(e,t)}return!1}function Xx(e,t,n,i){return(e!==t||on(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Gm(e,n)}function Gm(e,t){return on(t.enabled,e)!==!1&&e.isStaleByTime(Ls(t.staleTime,e))}function OC(e,t){return!Bc(e.getCurrentResult(),t)}function Jx(e){return{onFetch:(t,n)=>{const i=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,c=t.state.data?.pages||[],d=t.state.data?.pageParams||[];let m={pages:[],pageParams:[]},g=0;const x=async()=>{let v=!1;const b=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},N=Ty(t.options,t.fetchOptions),C=async(T,w,j)=>{if(v)return Promise.reject();if(w==null&&T.pages.length)return Promise.resolve(T);const _=(()=>{const Z={client:t.client,queryKey:t.queryKey,pageParam:w,direction:j?"backward":"forward",meta:t.options.meta};return b(Z),Z})(),F=await N(_),{maxPages:I}=t.options,M=j?CC:SC;return{pages:M(T.pages,F,I),pageParams:M(T.pageParams,w,I)}};if(o&&c.length){const T=o==="backward",w=T?DC:ev,j={pages:c,pageParams:d},k=w(i,j);m=await C(j,k,T)}else{const T=e??c.length;do{const w=g===0?d[0]??i.initialPageParam:ev(i,m);if(g>0&&w==null)break;m=await C(m,w),g++}while(g<T)}return m};t.options.persister?t.fetchFn=()=>t.options.persister?.(x,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=x}}}function ev(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function DC(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var MC=class extends Iy{#e;#t;#r;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||Dy(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Ay({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(c,d)=>{this.#n({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const i=this.state.status==="pending",o=!this.#s.canStart();try{if(i)t();else{this.#n({type:"pending",variables:e,isPaused:o}),await this.#r.config.onMutate?.(e,this,n);const d=await this.options.onMutate?.(e,n);d!==this.state.context&&this.#n({type:"pending",context:d,variables:e,isPaused:o})}const c=await this.#s.start();return await this.#r.config.onSuccess?.(c,e,this.state.context,this,n),await this.options.onSuccess?.(c,e,this.state.context,n),await this.#r.config.onSettled?.(c,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(c,null,e,this.state.context,n),this.#n({type:"success",data:c}),c}catch(c){try{throw await this.#r.config.onError?.(c,e,this.state.context,this,n),await this.options.onError?.(c,e,this.state.context,n),await this.#r.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,c,e,this.state.context,n),c}finally{this.#n({type:"error",error:c})}}finally{this.#r.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Jt.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function Dy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var FC=class extends Ti{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,n){const i=new MC({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:n});return this.add(i),i}add(e){this.#e.add(e);const t=Nc(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Nc(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Nc(e);if(typeof t=="string"){const i=this.#t.get(t)?.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=Nc(e);return typeof t=="string"?this.#t.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Jt.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Kx(t,n))}findAll(e={}){return this.getAll().filter(t=>Kx(e,t))}notify(e){Jt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Jt.batch(()=>Promise.all(e.map(t=>t.continue().catch(Er))))}};function Nc(e){return e.options.scope?.id}var LC=class extends Ti{#e;#t=void 0;#r;#s;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),Bc(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&ga(n.mutationKey)!==ga(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#i()}mutate(t,n){return this.#s=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??Dy();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){Jt.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,i=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#s.onSuccess?.(t.data,n,i,o),this.#s.onSettled?.(t.data,null,n,i,o)):t?.type==="error"&&(this.#s.onError?.(t.error,n,i,o),this.#s.onSettled?.(void 0,t.error,n,i,o))}this.listeners.forEach(n=>{n(this.#t)})})}},BC=class extends Ti{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const i=t.queryKey,o=t.queryHash??qm(i,t);let c=this.get(o);return c||(c=new RC({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(c)),c}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Wx(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Wx(e,n)):t}notify(e){Jt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Jt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Jt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},$C=class{#e;#t;#r;#s;#n;#i;#o;#a;constructor(e={}){this.#e=e.queryCache||new BC,this.#t=e.mutationCache||new FC,this.#r=e.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=Km.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=$c.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ls(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),c=this.#e.get(i.queryHash)?.state.data,d=wC(t,c);if(d!==void 0)return this.#e.build(this,i).setData(d,{...n,manual:!0})}setQueriesData(e,t,n){return Jt.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Jt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return Jt.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},i=Jt.batch(()=>this.#e.findAll(e).map(o=>o.cancel(n)));return Promise.all(i).then(Er).catch(Er)}invalidateQueries(e,t={}){return Jt.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=Jt.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let c=o.fetch(void 0,n);return n.throwOnError||(c=c.catch(Er)),o.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(i).then(Er)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Ls(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Er).catch(Er)}fetchInfiniteQuery(e){return e.behavior=Jx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Er).catch(Er)}ensureInfiniteQueryData(e){return e.behavior=Jx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $c.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#s.set(ga(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(i=>{Ao(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){this.#n.set(ga(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],n={};return t.forEach(i=>{Ao(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Wm&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},My=h.createContext(void 0),Rr=e=>{const t=h.useContext(My);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},VC=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(My.Provider,{value:e,children:t})),Fy=h.createContext(!1),zC=()=>h.useContext(Fy);Fy.Provider;function UC(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var qC=h.createContext(UC()),WC=()=>h.useContext(qC),KC=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},GC=e=>{h.useEffect(()=>{e.clearReset()},[e])},QC=({result:e,errorResetBoundary:t,throwOnError:n,query:i,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(o&&e.data===void 0||_y(n,[e.error,i])),HC=e=>{if(e.suspense){const n=o=>o==="static"?o:Math.max(o??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...o)=>n(i(...o)):n(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ZC=(e,t)=>e.isLoading&&e.isFetching&&!t,YC=(e,t)=>e?.suspense&&t.isPending,tv=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function XC(e,t,n){const i=zC(),o=WC(),c=Rr(),d=c.defaultQueryOptions(e);c.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=i?"isRestoring":"optimistic",HC(d),KC(d,o),GC(o);const m=!c.getQueryCache().get(d.queryHash),[g]=h.useState(()=>new t(c,d)),x=g.getOptimisticResult(d),v=!i&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(b=>{const N=v?g.subscribe(Jt.batchCalls(b)):Er;return g.updateResult(),N},[g,v]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),h.useEffect(()=>{g.setOptions(d)},[d,g]),YC(d,x))throw tv(d,g,o);if(QC({result:x,errorResetBoundary:o,throwOnError:d.throwOnError,query:c.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw x.error;return c.getDefaultOptions().queries?._experimental_afterQuery?.(d,x),d.experimental_prefetchInRender&&!pa&&ZC(x,i)&&(m?tv(d,g,o):c.getQueryCache().get(d.queryHash)?.promise)?.catch(Er).finally(()=>{g.updateResult()}),d.notifyOnChangeProps?x:g.trackResult(x)}function mt(e,t){return XC(e,AC)}function Qe(e,t){const n=Rr(),[i]=h.useState(()=>new LC(n,e));h.useEffect(()=>{i.setOptions(e)},[i,e]);const o=h.useSyncExternalStore(h.useCallback(d=>i.subscribe(Jt.batchCalls(d)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),c=h.useCallback((d,m)=>{i.mutate(d,m).catch(Er)},[i]);if(o.error&&_y(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:c,mutateAsync:o.mutate}}async function Ly(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Nt(e,t,n){const i={};n&&(i["Content-Type"]="application/json");const o=localStorage.getItem("auth_token");o&&(i.Authorization=`Bearer ${o}`);const c=await fetch(t,{method:e,headers:i,body:n?JSON.stringify(n):void 0,credentials:"include"});return await Ly(c),c}const JC=({on401:e})=>async({queryKey:t})=>{const n={},i=localStorage.getItem("auth_token");i&&(n.Authorization=`Bearer ${i}`);const o=await fetch(t.join("/"),{headers:n,credentials:"include"});return await Ly(o),await o.json()},wr=new $C({defaultOptions:{queries:{queryFn:JC({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),ek=1,tk=1e6;let Df=0;function rk(){return Df=(Df+1)%Number.MAX_SAFE_INTEGER,Df.toString()}const Mf=new Map,rv=e=>{if(Mf.has(e))return;const t=setTimeout(()=>{Mf.delete(e),To({type:"REMOVE_TOAST",toastId:e})},tk);Mf.set(e,t)},nk=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ek)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?rv(n):e.toasts.forEach(i=>{rv(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ac=[];let Ic={toasts:[]};function To(e){Ic=nk(Ic,e),Ac.forEach(t=>{t(Ic)})}function sk({...e}){const t=rk(),n=o=>To({type:"UPDATE_TOAST",toast:{...o,id:t}}),i=()=>To({type:"DISMISS_TOAST",toastId:t});return To({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||i()}}}),{id:t,dismiss:i,update:n}}function Mt(){const[e,t]=h.useState(Ic);return h.useEffect(()=>(Ac.push(t),()=>{const n=Ac.indexOf(t);n>-1&&Ac.splice(n,1)}),[e]),{...e,toast:sk,dismiss:n=>To({type:"DISMISS_TOAST",toastId:n})}}var _i=xy();const ak=gy(_i);function Fe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function nv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cn(...e){return t=>{let n=!1;const i=e.map(o=>{const c=nv(o,t);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():nv(e[o],null)}}}}function at(...e){return h.useCallback(cn(...e),e)}function ik(e,t){const n=h.createContext(t),i=c=>{const{children:d,...m}=c,g=h.useMemo(()=>m,Object.values(m));return r.jsx(n.Provider,{value:g,children:d})};i.displayName=e+"Provider";function o(c){const d=h.useContext(n);if(d)return d;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[i,o]}function Jr(e,t=[]){let n=[];function i(c,d){const m=h.createContext(d),g=n.length;n=[...n,d];const x=b=>{const{scope:N,children:C,...T}=b,w=N?.[e]?.[g]||m,j=h.useMemo(()=>T,Object.values(T));return r.jsx(w.Provider,{value:j,children:C})};x.displayName=c+"Provider";function v(b,N){const C=N?.[e]?.[g]||m,T=h.useContext(C);if(T)return T;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${c}\``)}return[x,v]}const o=()=>{const c=n.map(d=>h.createContext(d));return function(m){const g=m?.[e]||c;return h.useMemo(()=>({[`__scope${e}`]:{...m,[e]:g}}),[m,g])}};return o.scopeName=e,[i,ok(o,...t)]}function ok(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const d=i.reduce((m,{useScope:g,scopeName:x})=>{const b=g(c)[`__scope${x}`];return{...m,...b}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}function sv(e){const t=lk(e),n=h.forwardRef((i,o)=>{const{children:c,...d}=i,m=h.Children.toArray(c),g=m.find(dk);if(g){const x=g.props.children,v=m.map(b=>b===g?h.Children.count(x)>1?h.Children.only(null):h.isValidElement(x)?x.props.children:null:b);return r.jsx(t,{...d,ref:o,children:h.isValidElement(x)?h.cloneElement(x,void 0,v):null})}return r.jsx(t,{...d,ref:o,children:c})});return n.displayName=`${e}.Slot`,n}function lk(e){const t=h.forwardRef((n,i)=>{const{children:o,...c}=n;if(h.isValidElement(o)){const d=fk(o),m=uk(c,o.props);return o.type!==h.Fragment&&(m.ref=i?cn(i,d):d),h.cloneElement(o,m)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ck=Symbol("radix.slottable");function dk(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ck}function uk(e,t){const n={...t};for(const i in t){const o=e[i],c=t[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...m)=>{const g=c(...m);return o(...m),g}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...e,...n}}function fk(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Qm(e){const t=e+"CollectionProvider",[n,i]=Jr(t),[o,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=w=>{const{scope:j,children:k}=w,_=Ot.useRef(null),F=Ot.useRef(new Map).current;return r.jsx(o,{scope:j,itemMap:F,collectionRef:_,children:k})};d.displayName=t;const m=e+"CollectionSlot",g=sv(m),x=Ot.forwardRef((w,j)=>{const{scope:k,children:_}=w,F=c(m,k),I=at(j,F.collectionRef);return r.jsx(g,{ref:I,children:_})});x.displayName=m;const v=e+"CollectionItemSlot",b="data-radix-collection-item",N=sv(v),C=Ot.forwardRef((w,j)=>{const{scope:k,children:_,...F}=w,I=Ot.useRef(null),M=at(j,I),Z=c(v,k);return Ot.useEffect(()=>(Z.itemMap.set(I,{ref:I,...F}),()=>void Z.itemMap.delete(I))),r.jsx(N,{[b]:"",ref:M,children:_})});C.displayName=v;function T(w){const j=c(e+"CollectionConsumer",w);return Ot.useCallback(()=>{const _=j.collectionRef.current;if(!_)return[];const F=Array.from(_.querySelectorAll(`[${b}]`));return Array.from(j.itemMap.values()).sort((Z,q)=>F.indexOf(Z.ref.current)-F.indexOf(q.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:d,Slot:x,ItemSlot:C},T,i]}function mk(e){const t=hk(e),n=h.forwardRef((i,o)=>{const{children:c,...d}=i,m=h.Children.toArray(c),g=m.find(gk);if(g){const x=g.props.children,v=m.map(b=>b===g?h.Children.count(x)>1?h.Children.only(null):h.isValidElement(x)?x.props.children:null:b);return r.jsx(t,{...d,ref:o,children:h.isValidElement(x)?h.cloneElement(x,void 0,v):null})}return r.jsx(t,{...d,ref:o,children:c})});return n.displayName=`${e}.Slot`,n}function hk(e){const t=h.forwardRef((n,i)=>{const{children:o,...c}=n;if(h.isValidElement(o)){const d=vk(o),m=xk(c,o.props);return o.type!==h.Fragment&&(m.ref=i?cn(i,d):d),h.cloneElement(o,m)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pk=Symbol("radix.slottable");function gk(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pk}function xk(e,t){const n={...t};for(const i in t){const o=e[i],c=t[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...m)=>{const g=c(...m);return o(...m),g}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...e,...n}}function vk(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var yk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],He=yk.reduce((e,t)=>{const n=mk(`Primitive.${t}`),i=h.forwardRef((o,c)=>{const{asChild:d,...m}=o,g=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(g,{...m,ref:c})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function By(e,t){e&&_i.flushSync(()=>e.dispatchEvent(t))}function dn(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>t.current?.(...n),[])}function bk(e,t=globalThis?.document){const n=dn(e);h.useEffect(()=>{const i=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var wk="DismissableLayer",um="dismissableLayer.update",jk="dismissableLayer.pointerDownOutside",Nk="dismissableLayer.focusOutside",av,$y=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ri=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:d,onDismiss:m,...g}=e,x=h.useContext($y),[v,b]=h.useState(null),N=v?.ownerDocument??globalThis?.document,[,C]=h.useState({}),T=at(t,q=>b(q)),w=Array.from(x.layers),[j]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),k=w.indexOf(j),_=v?w.indexOf(v):-1,F=x.layersWithOutsidePointerEventsDisabled.size>0,I=_>=k,M=Ck(q=>{const J=q.target,U=[...x.branches].some(re=>re.contains(J));!I||U||(o?.(q),d?.(q),q.defaultPrevented||m?.())},N),Z=kk(q=>{const J=q.target;[...x.branches].some(re=>re.contains(J))||(c?.(q),d?.(q),q.defaultPrevented||m?.())},N);return bk(q=>{_===x.layers.size-1&&(i?.(q),!q.defaultPrevented&&m&&(q.preventDefault(),m()))},N),h.useEffect(()=>{if(v)return n&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(av=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(v)),x.layers.add(v),iv(),()=>{n&&x.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=av)}},[v,N,n,x]),h.useEffect(()=>()=>{v&&(x.layers.delete(v),x.layersWithOutsidePointerEventsDisabled.delete(v),iv())},[v,x]),h.useEffect(()=>{const q=()=>C({});return document.addEventListener(um,q),()=>document.removeEventListener(um,q)},[]),r.jsx(He.div,{...g,ref:T,style:{pointerEvents:F?I?"auto":"none":void 0,...e.style},onFocusCapture:Fe(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:Fe(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Fe(e.onPointerDownCapture,M.onPointerDownCapture)})});Ri.displayName=wk;var Sk="DismissableLayerBranch",Vy=h.forwardRef((e,t)=>{const n=h.useContext($y),i=h.useRef(null),o=at(t,i);return h.useEffect(()=>{const c=i.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),r.jsx(He.div,{...e,ref:o})});Vy.displayName=Sk;function Ck(e,t=globalThis?.document){const n=dn(e),i=h.useRef(!1),o=h.useRef(()=>{});return h.useEffect(()=>{const c=m=>{if(m.target&&!i.current){let g=function(){zy(jk,n,x,{discrete:!0})};const x={originalEvent:m};m.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=g,t.addEventListener("click",o.current,{once:!0})):g()}else t.removeEventListener("click",o.current);i.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",c),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function kk(e,t=globalThis?.document){const n=dn(e),i=h.useRef(!1);return h.useEffect(()=>{const o=c=>{c.target&&!i.current&&zy(Nk,n,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function iv(){const e=new CustomEvent(um);document.dispatchEvent(e)}function zy(e,t,n,{discrete:i}){const o=n.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),i?By(o,c):o.dispatchEvent(c)}var Pk=Ri,Ek=Vy,pr=globalThis?.document?h.useLayoutEffect:()=>{},Tk="Portal",nl=h.forwardRef((e,t)=>{const{container:n,...i}=e,[o,c]=h.useState(!1);pr(()=>c(!0),[]);const d=n||o&&globalThis?.document?.body;return d?ak.createPortal(r.jsx(He.div,{...i,ref:t}),d):null});nl.displayName=Tk;function _k(e,t){return h.useReducer((n,i)=>t[n][i]??n,e)}var En=e=>{const{present:t,children:n}=e,i=Rk(t),o=typeof n=="function"?n({present:i.isPresent}):h.Children.only(n),c=at(i.ref,Ak(o));return typeof n=="function"||i.isPresent?h.cloneElement(o,{ref:c}):null};En.displayName="Presence";function Rk(e){const[t,n]=h.useState(),i=h.useRef(null),o=h.useRef(e),c=h.useRef("none"),d=e?"mounted":"unmounted",[m,g]=_k(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const x=Sc(i.current);c.current=m==="mounted"?x:"none"},[m]),pr(()=>{const x=i.current,v=o.current;if(v!==e){const N=c.current,C=Sc(x);e?g("MOUNT"):C==="none"||x?.display==="none"?g("UNMOUNT"):g(v&&N!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,g]),pr(()=>{if(t){let x;const v=t.ownerDocument.defaultView??window,b=C=>{const w=Sc(i.current).includes(CSS.escape(C.animationName));if(C.target===t&&w&&(g("ANIMATION_END"),!o.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",x=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},N=C=>{C.target===t&&(c.current=Sc(i.current))};return t.addEventListener("animationstart",N),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{v.clearTimeout(x),t.removeEventListener("animationstart",N),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:h.useCallback(x=>{i.current=x?getComputedStyle(x):null,n(x)},[])}}function Sc(e){return e?.animationName||"none"}function Ak(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ik=cd[" useInsertionEffect ".trim().toString()]||pr;function is({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[o,c,d]=Ok({defaultProp:t,onChange:n}),m=e!==void 0,g=m?e:o;{const v=h.useRef(e!==void 0);h.useEffect(()=>{const b=v.current;b!==m&&console.warn(`${i} is changing from ${b?"controlled":"uncontrolled"} to ${m?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=m},[m,i])}const x=h.useCallback(v=>{if(m){const b=Dk(v)?v(e):v;b!==e&&d.current?.(b)}else c(v)},[m,e,c,d]);return[g,x]}function Ok({defaultProp:e,onChange:t}){const[n,i]=h.useState(e),o=h.useRef(n),c=h.useRef(t);return Ik(()=>{c.current=t},[t]),h.useEffect(()=>{o.current!==n&&(c.current?.(n),o.current=n)},[n,o]),[n,i,c]}function Dk(e){return typeof e=="function"}var Uy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Mk="VisuallyHidden",ud=h.forwardRef((e,t)=>r.jsx(He.span,{...e,ref:t,style:{...Uy,...e.style}}));ud.displayName=Mk;var Fk=ud,Hm="ToastProvider",[Zm,Lk,Bk]=Qm("Toast"),[qy]=Jr("Toast",[Bk]),[$k,fd]=qy(Hm),Wy=e=>{const{__scopeToast:t,label:n="Notification",duration:i=5e3,swipeDirection:o="right",swipeThreshold:c=50,children:d}=e,[m,g]=h.useState(null),[x,v]=h.useState(0),b=h.useRef(!1),N=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hm}\`. Expected non-empty \`string\`.`),r.jsx(Zm.Provider,{scope:t,children:r.jsx($k,{scope:t,label:n,duration:i,swipeDirection:o,swipeThreshold:c,toastCount:x,viewport:m,onViewportChange:g,onToastAdd:h.useCallback(()=>v(C=>C+1),[]),onToastRemove:h.useCallback(()=>v(C=>C-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:N,children:d})})};Wy.displayName=Hm;var Ky="ToastViewport",Vk=["F8"],fm="toast.viewportPause",mm="toast.viewportResume",Gy=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:i=Vk,label:o="Notifications ({hotkey})",...c}=e,d=fd(Ky,n),m=Lk(n),g=h.useRef(null),x=h.useRef(null),v=h.useRef(null),b=h.useRef(null),N=at(t,b,d.onViewportChange),C=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=d.toastCount>0;h.useEffect(()=>{const j=k=>{i.length!==0&&i.every(F=>k[F]||k.code===F)&&b.current?.focus()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[i]),h.useEffect(()=>{const j=g.current,k=b.current;if(T&&j&&k){const _=()=>{if(!d.isClosePausedRef.current){const Z=new CustomEvent(fm);k.dispatchEvent(Z),d.isClosePausedRef.current=!0}},F=()=>{if(d.isClosePausedRef.current){const Z=new CustomEvent(mm);k.dispatchEvent(Z),d.isClosePausedRef.current=!1}},I=Z=>{!j.contains(Z.relatedTarget)&&F()},M=()=>{j.contains(document.activeElement)||F()};return j.addEventListener("focusin",_),j.addEventListener("focusout",I),j.addEventListener("pointermove",_),j.addEventListener("pointerleave",M),window.addEventListener("blur",_),window.addEventListener("focus",F),()=>{j.removeEventListener("focusin",_),j.removeEventListener("focusout",I),j.removeEventListener("pointermove",_),j.removeEventListener("pointerleave",M),window.removeEventListener("blur",_),window.removeEventListener("focus",F)}}},[T,d.isClosePausedRef]);const w=h.useCallback(({tabbingDirection:j})=>{const _=m().map(F=>{const I=F.ref.current,M=[I,...e2(I)];return j==="forwards"?M:M.reverse()});return(j==="forwards"?_.reverse():_).flat()},[m]);return h.useEffect(()=>{const j=b.current;if(j){const k=_=>{const F=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!F){const M=document.activeElement,Z=_.shiftKey;if(_.target===j&&Z){x.current?.focus();return}const U=w({tabbingDirection:Z?"backwards":"forwards"}),re=U.findIndex(me=>me===M);Ff(U.slice(re+1))?_.preventDefault():Z?x.current?.focus():v.current?.focus()}};return j.addEventListener("keydown",k),()=>j.removeEventListener("keydown",k)}},[m,w]),r.jsxs(Ek,{ref:g,role:"region","aria-label":o.replace("{hotkey}",C),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&r.jsx(hm,{ref:x,onFocusFromOutsideViewport:()=>{const j=w({tabbingDirection:"forwards"});Ff(j)}}),r.jsx(Zm.Slot,{scope:n,children:r.jsx(He.ol,{tabIndex:-1,...c,ref:N})}),T&&r.jsx(hm,{ref:v,onFocusFromOutsideViewport:()=>{const j=w({tabbingDirection:"backwards"});Ff(j)}})]})});Gy.displayName=Ky;var Qy="ToastFocusProxy",hm=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...o}=e,c=fd(Qy,n);return r.jsx(ud,{tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:d=>{const m=d.relatedTarget;!c.viewport?.contains(m)&&i()}})});hm.displayName=Qy;var sl="Toast",zk="toast.swipeStart",Uk="toast.swipeMove",qk="toast.swipeCancel",Wk="toast.swipeEnd",Hy=h.forwardRef((e,t)=>{const{forceMount:n,open:i,defaultOpen:o,onOpenChange:c,...d}=e,[m,g]=is({prop:i,defaultProp:o??!0,onChange:c,caller:sl});return r.jsx(En,{present:n||m,children:r.jsx(Qk,{open:m,...d,ref:t,onClose:()=>g(!1),onPause:dn(e.onPause),onResume:dn(e.onResume),onSwipeStart:Fe(e.onSwipeStart,x=>{x.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Fe(e.onSwipeMove,x=>{const{x:v,y:b}=x.detail.delta;x.currentTarget.setAttribute("data-swipe","move"),x.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),x.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:Fe(e.onSwipeCancel,x=>{x.currentTarget.setAttribute("data-swipe","cancel"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),x.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Fe(e.onSwipeEnd,x=>{const{x:v,y:b}=x.detail.delta;x.currentTarget.setAttribute("data-swipe","end"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),x.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),x.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),g(!1)})})})});Hy.displayName=sl;var[Kk,Gk]=qy(sl,{onClose(){}}),Qk=h.forwardRef((e,t)=>{const{__scopeToast:n,type:i="foreground",duration:o,open:c,onClose:d,onEscapeKeyDown:m,onPause:g,onResume:x,onSwipeStart:v,onSwipeMove:b,onSwipeCancel:N,onSwipeEnd:C,...T}=e,w=fd(sl,n),[j,k]=h.useState(null),_=at(t,ne=>k(ne)),F=h.useRef(null),I=h.useRef(null),M=o||w.duration,Z=h.useRef(0),q=h.useRef(M),J=h.useRef(0),{onToastAdd:U,onToastRemove:re}=w,me=dn(()=>{j?.contains(document.activeElement)&&w.viewport?.focus(),d()}),te=h.useCallback(ne=>{!ne||ne===1/0||(window.clearTimeout(J.current),Z.current=new Date().getTime(),J.current=window.setTimeout(me,ne))},[me]);h.useEffect(()=>{const ne=w.viewport;if(ne){const we=()=>{te(q.current),x?.()},E=()=>{const K=new Date().getTime()-Z.current;q.current=q.current-K,window.clearTimeout(J.current),g?.()};return ne.addEventListener(fm,E),ne.addEventListener(mm,we),()=>{ne.removeEventListener(fm,E),ne.removeEventListener(mm,we)}}},[w.viewport,M,g,x,te]),h.useEffect(()=>{c&&!w.isClosePausedRef.current&&te(M)},[c,M,w.isClosePausedRef,te]),h.useEffect(()=>(U(),()=>re()),[U,re]);const he=h.useMemo(()=>j?r0(j):null,[j]);return w.viewport?r.jsxs(r.Fragment,{children:[he&&r.jsx(Hk,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite",children:he}),r.jsx(Kk,{scope:n,onClose:me,children:_i.createPortal(r.jsx(Zm.ItemSlot,{scope:n,children:r.jsx(Pk,{asChild:!0,onEscapeKeyDown:Fe(m,()=>{w.isFocusedToastEscapeKeyDownRef.current||me(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(He.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":w.swipeDirection,...T,ref:_,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Fe(e.onKeyDown,ne=>{ne.key==="Escape"&&(m?.(ne.nativeEvent),ne.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,me()))}),onPointerDown:Fe(e.onPointerDown,ne=>{ne.button===0&&(F.current={x:ne.clientX,y:ne.clientY})}),onPointerMove:Fe(e.onPointerMove,ne=>{if(!F.current)return;const we=ne.clientX-F.current.x,E=ne.clientY-F.current.y,K=!!I.current,V=["left","right"].includes(w.swipeDirection),Y=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,se=V?Y(0,we):0,A=V?0:Y(0,E),R=ne.pointerType==="touch"?10:2,D={x:se,y:A},z={originalEvent:ne,delta:D};K?(I.current=D,Cc(Uk,b,z,{discrete:!1})):ov(D,w.swipeDirection,R)?(I.current=D,Cc(zk,v,z,{discrete:!1}),ne.target.setPointerCapture(ne.pointerId)):(Math.abs(we)>R||Math.abs(E)>R)&&(F.current=null)}),onPointerUp:Fe(e.onPointerUp,ne=>{const we=I.current,E=ne.target;if(E.hasPointerCapture(ne.pointerId)&&E.releasePointerCapture(ne.pointerId),I.current=null,F.current=null,we){const K=ne.currentTarget,V={originalEvent:ne,delta:we};ov(we,w.swipeDirection,w.swipeThreshold)?Cc(Wk,C,V,{discrete:!0}):Cc(qk,N,V,{discrete:!0}),K.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),Hk=e=>{const{__scopeToast:t,children:n,...i}=e,o=fd(sl,t),[c,d]=h.useState(!1),[m,g]=h.useState(!1);return Xk(()=>d(!0)),h.useEffect(()=>{const x=window.setTimeout(()=>g(!0),1e3);return()=>window.clearTimeout(x)},[]),m?null:r.jsx(nl,{asChild:!0,children:r.jsx(ud,{...i,children:c&&r.jsxs(r.Fragment,{children:[o.label," ",n]})})})},Zk="ToastTitle",Zy=h.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return r.jsx(He.div,{...i,ref:t})});Zy.displayName=Zk;var Yk="ToastDescription",Yy=h.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return r.jsx(He.div,{...i,ref:t})});Yy.displayName=Yk;var Xy="ToastAction",Jy=h.forwardRef((e,t)=>{const{altText:n,...i}=e;return n.trim()?r.jsx(t0,{altText:n,asChild:!0,children:r.jsx(Ym,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Xy}\`. Expected non-empty \`string\`.`),null)});Jy.displayName=Xy;var e0="ToastClose",Ym=h.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e,o=Gk(e0,n);return r.jsx(t0,{asChild:!0,children:r.jsx(He.button,{type:"button",...i,ref:t,onClick:Fe(e.onClick,o.onClose)})})});Ym.displayName=e0;var t0=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:i,...o}=e;return r.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...o,ref:t})});function r0(e){const t=[];return Array.from(e.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),Jk(i)){const o=i.ariaHidden||i.hidden||i.style.display==="none",c=i.dataset.radixToastAnnounceExclude==="";if(!o)if(c){const d=i.dataset.radixToastAnnounceAlt;d&&t.push(d)}else t.push(...r0(i))}}),t}function Cc(e,t,n,{discrete:i}){const o=n.originalEvent.currentTarget,c=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),i?By(o,c):o.dispatchEvent(c)}var ov=(e,t,n=0)=>{const i=Math.abs(e.x),o=Math.abs(e.y),c=i>o;return t==="left"||t==="right"?c&&i>n:!c&&o>n};function Xk(e=()=>{}){const t=dn(e);pr(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[t])}function Jk(e){return e.nodeType===e.ELEMENT_NODE}function e2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ff(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var t2=Wy,n0=Gy,s0=Hy,a0=Zy,i0=Yy,o0=Jy,l0=Ym;function c0(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=c0(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function d0(){for(var e,t,n=0,i="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=c0(e))&&(i&&(i+=" "),i+=t);return i}const lv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cv=d0,al=(e,t)=>n=>{var i;if(t?.variants==null)return cv(e,n?.class,n?.className);const{variants:o,defaultVariants:c}=t,d=Object.keys(o).map(x=>{const v=n?.[x],b=c?.[x];if(v===null)return null;const N=lv(v)||lv(b);return o[x][N]}),m=n&&Object.entries(n).reduce((x,v)=>{let[b,N]=v;return N===void 0||(x[b]=N),x},{}),g=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((x,v)=>{let{class:b,className:N,...C}=v;return Object.entries(C).every(T=>{let[w,j]=T;return Array.isArray(j)?j.includes({...c,...m}[w]):{...c,...m}[w]===j})?[...x,b,N]:x},[]);return cv(e,d,g,n?.class,n?.className)};const r2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u0=(...e)=>e.filter((t,n,i)=>!!t&&i.indexOf(t)===n).join(" ");var n2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s2=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:d,...m},g)=>h.createElement("svg",{ref:g,...n2,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:u0("lucide",o),...m},[...d.map(([x,v])=>h.createElement(x,v)),...Array.isArray(c)?c:[c]]));const Xe=(e,t)=>{const n=h.forwardRef(({className:i,...o},c)=>h.createElement(s2,{ref:c,iconNode:t,className:u0(`lucide-${r2(e)}`,i),...o}));return n.displayName=`${e}`,n};const Xm=Xe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const xi=Xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Io=Xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Bn=Xe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const a2=Xe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const f0=Xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Jm=Xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const i2=Xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const o2=Xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const jr=Xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const l2=Xe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const c2=Xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const m0=Xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Vc=Xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const dv=Xe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const d2=Xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const pm=Xe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Oo=Xe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const gm=Xe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const uv=Xe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const vi=Xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const u2=Xe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);const h0=Xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const f2=Xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Lf=Xe("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);const Oc=Xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const Do=Xe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const Ds=Xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const fv=Xe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const Dc=Xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const m2=Xe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const Vn=Xe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const yi=Xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const mv=Xe("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);const ci=Xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const bi=Xe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const Mo=Xe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const h2=Xe("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);const p2=Xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const ln=Xe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const g2=Xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const x2=Xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const v2=Xe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const y2=Xe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);const md=Xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const b2=Xe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),eh="-",w2=e=>{const t=N2(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:d=>{const m=d.split(eh);return m[0]===""&&m.length!==1&&m.shift(),p0(m,t)||j2(d)},getConflictingClassGroupIds:(d,m)=>{const g=n[d]||[];return m&&i[d]?[...g,...i[d]]:g}}},p0=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),o=i?p0(e.slice(1),i):void 0;if(o)return o;if(t.validators.length===0)return;const c=e.join(eh);return t.validators.find(({validator:d})=>d(c))?.classGroupId},hv=/^\[(.+)\]$/,j2=e=>{if(hv.test(e)){const t=hv.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},N2=e=>{const{theme:t,prefix:n}=e,i={nextPart:new Map,validators:[]};return C2(Object.entries(e.classGroups),n).forEach(([c,d])=>{xm(d,i,c,t)}),i},xm=(e,t,n,i)=>{e.forEach(o=>{if(typeof o=="string"){const c=o===""?t:pv(t,o);c.classGroupId=n;return}if(typeof o=="function"){if(S2(o)){xm(o(i),t,n,i);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([c,d])=>{xm(d,pv(t,c),n,i)})})},pv=(e,t)=>{let n=e;return t.split(eh).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},S2=e=>e.isThemeGetter,C2=(e,t)=>t?e.map(([n,i])=>{const o=i.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([d,m])=>[t+d,m])):c);return[n,o]}):e,k2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const o=(c,d)=>{n.set(c,d),t++,t>e&&(t=0,i=n,n=new Map)};return{get(c){let d=n.get(c);if(d!==void 0)return d;if((d=i.get(c))!==void 0)return o(c,d),d},set(c,d){n.has(c)?n.set(c,d):o(c,d)}}},g0="!",P2=e=>{const{separator:t,experimentalParseClassName:n}=e,i=t.length===1,o=t[0],c=t.length,d=m=>{const g=[];let x=0,v=0,b;for(let j=0;j<m.length;j++){let k=m[j];if(x===0){if(k===o&&(i||m.slice(j,j+c)===t)){g.push(m.slice(v,j)),v=j+c;continue}if(k==="/"){b=j;continue}}k==="["?x++:k==="]"&&x--}const N=g.length===0?m:m.substring(v),C=N.startsWith(g0),T=C?N.substring(1):N,w=b&&b>v?b-v:void 0;return{modifiers:g,hasImportantModifier:C,baseClassName:T,maybePostfixModifierPosition:w}};return n?m=>n({className:m,parseClassName:d}):d},E2=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(i=>{i[0]==="["?(t.push(...n.sort(),i),n=[]):n.push(i)}),t.push(...n.sort()),t},T2=e=>({cache:k2(e.cacheSize),parseClassName:P2(e),...w2(e)}),_2=/\s+/,R2=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:o}=t,c=[],d=e.trim().split(_2);let m="";for(let g=d.length-1;g>=0;g-=1){const x=d[g],{modifiers:v,hasImportantModifier:b,baseClassName:N,maybePostfixModifierPosition:C}=n(x);let T=!!C,w=i(T?N.substring(0,C):N);if(!w){if(!T){m=x+(m.length>0?" "+m:m);continue}if(w=i(N),!w){m=x+(m.length>0?" "+m:m);continue}T=!1}const j=E2(v).join(":"),k=b?j+g0:j,_=k+w;if(c.includes(_))continue;c.push(_);const F=o(w,T);for(let I=0;I<F.length;++I){const M=F[I];c.push(k+M)}m=x+(m.length>0?" "+m:m)}return m};function A2(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=x0(t))&&(i&&(i+=" "),i+=n);return i}const x0=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=x0(e[i]))&&(n&&(n+=" "),n+=t);return n};function I2(e,...t){let n,i,o,c=d;function d(g){const x=t.reduce((v,b)=>b(v),e());return n=T2(x),i=n.cache.get,o=n.cache.set,c=m,m(g)}function m(g){const x=i(g);if(x)return x;const v=R2(g,n);return o(g,v),v}return function(){return c(A2.apply(null,arguments))}}const jt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},v0=/^\[(?:([a-z-]+):)?(.+)\]$/i,O2=/^\d+\/\d+$/,D2=new Set(["px","full","screen"]),M2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,F2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,L2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,B2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rs=e=>di(e)||D2.has(e)||O2.test(e),As=e=>Ai(e,"length",Q2),di=e=>!!e&&!Number.isNaN(Number(e)),Bf=e=>Ai(e,"number",di),No=e=>!!e&&Number.isInteger(Number(e)),V2=e=>e.endsWith("%")&&di(e.slice(0,-1)),rt=e=>v0.test(e),Is=e=>M2.test(e),z2=new Set(["length","size","percentage"]),U2=e=>Ai(e,z2,y0),q2=e=>Ai(e,"position",y0),W2=new Set(["image","url"]),K2=e=>Ai(e,W2,Z2),G2=e=>Ai(e,"",H2),So=()=>!0,Ai=(e,t,n)=>{const i=v0.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):n(i[2]):!1},Q2=e=>F2.test(e)&&!L2.test(e),y0=()=>!1,H2=e=>B2.test(e),Z2=e=>$2.test(e),Y2=()=>{const e=jt("colors"),t=jt("spacing"),n=jt("blur"),i=jt("brightness"),o=jt("borderColor"),c=jt("borderRadius"),d=jt("borderSpacing"),m=jt("borderWidth"),g=jt("contrast"),x=jt("grayscale"),v=jt("hueRotate"),b=jt("invert"),N=jt("gap"),C=jt("gradientColorStops"),T=jt("gradientColorStopPositions"),w=jt("inset"),j=jt("margin"),k=jt("opacity"),_=jt("padding"),F=jt("saturate"),I=jt("scale"),M=jt("sepia"),Z=jt("skew"),q=jt("space"),J=jt("translate"),U=()=>["auto","contain","none"],re=()=>["auto","hidden","clip","visible","scroll"],me=()=>["auto",rt,t],te=()=>[rt,t],he=()=>["",rs,As],ne=()=>["auto",di,rt],we=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],E=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",rt],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[di,rt];return{cacheSize:500,separator:":",theme:{colors:[So],spacing:[rs,As],blur:["none","",Is,rt],brightness:A(),borderColor:[e],borderRadius:["none","","full",Is,rt],borderSpacing:te(),borderWidth:he(),contrast:A(),grayscale:Y(),hueRotate:A(),invert:Y(),gap:te(),gradientColorStops:[e],gradientColorStopPositions:[V2,As],inset:me(),margin:me(),opacity:A(),padding:te(),saturate:A(),scale:A(),sepia:Y(),skew:A(),space:te(),translate:te()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[Is]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...we(),rt]}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",No,rt]}],basis:[{basis:me()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",No,rt]}],"grid-cols":[{"grid-cols":[So]}],"col-start-end":[{col:["auto",{span:["full",No,rt]},rt]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[So]}],"row-start-end":[{row:["auto",{span:[No,rt]},rt]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,t]}],"min-w":[{"min-w":[rt,t,"min","max","fit"]}],"max-w":[{"max-w":[rt,t,"none","full","min","max","fit","prose",{screen:[Is]},Is]}],h:[{h:[rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Is,As]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bf]}],"font-family":[{font:[So]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",di,Bf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rs,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...E(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rs,As]}],"underline-offset":[{"underline-offset":["auto",rs,rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:te()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...we(),q2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",U2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},K2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[C]}],"gradient-via":[{via:[C]}],"gradient-to":[{to:[C]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...E(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:E()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...E()]}],"outline-offset":[{"outline-offset":[rs,rt]}],"outline-w":[{outline:[rs,As]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[rs,As]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Is,G2]}],"shadow-color":[{shadow:[So]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",Is,rt]}],grayscale:[{grayscale:[x]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[b]}],saturate:[{saturate:[F]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[x]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[F]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[No,rt]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":te()}],"scroll-mx":[{"scroll-mx":te()}],"scroll-my":[{"scroll-my":te()}],"scroll-ms":[{"scroll-ms":te()}],"scroll-me":[{"scroll-me":te()}],"scroll-mt":[{"scroll-mt":te()}],"scroll-mr":[{"scroll-mr":te()}],"scroll-mb":[{"scroll-mb":te()}],"scroll-ml":[{"scroll-ml":te()}],"scroll-p":[{"scroll-p":te()}],"scroll-px":[{"scroll-px":te()}],"scroll-py":[{"scroll-py":te()}],"scroll-ps":[{"scroll-ps":te()}],"scroll-pe":[{"scroll-pe":te()}],"scroll-pt":[{"scroll-pt":te()}],"scroll-pr":[{"scroll-pr":te()}],"scroll-pb":[{"scroll-pb":te()}],"scroll-pl":[{"scroll-pl":te()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[rs,As,Bf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},X2=I2(Y2);function _e(...e){return X2(d0(e))}const J2=t2,b0=h.forwardRef(({className:e,...t},n)=>r.jsx(n0,{ref:n,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));b0.displayName=n0.displayName;const eP=al("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),w0=h.forwardRef(({className:e,variant:t,...n},i)=>r.jsx(s0,{ref:i,className:_e(eP({variant:t}),e),...n}));w0.displayName=s0.displayName;const tP=h.forwardRef(({className:e,...t},n)=>r.jsx(o0,{ref:n,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));tP.displayName=o0.displayName;const j0=h.forwardRef(({className:e,...t},n)=>r.jsx(l0,{ref:n,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(md,{className:"h-4 w-4"})}));j0.displayName=l0.displayName;const N0=h.forwardRef(({className:e,...t},n)=>r.jsx(a0,{ref:n,className:_e("text-sm font-semibold",e),...t}));N0.displayName=a0.displayName;const S0=h.forwardRef(({className:e,...t},n)=>r.jsx(i0,{ref:n,className:_e("text-sm opacity-90",e),...t}));S0.displayName=i0.displayName;function rP(){const{toasts:e}=Mt();return r.jsxs(J2,{children:[e.map(function({id:t,title:n,description:i,action:o,...c}){return r.jsxs(w0,{...c,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(N0,{children:n}),i&&r.jsx(S0,{children:i})]}),o,r.jsx(j0,{})]},t)}),r.jsx(b0,{})]})}var nP=cd[" useId ".trim().toString()]||(()=>{}),sP=0;function Tr(e){const[t,n]=h.useState(nP());return pr(()=>{n(i=>i??String(sP++))},[e]),t?`radix-${t}`:""}const aP=["top","right","bottom","left"],Vs=Math.min,Hr=Math.max,zc=Math.round,kc=Math.floor,zn=e=>({x:e,y:e}),iP={left:"right",right:"left",bottom:"top",top:"bottom"},oP={start:"end",end:"start"};function vm(e,t,n){return Hr(e,Vs(t,n))}function os(e,t){return typeof e=="function"?e(t):e}function ls(e){return e.split("-")[0]}function Ii(e){return e.split("-")[1]}function th(e){return e==="x"?"y":"x"}function rh(e){return e==="y"?"height":"width"}const lP=new Set(["top","bottom"]);function $n(e){return lP.has(ls(e))?"y":"x"}function nh(e){return th($n(e))}function cP(e,t,n){n===void 0&&(n=!1);const i=Ii(e),o=nh(e),c=rh(o);let d=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(d=Uc(d)),[d,Uc(d)]}function dP(e){const t=Uc(e);return[ym(e),t,ym(t)]}function ym(e){return e.replace(/start|end/g,t=>oP[t])}const gv=["left","right"],xv=["right","left"],uP=["top","bottom"],fP=["bottom","top"];function mP(e,t,n){switch(e){case"top":case"bottom":return n?t?xv:gv:t?gv:xv;case"left":case"right":return t?uP:fP;default:return[]}}function hP(e,t,n,i){const o=Ii(e);let c=mP(ls(e),n==="start",i);return o&&(c=c.map(d=>d+"-"+o),t&&(c=c.concat(c.map(ym)))),c}function Uc(e){return e.replace(/left|right|bottom|top/g,t=>iP[t])}function pP(e){return{top:0,right:0,bottom:0,left:0,...e}}function C0(e){return typeof e!="number"?pP(e):{top:e,right:e,bottom:e,left:e}}function qc(e){const{x:t,y:n,width:i,height:o}=e;return{width:i,height:o,top:n,left:t,right:t+i,bottom:n+o,x:t,y:n}}function vv(e,t,n){let{reference:i,floating:o}=e;const c=$n(t),d=nh(t),m=rh(d),g=ls(t),x=c==="y",v=i.x+i.width/2-o.width/2,b=i.y+i.height/2-o.height/2,N=i[m]/2-o[m]/2;let C;switch(g){case"top":C={x:v,y:i.y-o.height};break;case"bottom":C={x:v,y:i.y+i.height};break;case"right":C={x:i.x+i.width,y:b};break;case"left":C={x:i.x-o.width,y:b};break;default:C={x:i.x,y:i.y}}switch(Ii(t)){case"start":C[d]-=N*(n&&x?-1:1);break;case"end":C[d]+=N*(n&&x?-1:1);break}return C}const gP=async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:c=[],platform:d}=n,m=c.filter(Boolean),g=await(d.isRTL==null?void 0:d.isRTL(t));let x=await d.getElementRects({reference:e,floating:t,strategy:o}),{x:v,y:b}=vv(x,i,g),N=i,C={},T=0;for(let w=0;w<m.length;w++){const{name:j,fn:k}=m[w],{x:_,y:F,data:I,reset:M}=await k({x:v,y:b,initialPlacement:i,placement:N,strategy:o,middlewareData:C,rects:x,platform:d,elements:{reference:e,floating:t}});v=_??v,b=F??b,C={...C,[j]:{...C[j],...I}},M&&T<=50&&(T++,typeof M=="object"&&(M.placement&&(N=M.placement),M.rects&&(x=M.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:o}):M.rects),{x:v,y:b}=vv(x,N,g)),w=-1)}return{x:v,y:b,placement:N,strategy:o,middlewareData:C}};async function Fo(e,t){var n;t===void 0&&(t={});const{x:i,y:o,platform:c,rects:d,elements:m,strategy:g}=e,{boundary:x="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:N=!1,padding:C=0}=os(t,e),T=C0(C),j=m[N?b==="floating"?"reference":"floating":b],k=qc(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(j)))==null||n?j:j.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(m.floating)),boundary:x,rootBoundary:v,strategy:g})),_=b==="floating"?{x:i,y:o,width:d.floating.width,height:d.floating.height}:d.reference,F=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m.floating)),I=await(c.isElement==null?void 0:c.isElement(F))?await(c.getScale==null?void 0:c.getScale(F))||{x:1,y:1}:{x:1,y:1},M=qc(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:_,offsetParent:F,strategy:g}):_);return{top:(k.top-M.top+T.top)/I.y,bottom:(M.bottom-k.bottom+T.bottom)/I.y,left:(k.left-M.left+T.left)/I.x,right:(M.right-k.right+T.right)/I.x}}const xP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:o,rects:c,platform:d,elements:m,middlewareData:g}=t,{element:x,padding:v=0}=os(e,t)||{};if(x==null)return{};const b=C0(v),N={x:n,y:i},C=nh(o),T=rh(C),w=await d.getDimensions(x),j=C==="y",k=j?"top":"left",_=j?"bottom":"right",F=j?"clientHeight":"clientWidth",I=c.reference[T]+c.reference[C]-N[C]-c.floating[T],M=N[C]-c.reference[C],Z=await(d.getOffsetParent==null?void 0:d.getOffsetParent(x));let q=Z?Z[F]:0;(!q||!await(d.isElement==null?void 0:d.isElement(Z)))&&(q=m.floating[F]||c.floating[T]);const J=I/2-M/2,U=q/2-w[T]/2-1,re=Vs(b[k],U),me=Vs(b[_],U),te=re,he=q-w[T]-me,ne=q/2-w[T]/2+J,we=vm(te,ne,he),E=!g.arrow&&Ii(o)!=null&&ne!==we&&c.reference[T]/2-(ne<te?re:me)-w[T]/2<0,K=E?ne<te?ne-te:ne-he:0;return{[C]:N[C]+K,data:{[C]:we,centerOffset:ne-we-K,...E&&{alignmentOffset:K}},reset:E}}}),vP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:c,rects:d,initialPlacement:m,platform:g,elements:x}=t,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:N,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:w=!0,...j}=os(e,t);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const k=ls(o),_=$n(m),F=ls(m)===m,I=await(g.isRTL==null?void 0:g.isRTL(x.floating)),M=N||(F||!w?[Uc(m)]:dP(m)),Z=T!=="none";!N&&Z&&M.push(...hP(m,w,T,I));const q=[m,...M],J=await Fo(t,j),U=[];let re=((i=c.flip)==null?void 0:i.overflows)||[];if(v&&U.push(J[k]),b){const ne=cP(o,d,I);U.push(J[ne[0]],J[ne[1]])}if(re=[...re,{placement:o,overflows:U}],!U.every(ne=>ne<=0)){var me,te;const ne=(((me=c.flip)==null?void 0:me.index)||0)+1,we=q[ne];if(we&&(!(b==="alignment"?_!==$n(we):!1)||re.every(V=>$n(V.placement)===_?V.overflows[0]>0:!0)))return{data:{index:ne,overflows:re},reset:{placement:we}};let E=(te=re.filter(K=>K.overflows[0]<=0).sort((K,V)=>K.overflows[1]-V.overflows[1])[0])==null?void 0:te.placement;if(!E)switch(C){case"bestFit":{var he;const K=(he=re.filter(V=>{if(Z){const Y=$n(V.placement);return Y===_||Y==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Y=>Y>0).reduce((Y,se)=>Y+se,0)]).sort((V,Y)=>V[1]-Y[1])[0])==null?void 0:he[0];K&&(E=K);break}case"initialPlacement":E=m;break}if(o!==E)return{reset:{placement:E}}}return{}}}};function yv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function bv(e){return aP.some(t=>e[t]>=0)}const yP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...o}=os(e,t);switch(i){case"referenceHidden":{const c=await Fo(t,{...o,elementContext:"reference"}),d=yv(c,n.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:bv(d)}}}case"escaped":{const c=await Fo(t,{...o,altBoundary:!0}),d=yv(c,n.floating);return{data:{escapedOffsets:d,escaped:bv(d)}}}default:return{}}}}},k0=new Set(["left","top"]);async function bP(e,t){const{placement:n,platform:i,elements:o}=e,c=await(i.isRTL==null?void 0:i.isRTL(o.floating)),d=ls(n),m=Ii(n),g=$n(n)==="y",x=k0.has(d)?-1:1,v=c&&g?-1:1,b=os(t,e);let{mainAxis:N,crossAxis:C,alignmentAxis:T}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return m&&typeof T=="number"&&(C=m==="end"?T*-1:T),g?{x:C*v,y:N*x}:{x:N*x,y:C*v}}const wP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:c,placement:d,middlewareData:m}=t,g=await bP(t,e);return d===((n=m.offset)==null?void 0:n.placement)&&(i=m.arrow)!=null&&i.alignmentOffset?{}:{x:o+g.x,y:c+g.y,data:{...g,placement:d}}}}},jP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:c=!0,crossAxis:d=!1,limiter:m={fn:j=>{let{x:k,y:_}=j;return{x:k,y:_}}},...g}=os(e,t),x={x:n,y:i},v=await Fo(t,g),b=$n(ls(o)),N=th(b);let C=x[N],T=x[b];if(c){const j=N==="y"?"top":"left",k=N==="y"?"bottom":"right",_=C+v[j],F=C-v[k];C=vm(_,C,F)}if(d){const j=b==="y"?"top":"left",k=b==="y"?"bottom":"right",_=T+v[j],F=T-v[k];T=vm(_,T,F)}const w=m.fn({...t,[N]:C,[b]:T});return{...w,data:{x:w.x-n,y:w.y-i,enabled:{[N]:c,[b]:d}}}}}},NP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:o,rects:c,middlewareData:d}=t,{offset:m=0,mainAxis:g=!0,crossAxis:x=!0}=os(e,t),v={x:n,y:i},b=$n(o),N=th(b);let C=v[N],T=v[b];const w=os(m,t),j=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(g){const F=N==="y"?"height":"width",I=c.reference[N]-c.floating[F]+j.mainAxis,M=c.reference[N]+c.reference[F]-j.mainAxis;C<I?C=I:C>M&&(C=M)}if(x){var k,_;const F=N==="y"?"width":"height",I=k0.has(ls(o)),M=c.reference[b]-c.floating[F]+(I&&((k=d.offset)==null?void 0:k[b])||0)+(I?0:j.crossAxis),Z=c.reference[b]+c.reference[F]+(I?0:((_=d.offset)==null?void 0:_[b])||0)-(I?j.crossAxis:0);T<M?T=M:T>Z&&(T=Z)}return{[N]:C,[b]:T}}}},SP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:o,rects:c,platform:d,elements:m}=t,{apply:g=()=>{},...x}=os(e,t),v=await Fo(t,x),b=ls(o),N=Ii(o),C=$n(o)==="y",{width:T,height:w}=c.floating;let j,k;b==="top"||b==="bottom"?(j=b,k=N===(await(d.isRTL==null?void 0:d.isRTL(m.floating))?"start":"end")?"left":"right"):(k=b,j=N==="end"?"top":"bottom");const _=w-v.top-v.bottom,F=T-v.left-v.right,I=Vs(w-v[j],_),M=Vs(T-v[k],F),Z=!t.middlewareData.shift;let q=I,J=M;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(J=F),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(q=_),Z&&!N){const re=Hr(v.left,0),me=Hr(v.right,0),te=Hr(v.top,0),he=Hr(v.bottom,0);C?J=T-2*(re!==0||me!==0?re+me:Hr(v.left,v.right)):q=w-2*(te!==0||he!==0?te+he:Hr(v.top,v.bottom))}await g({...t,availableWidth:J,availableHeight:q});const U=await d.getDimensions(m.floating);return T!==U.width||w!==U.height?{reset:{rects:!0}}:{}}}};function hd(){return typeof window<"u"}function Oi(e){return P0(e)?(e.nodeName||"").toLowerCase():"#document"}function Yr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Gn(e){var t;return(t=(P0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function P0(e){return hd()?e instanceof Node||e instanceof Yr(e).Node:!1}function Sn(e){return hd()?e instanceof Element||e instanceof Yr(e).Element:!1}function qn(e){return hd()?e instanceof HTMLElement||e instanceof Yr(e).HTMLElement:!1}function wv(e){return!hd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yr(e).ShadowRoot}const CP=new Set(["inline","contents"]);function il(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=Cn(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!CP.has(o)}const kP=new Set(["table","td","th"]);function PP(e){return kP.has(Oi(e))}const EP=[":popover-open",":modal"];function pd(e){return EP.some(t=>{try{return e.matches(t)}catch{return!1}})}const TP=["transform","translate","scale","rotate","perspective"],_P=["transform","translate","scale","rotate","perspective","filter"],RP=["paint","layout","strict","content"];function sh(e){const t=ah(),n=Sn(e)?Cn(e):e;return TP.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||_P.some(i=>(n.willChange||"").includes(i))||RP.some(i=>(n.contain||"").includes(i))}function AP(e){let t=zs(e);for(;qn(t)&&!wi(t);){if(sh(t))return t;if(pd(t))return null;t=zs(t)}return null}function ah(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const IP=new Set(["html","body","#document"]);function wi(e){return IP.has(Oi(e))}function Cn(e){return Yr(e).getComputedStyle(e)}function gd(e){return Sn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zs(e){if(Oi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||wv(e)&&e.host||Gn(e);return wv(t)?t.host:t}function E0(e){const t=zs(e);return wi(t)?e.ownerDocument?e.ownerDocument.body:e.body:qn(t)&&il(t)?t:E0(t)}function Lo(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=E0(e),c=o===((i=e.ownerDocument)==null?void 0:i.body),d=Yr(o);if(c){const m=bm(d);return t.concat(d,d.visualViewport||[],il(o)?o:[],m&&n?Lo(m):[])}return t.concat(o,Lo(o,[],n))}function bm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function T0(e){const t=Cn(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=qn(e),c=o?e.offsetWidth:n,d=o?e.offsetHeight:i,m=zc(n)!==c||zc(i)!==d;return m&&(n=c,i=d),{width:n,height:i,$:m}}function ih(e){return Sn(e)?e:e.contextElement}function ui(e){const t=ih(e);if(!qn(t))return zn(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:c}=T0(t);let d=(c?zc(n.width):n.width)/i,m=(c?zc(n.height):n.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!m||!Number.isFinite(m))&&(m=1),{x:d,y:m}}const OP=zn(0);function _0(e){const t=Yr(e);return!ah()||!t.visualViewport?OP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function DP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Yr(e)?!1:t}function xa(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),c=ih(e);let d=zn(1);t&&(i?Sn(i)&&(d=ui(i)):d=ui(e));const m=DP(c,n,i)?_0(c):zn(0);let g=(o.left+m.x)/d.x,x=(o.top+m.y)/d.y,v=o.width/d.x,b=o.height/d.y;if(c){const N=Yr(c),C=i&&Sn(i)?Yr(i):i;let T=N,w=bm(T);for(;w&&i&&C!==T;){const j=ui(w),k=w.getBoundingClientRect(),_=Cn(w),F=k.left+(w.clientLeft+parseFloat(_.paddingLeft))*j.x,I=k.top+(w.clientTop+parseFloat(_.paddingTop))*j.y;g*=j.x,x*=j.y,v*=j.x,b*=j.y,g+=F,x+=I,T=Yr(w),w=bm(T)}}return qc({width:v,height:b,x:g,y:x})}function xd(e,t){const n=gd(e).scrollLeft;return t?t.left+n:xa(Gn(e)).left+n}function R0(e,t){const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-xd(e,n),o=n.top+t.scrollTop;return{x:i,y:o}}function MP(e){let{elements:t,rect:n,offsetParent:i,strategy:o}=e;const c=o==="fixed",d=Gn(i),m=t?pd(t.floating):!1;if(i===d||m&&c)return n;let g={scrollLeft:0,scrollTop:0},x=zn(1);const v=zn(0),b=qn(i);if((b||!b&&!c)&&((Oi(i)!=="body"||il(d))&&(g=gd(i)),qn(i))){const C=xa(i);x=ui(i),v.x=C.x+i.clientLeft,v.y=C.y+i.clientTop}const N=d&&!b&&!c?R0(d,g):zn(0);return{width:n.width*x.x,height:n.height*x.y,x:n.x*x.x-g.scrollLeft*x.x+v.x+N.x,y:n.y*x.y-g.scrollTop*x.y+v.y+N.y}}function FP(e){return Array.from(e.getClientRects())}function LP(e){const t=Gn(e),n=gd(e),i=e.ownerDocument.body,o=Hr(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),c=Hr(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let d=-n.scrollLeft+xd(e);const m=-n.scrollTop;return Cn(i).direction==="rtl"&&(d+=Hr(t.clientWidth,i.clientWidth)-o),{width:o,height:c,x:d,y:m}}const jv=25;function BP(e,t){const n=Yr(e),i=Gn(e),o=n.visualViewport;let c=i.clientWidth,d=i.clientHeight,m=0,g=0;if(o){c=o.width,d=o.height;const v=ah();(!v||v&&t==="fixed")&&(m=o.offsetLeft,g=o.offsetTop)}const x=xd(i);if(x<=0){const v=i.ownerDocument,b=v.body,N=getComputedStyle(b),C=v.compatMode==="CSS1Compat"&&parseFloat(N.marginLeft)+parseFloat(N.marginRight)||0,T=Math.abs(i.clientWidth-b.clientWidth-C);T<=jv&&(c-=T)}else x<=jv&&(c+=x);return{width:c,height:d,x:m,y:g}}const $P=new Set(["absolute","fixed"]);function VP(e,t){const n=xa(e,!0,t==="fixed"),i=n.top+e.clientTop,o=n.left+e.clientLeft,c=qn(e)?ui(e):zn(1),d=e.clientWidth*c.x,m=e.clientHeight*c.y,g=o*c.x,x=i*c.y;return{width:d,height:m,x:g,y:x}}function Nv(e,t,n){let i;if(t==="viewport")i=BP(e,n);else if(t==="document")i=LP(Gn(e));else if(Sn(t))i=VP(t,n);else{const o=_0(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return qc(i)}function A0(e,t){const n=zs(e);return n===t||!Sn(n)||wi(n)?!1:Cn(n).position==="fixed"||A0(n,t)}function zP(e,t){const n=t.get(e);if(n)return n;let i=Lo(e,[],!1).filter(m=>Sn(m)&&Oi(m)!=="body"),o=null;const c=Cn(e).position==="fixed";let d=c?zs(e):e;for(;Sn(d)&&!wi(d);){const m=Cn(d),g=sh(d);!g&&m.position==="fixed"&&(o=null),(c?!g&&!o:!g&&m.position==="static"&&!!o&&$P.has(o.position)||il(d)&&!g&&A0(e,d))?i=i.filter(v=>v!==d):o=m,d=zs(d)}return t.set(e,i),i}function UP(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const d=[...n==="clippingAncestors"?pd(t)?[]:zP(t,this._c):[].concat(n),i],m=d[0],g=d.reduce((x,v)=>{const b=Nv(t,v,o);return x.top=Hr(b.top,x.top),x.right=Vs(b.right,x.right),x.bottom=Vs(b.bottom,x.bottom),x.left=Hr(b.left,x.left),x},Nv(t,m,o));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function qP(e){const{width:t,height:n}=T0(e);return{width:t,height:n}}function WP(e,t,n){const i=qn(t),o=Gn(t),c=n==="fixed",d=xa(e,!0,c,t);let m={scrollLeft:0,scrollTop:0};const g=zn(0);function x(){g.x=xd(o)}if(i||!i&&!c)if((Oi(t)!=="body"||il(o))&&(m=gd(t)),i){const C=xa(t,!0,c,t);g.x=C.x+t.clientLeft,g.y=C.y+t.clientTop}else o&&x();c&&!i&&o&&x();const v=o&&!i&&!c?R0(o,m):zn(0),b=d.left+m.scrollLeft-g.x-v.x,N=d.top+m.scrollTop-g.y-v.y;return{x:b,y:N,width:d.width,height:d.height}}function $f(e){return Cn(e).position==="static"}function Sv(e,t){if(!qn(e)||Cn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Gn(e)===n&&(n=n.ownerDocument.body),n}function I0(e,t){const n=Yr(e);if(pd(e))return n;if(!qn(e)){let o=zs(e);for(;o&&!wi(o);){if(Sn(o)&&!$f(o))return o;o=zs(o)}return n}let i=Sv(e,t);for(;i&&PP(i)&&$f(i);)i=Sv(i,t);return i&&wi(i)&&$f(i)&&!sh(i)?n:i||AP(e)||n}const KP=async function(e){const t=this.getOffsetParent||I0,n=this.getDimensions,i=await n(e.floating);return{reference:WP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function GP(e){return Cn(e).direction==="rtl"}const QP={convertOffsetParentRelativeRectToViewportRelativeRect:MP,getDocumentElement:Gn,getClippingRect:UP,getOffsetParent:I0,getElementRects:KP,getClientRects:FP,getDimensions:qP,getScale:ui,isElement:Sn,isRTL:GP};function O0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function HP(e,t){let n=null,i;const o=Gn(e);function c(){var m;clearTimeout(i),(m=n)==null||m.disconnect(),n=null}function d(m,g){m===void 0&&(m=!1),g===void 0&&(g=1),c();const x=e.getBoundingClientRect(),{left:v,top:b,width:N,height:C}=x;if(m||t(),!N||!C)return;const T=kc(b),w=kc(o.clientWidth-(v+N)),j=kc(o.clientHeight-(b+C)),k=kc(v),F={rootMargin:-T+"px "+-w+"px "+-j+"px "+-k+"px",threshold:Hr(0,Vs(1,g))||1};let I=!0;function M(Z){const q=Z[0].intersectionRatio;if(q!==g){if(!I)return d();q?d(!1,q):i=setTimeout(()=>{d(!1,1e-7)},1e3)}q===1&&!O0(x,e.getBoundingClientRect())&&d(),I=!1}try{n=new IntersectionObserver(M,{...F,root:o.ownerDocument})}catch{n=new IntersectionObserver(M,F)}n.observe(e)}return d(!0),c}function ZP(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:g=!1}=i,x=ih(e),v=o||c?[...x?Lo(x):[],...Lo(t)]:[];v.forEach(k=>{o&&k.addEventListener("scroll",n,{passive:!0}),c&&k.addEventListener("resize",n)});const b=x&&m?HP(x,n):null;let N=-1,C=null;d&&(C=new ResizeObserver(k=>{let[_]=k;_&&_.target===x&&C&&(C.unobserve(t),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var F;(F=C)==null||F.observe(t)})),n()}),x&&!g&&C.observe(x),C.observe(t));let T,w=g?xa(e):null;g&&j();function j(){const k=xa(e);w&&!O0(w,k)&&n(),w=k,T=requestAnimationFrame(j)}return n(),()=>{var k;v.forEach(_=>{o&&_.removeEventListener("scroll",n),c&&_.removeEventListener("resize",n)}),b?.(),(k=C)==null||k.disconnect(),C=null,g&&cancelAnimationFrame(T)}}const YP=wP,XP=jP,JP=vP,eE=SP,tE=yP,Cv=xP,rE=NP,nE=(e,t,n)=>{const i=new Map,o={platform:QP,...n},c={...o.platform,_c:i};return gP(e,t,{...o,platform:c})};var sE=typeof document<"u",aE=function(){},Mc=sE?h.useLayoutEffect:aE;function Wc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Wc(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){const c=o[i];if(!(c==="_owner"&&e.$$typeof)&&!Wc(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function D0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kv(e,t){const n=D0(e);return Math.round(t*n)/n}function Vf(e){const t=h.useRef(e);return Mc(()=>{t.current=e}),t}function iE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:c,floating:d}={},transform:m=!0,whileElementsMounted:g,open:x}=e,[v,b]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[N,C]=h.useState(i);Wc(N,i)||C(i);const[T,w]=h.useState(null),[j,k]=h.useState(null),_=h.useCallback(V=>{V!==Z.current&&(Z.current=V,w(V))},[]),F=h.useCallback(V=>{V!==q.current&&(q.current=V,k(V))},[]),I=c||T,M=d||j,Z=h.useRef(null),q=h.useRef(null),J=h.useRef(v),U=g!=null,re=Vf(g),me=Vf(o),te=Vf(x),he=h.useCallback(()=>{if(!Z.current||!q.current)return;const V={placement:t,strategy:n,middleware:N};me.current&&(V.platform=me.current),nE(Z.current,q.current,V).then(Y=>{const se={...Y,isPositioned:te.current!==!1};ne.current&&!Wc(J.current,se)&&(J.current=se,_i.flushSync(()=>{b(se)}))})},[N,t,n,me,te]);Mc(()=>{x===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,b(V=>({...V,isPositioned:!1})))},[x]);const ne=h.useRef(!1);Mc(()=>(ne.current=!0,()=>{ne.current=!1}),[]),Mc(()=>{if(I&&(Z.current=I),M&&(q.current=M),I&&M){if(re.current)return re.current(I,M,he);he()}},[I,M,he,re,U]);const we=h.useMemo(()=>({reference:Z,floating:q,setReference:_,setFloating:F}),[_,F]),E=h.useMemo(()=>({reference:I,floating:M}),[I,M]),K=h.useMemo(()=>{const V={position:n,left:0,top:0};if(!E.floating)return V;const Y=kv(E.floating,v.x),se=kv(E.floating,v.y);return m?{...V,transform:"translate("+Y+"px, "+se+"px)",...D0(E.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:se}},[n,m,E.floating,v.x,v.y]);return h.useMemo(()=>({...v,update:he,refs:we,elements:E,floatingStyles:K}),[v,he,we,E,K])}const oE=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:o}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?Cv({element:i.current,padding:o}).fn(n):{}:i?Cv({element:i,padding:o}).fn(n):{}}}},lE=(e,t)=>({...YP(e),options:[e,t]}),cE=(e,t)=>({...XP(e),options:[e,t]}),dE=(e,t)=>({...rE(e),options:[e,t]}),uE=(e,t)=>({...JP(e),options:[e,t]}),fE=(e,t)=>({...eE(e),options:[e,t]}),mE=(e,t)=>({...tE(e),options:[e,t]}),hE=(e,t)=>({...oE(e),options:[e,t]});var pE="Arrow",M0=h.forwardRef((e,t)=>{const{children:n,width:i=10,height:o=5,...c}=e;return r.jsx(He.svg,{...c,ref:t,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});M0.displayName=pE;var gE=M0;function oh(e){const[t,n]=h.useState(void 0);return pr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let d,m;if("borderBoxSize"in c){const g=c.borderBoxSize,x=Array.isArray(g)?g[0]:g;d=x.inlineSize,m=x.blockSize}else d=e.offsetWidth,m=e.offsetHeight;n({width:d,height:m})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var lh="Popper",[F0,Di]=Jr(lh),[xE,L0]=F0(lh),B0=e=>{const{__scopePopper:t,children:n}=e,[i,o]=h.useState(null);return r.jsx(xE,{scope:t,anchor:i,onAnchorChange:o,children:n})};B0.displayName=lh;var $0="PopperAnchor",V0=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...o}=e,c=L0($0,n),d=h.useRef(null),m=at(t,d),g=h.useRef(null);return h.useEffect(()=>{const x=g.current;g.current=i?.current||d.current,x!==g.current&&c.onAnchorChange(g.current)}),i?null:r.jsx(He.div,{...o,ref:m})});V0.displayName=$0;var ch="PopperContent",[vE,yE]=F0(ch),z0=h.forwardRef((e,t)=>{const{__scopePopper:n,side:i="bottom",sideOffset:o=0,align:c="center",alignOffset:d=0,arrowPadding:m=0,avoidCollisions:g=!0,collisionBoundary:x=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:N=!1,updatePositionStrategy:C="optimized",onPlaced:T,...w}=e,j=L0(ch,n),[k,_]=h.useState(null),F=at(t,ie=>_(ie)),[I,M]=h.useState(null),Z=oh(I),q=Z?.width??0,J=Z?.height??0,U=i+(c!=="center"?"-"+c:""),re=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},me=Array.isArray(x)?x:[x],te=me.length>0,he={padding:re,boundary:me.filter(wE),altBoundary:te},{refs:ne,floatingStyles:we,placement:E,isPositioned:K,middlewareData:V}=iE({strategy:"fixed",placement:U,whileElementsMounted:(...ie)=>ZP(...ie,{animationFrame:C==="always"}),elements:{reference:j.anchor},middleware:[lE({mainAxis:o+J,alignmentAxis:d}),g&&cE({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?dE():void 0,...he}),g&&uE({...he}),fE({...he,apply:({elements:ie,rects:ce,availableWidth:Ae,availableHeight:Ue})=>{const{width:ct,height:pt}=ce.reference,Ft=ie.floating.style;Ft.setProperty("--radix-popper-available-width",`${Ae}px`),Ft.setProperty("--radix-popper-available-height",`${Ue}px`),Ft.setProperty("--radix-popper-anchor-width",`${ct}px`),Ft.setProperty("--radix-popper-anchor-height",`${pt}px`)}}),I&&hE({element:I,padding:m}),jE({arrowWidth:q,arrowHeight:J}),N&&mE({strategy:"referenceHidden",...he})]}),[Y,se]=W0(E),A=dn(T);pr(()=>{K&&A?.()},[K,A]);const R=V.arrow?.x,D=V.arrow?.y,z=V.arrow?.centerOffset!==0,[ae,pe]=h.useState();return pr(()=>{k&&pe(window.getComputedStyle(k).zIndex)},[k]),r.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...we,transform:K?we.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(vE,{scope:n,placedSide:Y,onArrowChange:M,arrowX:R,arrowY:D,shouldHideArrow:z,children:r.jsx(He.div,{"data-side":Y,"data-align":se,...w,ref:F,style:{...w.style,animation:K?void 0:"none"}})})})});z0.displayName=ch;var U0="PopperArrow",bE={top:"bottom",right:"left",bottom:"top",left:"right"},q0=h.forwardRef(function(t,n){const{__scopePopper:i,...o}=t,c=yE(U0,i),d=bE[c.placedSide];return r.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:r.jsx(gE,{...o,ref:n,style:{...o.style,display:"block"}})})});q0.displayName=U0;function wE(e){return e!==null}var jE=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:i,middlewareData:o}=t,d=o.arrow?.centerOffset!==0,m=d?0:e.arrowWidth,g=d?0:e.arrowHeight,[x,v]=W0(n),b={start:"0%",center:"50%",end:"100%"}[v],N=(o.arrow?.x??0)+m/2,C=(o.arrow?.y??0)+g/2;let T="",w="";return x==="bottom"?(T=d?b:`${N}px`,w=`${-g}px`):x==="top"?(T=d?b:`${N}px`,w=`${i.floating.height+g}px`):x==="right"?(T=`${-g}px`,w=d?b:`${C}px`):x==="left"&&(T=`${i.floating.width+g}px`,w=d?b:`${C}px`),{data:{x:T,y:w}}}});function W0(e){const[t,n="center"]=e.split("-");return[t,n]}var K0=B0,vd=V0,dh=z0,uh=q0,NE=Symbol("radix.slottable");function SE(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=NE,t}var[yd]=Jr("Tooltip",[Di]),fh=Di(),G0="TooltipProvider",CE=700,Pv="tooltip.open",[kE,Q0]=yd(G0),H0=e=>{const{__scopeTooltip:t,delayDuration:n=CE,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:c}=e,d=h.useRef(!0),m=h.useRef(!1),g=h.useRef(0);return h.useEffect(()=>{const x=g.current;return()=>window.clearTimeout(x)},[]),r.jsx(kE,{scope:t,isOpenDelayedRef:d,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(g.current),d.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>d.current=!0,i)},[i]),isPointerInTransitRef:m,onPointerInTransitChange:h.useCallback(x=>{m.current=x},[]),disableHoverableContent:o,children:c})};H0.displayName=G0;var Z0="Tooltip",[qM,bd]=yd(Z0),wm="TooltipTrigger",PE=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,o=bd(wm,n),c=Q0(wm,n),d=fh(n),m=h.useRef(null),g=at(t,m,o.onTriggerChange),x=h.useRef(!1),v=h.useRef(!1),b=h.useCallback(()=>x.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),r.jsx(vd,{asChild:!0,...d,children:r.jsx(He.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:g,onPointerMove:Fe(e.onPointerMove,N=>{N.pointerType!=="touch"&&!v.current&&!c.isPointerInTransitRef.current&&(o.onTriggerEnter(),v.current=!0)}),onPointerLeave:Fe(e.onPointerLeave,()=>{o.onTriggerLeave(),v.current=!1}),onPointerDown:Fe(e.onPointerDown,()=>{o.open&&o.onClose(),x.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:Fe(e.onFocus,()=>{x.current||o.onOpen()}),onBlur:Fe(e.onBlur,o.onClose),onClick:Fe(e.onClick,o.onClose)})})});PE.displayName=wm;var EE="TooltipPortal",[WM,TE]=yd(EE,{forceMount:void 0}),ji="TooltipContent",Y0=h.forwardRef((e,t)=>{const n=TE(ji,e.__scopeTooltip),{forceMount:i=n.forceMount,side:o="top",...c}=e,d=bd(ji,e.__scopeTooltip);return r.jsx(En,{present:i||d.open,children:d.disableHoverableContent?r.jsx(X0,{side:o,...c,ref:t}):r.jsx(_E,{side:o,...c,ref:t})})}),_E=h.forwardRef((e,t)=>{const n=bd(ji,e.__scopeTooltip),i=Q0(ji,e.__scopeTooltip),o=h.useRef(null),c=at(t,o),[d,m]=h.useState(null),{trigger:g,onClose:x}=n,v=o.current,{onPointerInTransitChange:b}=i,N=h.useCallback(()=>{m(null),b(!1)},[b]),C=h.useCallback((T,w)=>{const j=T.currentTarget,k={x:T.clientX,y:T.clientY},_=DE(k,j.getBoundingClientRect()),F=ME(k,_),I=FE(w.getBoundingClientRect()),M=BE([...F,...I]);m(M),b(!0)},[b]);return h.useEffect(()=>()=>N(),[N]),h.useEffect(()=>{if(g&&v){const T=j=>C(j,v),w=j=>C(j,g);return g.addEventListener("pointerleave",T),v.addEventListener("pointerleave",w),()=>{g.removeEventListener("pointerleave",T),v.removeEventListener("pointerleave",w)}}},[g,v,C,N]),h.useEffect(()=>{if(d){const T=w=>{const j=w.target,k={x:w.clientX,y:w.clientY},_=g?.contains(j)||v?.contains(j),F=!LE(k,d);_?N():F&&(N(),x())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[g,v,d,x,N]),r.jsx(X0,{...e,ref:c})}),[RE,AE]=yd(Z0,{isInside:!1}),IE=SE("TooltipContent"),X0=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":o,onEscapeKeyDown:c,onPointerDownOutside:d,...m}=e,g=bd(ji,n),x=fh(n),{onClose:v}=g;return h.useEffect(()=>(document.addEventListener(Pv,v),()=>document.removeEventListener(Pv,v)),[v]),h.useEffect(()=>{if(g.trigger){const b=N=>{N.target?.contains(g.trigger)&&v()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[g.trigger,v]),r.jsx(Ri,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:b=>b.preventDefault(),onDismiss:v,children:r.jsxs(dh,{"data-state":g.stateAttribute,...x,...m,ref:t,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(IE,{children:i}),r.jsx(RE,{scope:n,isInside:!0,children:r.jsx(Fk,{id:g.contentId,role:"tooltip",children:o||i})})]})})});Y0.displayName=ji;var J0="TooltipArrow",OE=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,o=fh(n);return AE(J0,n).isInside?null:r.jsx(uh,{...o,...i,ref:t})});OE.displayName=J0;function DE(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),c=Math.abs(t.left-e.x);switch(Math.min(n,i,o,c)){case c:return"left";case o:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function ME(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function FE(e){const{top:t,right:n,bottom:i,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:i},{x:o,y:i}]}function LE(e,t){const{x:n,y:i}=e;let o=!1;for(let c=0,d=t.length-1;c<t.length;d=c++){const m=t[c],g=t[d],x=m.x,v=m.y,b=g.x,N=g.y;v>i!=N>i&&n<(b-x)*(i-v)/(N-v)+x&&(o=!o)}return o}function BE(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),$E(t)}function $E(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const o=e[i];for(;t.length>=2;){const c=t[t.length-1],d=t[t.length-2];if((c.x-d.x)*(o.y-d.y)>=(c.y-d.y)*(o.x-d.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const o=e[i];for(;n.length>=2;){const c=n[n.length-1],d=n[n.length-2];if((c.x-d.x)*(o.y-d.y)>=(c.y-d.y)*(o.x-d.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var VE=H0,eb=Y0;const zE=VE,UE=h.forwardRef(({className:e,sideOffset:t=4,...n},i)=>r.jsx(eb,{ref:i,sideOffset:t,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));UE.displayName=eb.displayName;const de=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:_e("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));de.displayName="Card";const Me=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:_e("flex flex-col space-y-1.5 p-6",e),...t}));Me.displayName="CardHeader";const $e=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:_e("text-2xl font-semibold leading-none tracking-tight",e),...t}));$e.displayName="CardTitle";const Ye=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:_e("text-sm text-muted-foreground",e),...t}));Ye.displayName="CardDescription";const fe=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:_e("p-6 pt-0",e),...t}));fe.displayName="CardContent";const qE=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:_e("flex items-center p-6 pt-0",e),...t}));qE.displayName="CardFooter";var WE=Symbol.for("react.lazy"),Kc=cd[" use ".trim().toString()];function KE(e){return typeof e=="object"&&e!==null&&"then"in e}function tb(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===WE&&"_payload"in e&&KE(e._payload)}function ol(e){const t=QE(e),n=h.forwardRef((i,o)=>{let{children:c,...d}=i;tb(c)&&typeof Kc=="function"&&(c=Kc(c._payload));const m=h.Children.toArray(c),g=m.find(ZE);if(g){const x=g.props.children,v=m.map(b=>b===g?h.Children.count(x)>1?h.Children.only(null):h.isValidElement(x)?x.props.children:null:b);return r.jsx(t,{...d,ref:o,children:h.isValidElement(x)?h.cloneElement(x,void 0,v):null})}return r.jsx(t,{...d,ref:o,children:c})});return n.displayName=`${e}.Slot`,n}var GE=ol("Slot");function QE(e){const t=h.forwardRef((n,i)=>{let{children:o,...c}=n;if(tb(o)&&typeof Kc=="function"&&(o=Kc(o._payload)),h.isValidElement(o)){const d=XE(o),m=YE(c,o.props);return o.type!==h.Fragment&&(m.ref=i?cn(i,d):d),h.cloneElement(o,m)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HE=Symbol("radix.slottable");function ZE(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HE}function YE(e,t){const n={...t};for(const i in t){const o=e[i],c=t[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...m)=>{const g=c(...m);return o(...m),g}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...e,...n}}function XE(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const mh=al("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=h.forwardRef(({className:e,variant:t,size:n,asChild:i=!1,...o},c)=>{const d=i?GE:"button";return r.jsx(d,{className:_e(mh({variant:t,size:n,className:e})),ref:c,...o})});H.displayName="Button";var zf="focusScope.autoFocusOnMount",Uf="focusScope.autoFocusOnUnmount",Ev={bubbles:!1,cancelable:!0},JE="FocusScope",wd=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...d}=e,[m,g]=h.useState(null),x=dn(o),v=dn(c),b=h.useRef(null),N=at(t,w=>g(w)),C=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(i){let w=function(F){if(C.paused||!m)return;const I=F.target;m.contains(I)?b.current=I:Os(b.current,{select:!0})},j=function(F){if(C.paused||!m)return;const I=F.relatedTarget;I!==null&&(m.contains(I)||Os(b.current,{select:!0}))},k=function(F){if(document.activeElement===document.body)for(const M of F)M.removedNodes.length>0&&Os(m)};document.addEventListener("focusin",w),document.addEventListener("focusout",j);const _=new MutationObserver(k);return m&&_.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",j),_.disconnect()}}},[i,m,C.paused]),h.useEffect(()=>{if(m){_v.add(C);const w=document.activeElement;if(!m.contains(w)){const k=new CustomEvent(zf,Ev);m.addEventListener(zf,x),m.dispatchEvent(k),k.defaultPrevented||(eT(aT(rb(m)),{select:!0}),document.activeElement===w&&Os(m))}return()=>{m.removeEventListener(zf,x),setTimeout(()=>{const k=new CustomEvent(Uf,Ev);m.addEventListener(Uf,v),m.dispatchEvent(k),k.defaultPrevented||Os(w??document.body,{select:!0}),m.removeEventListener(Uf,v),_v.remove(C)},0)}}},[m,x,v,C]);const T=h.useCallback(w=>{if(!n&&!i||C.paused)return;const j=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,k=document.activeElement;if(j&&k){const _=w.currentTarget,[F,I]=tT(_);F&&I?!w.shiftKey&&k===I?(w.preventDefault(),n&&Os(F,{select:!0})):w.shiftKey&&k===F&&(w.preventDefault(),n&&Os(I,{select:!0})):k===_&&w.preventDefault()}},[n,i,C.paused]);return r.jsx(He.div,{tabIndex:-1,...d,ref:N,onKeyDown:T})});wd.displayName=JE;function eT(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(Os(i,{select:t}),document.activeElement!==n)return}function tT(e){const t=rb(e),n=Tv(t,e),i=Tv(t.reverse(),e);return[n,i]}function rb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Tv(e,t){for(const n of e)if(!rT(n,{upTo:t}))return n}function rT(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nT(e){return e instanceof HTMLInputElement&&"select"in e}function Os(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&nT(e)&&t&&e.select()}}var _v=sT();function sT(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Rv(e,t),e.unshift(t)},remove(t){e=Rv(e,t),e[0]?.resume()}}}function Rv(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function aT(e){return e.filter(t=>t.tagName!=="A")}var qf=0;function hh(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Av()),document.body.insertAdjacentElement("beforeend",e[1]??Av()),qf++,()=>{qf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),qf--}},[])}function Av(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ln=function(){return Ln=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},Ln.apply(this,arguments)};function nb(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function iT(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,c;i<o;i++)(c||!(i in t))&&(c||(c=Array.prototype.slice.call(t,0,i)),c[i]=t[i]);return e.concat(c||Array.prototype.slice.call(t))}var Fc="right-scroll-bar-position",Lc="width-before-scroll-bar",oT="with-scroll-bars-hidden",lT="--removed-body-scroll-bar-size";function Wf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cT(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var o=n.value;o!==i&&(n.value=i,n.callback(i,o))}}}})[0];return n.callback=t,n.facade}var dT=typeof window<"u"?h.useLayoutEffect:h.useEffect,Iv=new WeakMap;function uT(e,t){var n=cT(null,function(i){return e.forEach(function(o){return Wf(o,i)})});return dT(function(){var i=Iv.get(n);if(i){var o=new Set(i),c=new Set(e),d=n.current;o.forEach(function(m){c.has(m)||Wf(m,null)}),c.forEach(function(m){o.has(m)||Wf(m,d)})}Iv.set(n,e)},[e]),n}function fT(e){return e}function mT(e,t){t===void 0&&(t=fT);var n=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(c){var d=t(c,i);return n.push(d),function(){n=n.filter(function(m){return m!==d})}},assignSyncMedium:function(c){for(i=!0;n.length;){var d=n;n=[],d.forEach(c)}n={push:function(m){return c(m)},filter:function(){return n}}},assignMedium:function(c){i=!0;var d=[];if(n.length){var m=n;n=[],m.forEach(c),d=n}var g=function(){var v=d;d=[],v.forEach(c)},x=function(){return Promise.resolve().then(g)};x(),n={push:function(v){d.push(v),x()},filter:function(v){return d=d.filter(v),n}}}};return o}function hT(e){e===void 0&&(e={});var t=mT(null);return t.options=Ln({async:!0,ssr:!1},e),t}var sb=function(e){var t=e.sideCar,n=nb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return h.createElement(i,Ln({},n))};sb.isSideCarExport=!0;function pT(e,t){return e.useMedium(t),sb}var ab=hT(),Kf=function(){},jd=h.forwardRef(function(e,t){var n=h.useRef(null),i=h.useState({onScrollCapture:Kf,onWheelCapture:Kf,onTouchMoveCapture:Kf}),o=i[0],c=i[1],d=e.forwardProps,m=e.children,g=e.className,x=e.removeScrollBar,v=e.enabled,b=e.shards,N=e.sideCar,C=e.noRelative,T=e.noIsolation,w=e.inert,j=e.allowPinchZoom,k=e.as,_=k===void 0?"div":k,F=e.gapMode,I=nb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=N,Z=uT([n,t]),q=Ln(Ln({},I),o);return h.createElement(h.Fragment,null,v&&h.createElement(M,{sideCar:ab,removeScrollBar:x,shards:b,noRelative:C,noIsolation:T,inert:w,setCallbacks:c,allowPinchZoom:!!j,lockRef:n,gapMode:F}),d?h.cloneElement(h.Children.only(m),Ln(Ln({},q),{ref:Z})):h.createElement(_,Ln({},q,{className:g,ref:Z}),m))});jd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jd.classNames={fullWidth:Lc,zeroRight:Fc};var gT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gT();return t&&e.setAttribute("nonce",t),e}function vT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function yT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var bT=function(){var e=0,t=null;return{add:function(n){e==0&&(t=xT())&&(vT(t,n),yT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},wT=function(){var e=bT();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ib=function(){var e=wT(),t=function(n){var i=n.styles,o=n.dynamic;return e(i,o),null};return t},jT={left:0,top:0,right:0,gap:0},Gf=function(e){return parseInt(e||"",10)||0},NT=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Gf(n),Gf(i),Gf(o)]},ST=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jT;var t=NT(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},CT=ib(),fi="data-scroll-locked",kT=function(e,t,n,i){var o=e.left,c=e.top,d=e.right,m=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(oT,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(m,"px ").concat(i,`;
  }
  body[`).concat(fi,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(m,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fc,` {
    right: `).concat(m,"px ").concat(i,`;
  }
  
  .`).concat(Lc,` {
    margin-right: `).concat(m,"px ").concat(i,`;
  }
  
  .`).concat(Fc," .").concat(Fc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Lc," .").concat(Lc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(fi,`] {
    `).concat(lT,": ").concat(m,`px;
  }
`)},Ov=function(){var e=parseInt(document.body.getAttribute(fi)||"0",10);return isFinite(e)?e:0},PT=function(){h.useEffect(function(){return document.body.setAttribute(fi,(Ov()+1).toString()),function(){var e=Ov()-1;e<=0?document.body.removeAttribute(fi):document.body.setAttribute(fi,e.toString())}},[])},ET=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,o=i===void 0?"margin":i;PT();var c=h.useMemo(function(){return ST(o)},[o]);return h.createElement(CT,{styles:kT(c,!t,o,n?"":"!important")})},jm=!1;if(typeof window<"u")try{var Pc=Object.defineProperty({},"passive",{get:function(){return jm=!0,!0}});window.addEventListener("test",Pc,Pc),window.removeEventListener("test",Pc,Pc)}catch{jm=!1}var ei=jm?{passive:!1}:!1,TT=function(e){return e.tagName==="TEXTAREA"},ob=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!TT(e)&&n[t]==="visible")},_T=function(e){return ob(e,"overflowY")},RT=function(e){return ob(e,"overflowX")},Dv=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=lb(e,i);if(o){var c=cb(e,i),d=c[1],m=c[2];if(d>m)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},AT=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},IT=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},lb=function(e,t){return e==="v"?_T(t):RT(t)},cb=function(e,t){return e==="v"?AT(t):IT(t)},OT=function(e,t){return e==="h"&&t==="rtl"?-1:1},DT=function(e,t,n,i,o){var c=OT(e,window.getComputedStyle(t).direction),d=c*i,m=n.target,g=t.contains(m),x=!1,v=d>0,b=0,N=0;do{if(!m)break;var C=cb(e,m),T=C[0],w=C[1],j=C[2],k=w-j-c*T;(T||k)&&lb(e,m)&&(b+=k,N+=T);var _=m.parentNode;m=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!g&&m!==document.body||g&&(t.contains(m)||t===m));return(v&&Math.abs(b)<1||!v&&Math.abs(N)<1)&&(x=!0),x},Ec=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Mv=function(e){return[e.deltaX,e.deltaY]},Fv=function(e){return e&&"current"in e?e.current:e},MT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},FT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},LT=0,ti=[];function BT(e){var t=h.useRef([]),n=h.useRef([0,0]),i=h.useRef(),o=h.useState(LT++)[0],c=h.useState(ib)[0],d=h.useRef(e);h.useEffect(function(){d.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=iT([e.lockRef.current],(e.shards||[]).map(Fv),!0).filter(Boolean);return w.forEach(function(j){return j.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var m=h.useCallback(function(w,j){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!d.current.allowPinchZoom;var k=Ec(w),_=n.current,F="deltaX"in w?w.deltaX:_[0]-k[0],I="deltaY"in w?w.deltaY:_[1]-k[1],M,Z=w.target,q=Math.abs(F)>Math.abs(I)?"h":"v";if("touches"in w&&q==="h"&&Z.type==="range")return!1;var J=Dv(q,Z);if(!J)return!0;if(J?M=q:(M=q==="v"?"h":"v",J=Dv(q,Z)),!J)return!1;if(!i.current&&"changedTouches"in w&&(F||I)&&(i.current=M),!M)return!0;var U=i.current||M;return DT(U,j,w,U==="h"?F:I)},[]),g=h.useCallback(function(w){var j=w;if(!(!ti.length||ti[ti.length-1]!==c)){var k="deltaY"in j?Mv(j):Ec(j),_=t.current.filter(function(M){return M.name===j.type&&(M.target===j.target||j.target===M.shadowParent)&&MT(M.delta,k)})[0];if(_&&_.should){j.cancelable&&j.preventDefault();return}if(!_){var F=(d.current.shards||[]).map(Fv).filter(Boolean).filter(function(M){return M.contains(j.target)}),I=F.length>0?m(j,F[0]):!d.current.noIsolation;I&&j.cancelable&&j.preventDefault()}}},[]),x=h.useCallback(function(w,j,k,_){var F={name:w,delta:j,target:k,should:_,shadowParent:$T(k)};t.current.push(F),setTimeout(function(){t.current=t.current.filter(function(I){return I!==F})},1)},[]),v=h.useCallback(function(w){n.current=Ec(w),i.current=void 0},[]),b=h.useCallback(function(w){x(w.type,Mv(w),w.target,m(w,e.lockRef.current))},[]),N=h.useCallback(function(w){x(w.type,Ec(w),w.target,m(w,e.lockRef.current))},[]);h.useEffect(function(){return ti.push(c),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:N}),document.addEventListener("wheel",g,ei),document.addEventListener("touchmove",g,ei),document.addEventListener("touchstart",v,ei),function(){ti=ti.filter(function(w){return w!==c}),document.removeEventListener("wheel",g,ei),document.removeEventListener("touchmove",g,ei),document.removeEventListener("touchstart",v,ei)}},[]);var C=e.removeScrollBar,T=e.inert;return h.createElement(h.Fragment,null,T?h.createElement(c,{styles:FT(o)}):null,C?h.createElement(ET,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function $T(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const VT=pT(ab,BT);var Nd=h.forwardRef(function(e,t){return h.createElement(jd,Ln({},e,{ref:t,sideCar:VT}))});Nd.classNames=jd.classNames;var zT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ri=new WeakMap,Tc=new WeakMap,_c={},Qf=0,db=function(e){return e&&(e.host||db(e.parentNode))},UT=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=db(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},qT=function(e,t,n,i){var o=UT(t,Array.isArray(e)?e:[e]);_c[n]||(_c[n]=new WeakMap);var c=_c[n],d=[],m=new Set,g=new Set(o),x=function(b){!b||m.has(b)||(m.add(b),x(b.parentNode))};o.forEach(x);var v=function(b){!b||g.has(b)||Array.prototype.forEach.call(b.children,function(N){if(m.has(N))v(N);else try{var C=N.getAttribute(i),T=C!==null&&C!=="false",w=(ri.get(N)||0)+1,j=(c.get(N)||0)+1;ri.set(N,w),c.set(N,j),d.push(N),w===1&&T&&Tc.set(N,!0),j===1&&N.setAttribute(n,"true"),T||N.setAttribute(i,"true")}catch(k){console.error("aria-hidden: cannot operate on ",N,k)}})};return v(t),m.clear(),Qf++,function(){d.forEach(function(b){var N=ri.get(b)-1,C=c.get(b)-1;ri.set(b,N),c.set(b,C),N||(Tc.has(b)||b.removeAttribute(i),Tc.delete(b)),C||b.removeAttribute(n)}),Qf--,Qf||(ri=new WeakMap,ri=new WeakMap,Tc=new WeakMap,_c={})}},ph=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),o=zT(e);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),qT(i,o,n,"aria-hidden")):function(){return null}};function WT(e){const t=KT(e),n=h.forwardRef((i,o)=>{const{children:c,...d}=i,m=h.Children.toArray(c),g=m.find(QT);if(g){const x=g.props.children,v=m.map(b=>b===g?h.Children.count(x)>1?h.Children.only(null):h.isValidElement(x)?x.props.children:null:b);return r.jsx(t,{...d,ref:o,children:h.isValidElement(x)?h.cloneElement(x,void 0,v):null})}return r.jsx(t,{...d,ref:o,children:c})});return n.displayName=`${e}.Slot`,n}function KT(e){const t=h.forwardRef((n,i)=>{const{children:o,...c}=n;if(h.isValidElement(o)){const d=ZT(o),m=HT(c,o.props);return o.type!==h.Fragment&&(m.ref=i?cn(i,d):d),h.cloneElement(o,m)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var GT=Symbol("radix.slottable");function QT(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===GT}function HT(e,t){const n={...t};for(const i in t){const o=e[i],c=t[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...m)=>{const g=c(...m);return o(...m),g}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...e,...n}}function ZT(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Sd="Dialog",[ub,fb]=Jr(Sd),[YT,Tn]=ub(Sd),mb=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:o,onOpenChange:c,modal:d=!0}=e,m=h.useRef(null),g=h.useRef(null),[x,v]=is({prop:i,defaultProp:o??!1,onChange:c,caller:Sd});return r.jsx(YT,{scope:t,triggerRef:m,contentRef:g,contentId:Tr(),titleId:Tr(),descriptionId:Tr(),open:x,onOpenChange:v,onOpenToggle:h.useCallback(()=>v(b=>!b),[v]),modal:d,children:n})};mb.displayName=Sd;var hb="DialogTrigger",pb=h.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,o=Tn(hb,n),c=at(t,o.triggerRef);return r.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":vh(o.open),...i,ref:c,onClick:Fe(e.onClick,o.onOpenToggle)})});pb.displayName=hb;var gh="DialogPortal",[XT,gb]=ub(gh,{forceMount:void 0}),xb=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:o}=e,c=Tn(gh,t);return r.jsx(XT,{scope:t,forceMount:n,children:h.Children.map(i,d=>r.jsx(En,{present:n||c.open,children:r.jsx(nl,{asChild:!0,container:o,children:d})}))})};xb.displayName=gh;var Gc="DialogOverlay",vb=h.forwardRef((e,t)=>{const n=gb(Gc,e.__scopeDialog),{forceMount:i=n.forceMount,...o}=e,c=Tn(Gc,e.__scopeDialog);return c.modal?r.jsx(En,{present:i||c.open,children:r.jsx(e_,{...o,ref:t})}):null});vb.displayName=Gc;var JT=WT("DialogOverlay.RemoveScroll"),e_=h.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,o=Tn(Gc,n);return r.jsx(Nd,{as:JT,allowPinchZoom:!0,shards:[o.contentRef],children:r.jsx(He.div,{"data-state":vh(o.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),va="DialogContent",yb=h.forwardRef((e,t)=>{const n=gb(va,e.__scopeDialog),{forceMount:i=n.forceMount,...o}=e,c=Tn(va,e.__scopeDialog);return r.jsx(En,{present:i||c.open,children:c.modal?r.jsx(t_,{...o,ref:t}):r.jsx(r_,{...o,ref:t})})});yb.displayName=va;var t_=h.forwardRef((e,t)=>{const n=Tn(va,e.__scopeDialog),i=h.useRef(null),o=at(t,n.contentRef,i);return h.useEffect(()=>{const c=i.current;if(c)return ph(c)},[]),r.jsx(bb,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(e.onCloseAutoFocus,c=>{c.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Fe(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0;(d.button===2||m)&&c.preventDefault()}),onFocusOutside:Fe(e.onFocusOutside,c=>c.preventDefault())})}),r_=h.forwardRef((e,t)=>{const n=Tn(va,e.__scopeDialog),i=h.useRef(!1),o=h.useRef(!1);return r.jsx(bb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(i.current||n.triggerRef.current?.focus(),c.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=c.target;n.triggerRef.current?.contains(d)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),bb=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:c,...d}=e,m=Tn(va,n),g=h.useRef(null),x=at(t,g);return hh(),r.jsxs(r.Fragment,{children:[r.jsx(wd,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:c,children:r.jsx(Ri,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":vh(m.open),...d,ref:x,onDismiss:()=>m.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(s_,{titleId:m.titleId}),r.jsx(i_,{contentRef:g,descriptionId:m.descriptionId})]})]})}),xh="DialogTitle",wb=h.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,o=Tn(xh,n);return r.jsx(He.h2,{id:o.titleId,...i,ref:t})});wb.displayName=xh;var jb="DialogDescription",Nb=h.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,o=Tn(jb,n);return r.jsx(He.p,{id:o.descriptionId,...i,ref:t})});Nb.displayName=jb;var Sb="DialogClose",Cb=h.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,o=Tn(Sb,n);return r.jsx(He.button,{type:"button",...i,ref:t,onClick:Fe(e.onClick,()=>o.onOpenChange(!1))})});Cb.displayName=Sb;function vh(e){return e?"open":"closed"}var kb="DialogTitleWarning",[n_,Pb]=ik(kb,{contentName:va,titleName:xh,docsSlug:"dialog"}),s_=({titleId:e})=>{const t=Pb(kb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},a_="DialogDescriptionWarning",i_=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pb(a_).contentName}}.`;return h.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},yh=mb,Eb=pb,bh=xb,Cd=vb,kd=yb,wh=wb,jh=Nb,Nh=Cb;const er=yh,o_=Eb,l_=bh,Tb=h.forwardRef(({className:e,...t},n)=>r.jsx(Cd,{ref:n,className:_e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Tb.displayName=Cd.displayName;const Gt=h.forwardRef(({className:e,children:t,...n},i)=>r.jsxs(l_,{children:[r.jsx(Tb,{}),r.jsxs(kd,{ref:i,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(Nh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(md,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gt.displayName=kd.displayName;const Qt=({className:e,...t})=>r.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Qt.displayName="DialogHeader";const Ht=h.forwardRef(({className:e,...t},n)=>r.jsx(wh,{ref:n,className:_e("text-lg font-semibold leading-none tracking-tight",e),...t}));Ht.displayName=wh.displayName;const Bo=h.forwardRef(({className:e,...t},n)=>r.jsx(jh,{ref:n,className:_e("text-sm text-muted-foreground",e),...t}));Bo.displayName=jh.displayName;function Sh(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Pd="Checkbox",[c_]=Jr(Pd),[d_,Ch]=c_(Pd);function u_(e){const{__scopeCheckbox:t,checked:n,children:i,defaultChecked:o,disabled:c,form:d,name:m,onCheckedChange:g,required:x,value:v="on",internal_do_not_use_render:b}=e,[N,C]=is({prop:n,defaultProp:o??!1,onChange:g,caller:Pd}),[T,w]=h.useState(null),[j,k]=h.useState(null),_=h.useRef(!1),F=T?!!d||!!T.closest("form"):!0,I={checked:N,disabled:c,setChecked:C,control:T,setControl:w,name:m,form:d,value:v,hasConsumerStoppedPropagationRef:_,required:x,defaultChecked:Bs(o)?!1:o,isFormControl:F,bubbleInput:j,setBubbleInput:k};return r.jsx(d_,{scope:t,...I,children:f_(b)?b(I):i})}var _b="CheckboxTrigger",Rb=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...i},o)=>{const{control:c,value:d,disabled:m,checked:g,required:x,setControl:v,setChecked:b,hasConsumerStoppedPropagationRef:N,isFormControl:C,bubbleInput:T}=Ch(_b,e),w=at(o,v),j=h.useRef(g);return h.useEffect(()=>{const k=c?.form;if(k){const _=()=>b(j.current);return k.addEventListener("reset",_),()=>k.removeEventListener("reset",_)}},[c,b]),r.jsx(He.button,{type:"button",role:"checkbox","aria-checked":Bs(g)?"mixed":g,"aria-required":x,"data-state":Mb(g),"data-disabled":m?"":void 0,disabled:m,value:d,...i,ref:w,onKeyDown:Fe(t,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:Fe(n,k=>{b(_=>Bs(_)?!0:!_),T&&C&&(N.current=k.isPropagationStopped(),N.current||k.stopPropagation())})})});Rb.displayName=_b;var kh=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:i,checked:o,defaultChecked:c,required:d,disabled:m,value:g,onCheckedChange:x,form:v,...b}=e;return r.jsx(u_,{__scopeCheckbox:n,checked:o,defaultChecked:c,disabled:m,required:d,onCheckedChange:x,name:i,form:v,value:g,internal_do_not_use_render:({isFormControl:N})=>r.jsxs(r.Fragment,{children:[r.jsx(Rb,{...b,ref:t,__scopeCheckbox:n}),N&&r.jsx(Db,{__scopeCheckbox:n})]})})});kh.displayName=Pd;var Ab="CheckboxIndicator",Ib=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:i,...o}=e,c=Ch(Ab,n);return r.jsx(En,{present:i||Bs(c.checked)||c.checked===!0,children:r.jsx(He.span,{"data-state":Mb(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Ib.displayName=Ab;var Ob="CheckboxBubbleInput",Db=h.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:i,hasConsumerStoppedPropagationRef:o,checked:c,defaultChecked:d,required:m,disabled:g,name:x,value:v,form:b,bubbleInput:N,setBubbleInput:C}=Ch(Ob,e),T=at(n,C),w=Sh(c),j=oh(i);h.useEffect(()=>{const _=N;if(!_)return;const F=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(F,"checked").set,Z=!o.current;if(w!==c&&M){const q=new Event("click",{bubbles:Z});_.indeterminate=Bs(c),M.call(_,Bs(c)?!1:c),_.dispatchEvent(q)}},[N,w,c,o]);const k=h.useRef(Bs(c)?!1:c);return r.jsx(He.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??k.current,required:m,disabled:g,name:x,value:v,form:b,...t,tabIndex:-1,ref:T,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Db.displayName=Ob;function f_(e){return typeof e=="function"}function Bs(e){return e==="indeterminate"}function Mb(e){return Bs(e)?"indeterminate":e?"checked":"unchecked"}const kn=h.forwardRef(({className:e,...t},n)=>r.jsx(kh,{ref:n,className:_e("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(Ib,{className:_e("flex items-center justify-center text-current"),children:r.jsx(f0,{className:"h-4 w-4"})})}));kn.displayName=kh.displayName;var m_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],h_=m_.reduce((e,t)=>{const n=ol(`Primitive.${t}`),i=h.forwardRef((o,c)=>{const{asChild:d,...m}=o,g=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(g,{...m,ref:c})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),p_="Label",Fb=h.forwardRef((e,t)=>r.jsx(h_.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Fb.displayName=p_;var Lb=Fb;const g_=al("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Te=h.forwardRef(({className:e,...t},n)=>r.jsx(Lb,{ref:n,className:_e(g_(),e),...t}));Te.displayName=Lb.displayName;function Bb(){const e=Rr(),{toast:t}=Mt(),n=h.useRef(null),i=h.useRef(null);return h.useEffect(()=>{const o=()=>{const m=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,g=new WebSocket(m);n.current=g,g.onopen=()=>{console.log("WebSocket connected")},g.onmessage=x=>{try{const v=JSON.parse(x.data);c(v)}catch(v){console.error("Failed to parse WebSocket message:",v)}},g.onclose=()=>{console.log("WebSocket disconnected"),i.current=setTimeout(o,3e3)},g.onerror=x=>{console.error("WebSocket error:",x)}},c=d=>{switch(d.type){case"BOT_CREATED":case"BOT_UPDATED":case"BOT_DELETED":case"BOT_STATUS_CHANGED":e.invalidateQueries({queryKey:["/api/bot-instances"]}),e.invalidateQueries({queryKey:["/api/dashboard/stats"]});break;case"COMMAND_CREATED":case"COMMAND_UPDATED":case"COMMAND_DELETED":e.invalidateQueries({queryKey:["/api/commands"]});break;case"ACTIVITY_CREATED":e.invalidateQueries({queryKey:["/api/activities"]});break;case"BOT_ERROR":t({title:"Bot Error",description:d.message||"A bot encountered an error",variant:"destructive"});break;case"BOT_CONNECTED":t({title:"Bot Connected",description:`${d.botName} is now online`});break;default:console.log("Unknown WebSocket message type:",d.type)}};return o(),()=>{i.current&&clearTimeout(i.current),n.current&&n.current.close()}},[e,t]),n.current}const $b=h.createContext(void 0);function x_({children:e}){const[t,n]=h.useState(null),[i,o]=h.useState(null);h.useEffect(()=>{const g=localStorage.getItem("auth_token"),x=localStorage.getItem("user");if(g&&x)try{const v=JSON.parse(x);o(g),n(v)}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("user")}},[]);const m={user:t,token:i,login:(g,x)=>{o(g),n(x),localStorage.setItem("auth_token",g),localStorage.setItem("user",JSON.stringify(x))},logout:()=>{o(null),n(null),localStorage.removeItem("auth_token"),localStorage.removeItem("user")},isAuthenticated:!!i,isAdmin:!!t?.isAdmin};return r.jsx($b.Provider,{value:m,children:e})}function ll(){const e=h.useContext($b);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function v_(){const[e,t]=h.useState(null),[n,i]=h.useState(!1),{data:o,isError:c,error:d}=mt({queryKey:["/api/offer/status"],refetchInterval:1e4,retry:3,staleTime:5e3});h.useEffect(()=>{o&&console.log("Offer Status Data:",{isActive:o.isActive,timeRemaining:o.timeRemaining,config:o.config}),c&&console.error("Offer Status Error:",d)},[o,c,d]),h.useEffect(()=>{if(o?.isActive&&o?.timeRemaining&&o.timeRemaining>0){t(o.timeRemaining);const g=setInterval(()=>{t(x=>!x||x<=1e3?null:x-1e3)},1e3);return()=>clearInterval(g)}else(o?.isActive===!1||o?.timeRemaining!==void 0&&o.timeRemaining<=0)&&t(null)},[o]);const m=g=>{const x=Math.floor(g/1e3),v=Math.floor(x/86400),b=Math.floor(x%86400/3600),N=Math.floor(x%3600/60),C=x%60;return v>0?`${v}d ${b}h ${N}m ${C}s`:b>0?`${b}h ${N}m ${C}s`:N>0?`${N}m ${C}s`:`${C}s`};return!o?.isActive||!e||n?null:r.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 via-orange-50 to-yellow-50 dark:from-yellow-900/20 dark:via-orange-900/20 dark:to-yellow-900/20 border-l-4 border-orange-500 p-4 mb-6 rounded-lg shadow-lg relative","data-testid":"banner-offer-countdown",children:[r.jsx("button",{onClick:()=>i(!0),className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200","aria-label":"Dismiss",children:r.jsx(md,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Oo,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400 animate-bounce","data-testid":"icon-gift"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-gray-100","data-testid":"text-offer-title",children:" Limited Time Offer - Auto-Approval Active!"}),r.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300","data-testid":"text-offer-description",children:"Register your bot now for instant approval and activation!"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-center bg-white dark:bg-gray-800 rounded-lg px-3 py-1.5 border border-orange-200 dark:border-orange-800 shadow-md",children:[r.jsx(m0,{className:"h-4 w-4 text-orange-500 animate-pulse mx-auto mb-0.5","data-testid":"icon-clock"}),r.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 mb-0.5",children:"Time Remaining"}),r.jsx("p",{className:"text-sm font-bold text-orange-600 dark:text-orange-400","data-testid":"text-countdown",children:m(e)})]}),r.jsxs("div",{className:"hidden md:block text-xs text-gray-700 dark:text-gray-300",children:[r.jsx("p",{className:"font-semibold mb-0.5 text-[11px]",children:" Benefits:"}),r.jsxs("ul",{className:"space-y-0.5 text-[10px]",children:[r.jsx("li",{children:" Instant approval"}),r.jsx("li",{children:" Auto-activation"}),r.jsx("li",{children:" Premium features"})]})]})]})]})]})}const kt=h.forwardRef(({className:e,type:t,...n},i)=>r.jsx("input",{type:t,className:_e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...n}));kt.displayName="Input";function Lv(e,[t,n]){return Math.min(n,Math.max(t,e))}var y_=h.createContext(void 0);function Ed(e){const t=h.useContext(y_);return e||t||"ltr"}function b_(e){const t=w_(e),n=h.forwardRef((i,o)=>{const{children:c,...d}=i,m=h.Children.toArray(c),g=m.find(N_);if(g){const x=g.props.children,v=m.map(b=>b===g?h.Children.count(x)>1?h.Children.only(null):h.isValidElement(x)?x.props.children:null:b);return r.jsx(t,{...d,ref:o,children:h.isValidElement(x)?h.cloneElement(x,void 0,v):null})}return r.jsx(t,{...d,ref:o,children:c})});return n.displayName=`${e}.Slot`,n}function w_(e){const t=h.forwardRef((n,i)=>{const{children:o,...c}=n;if(h.isValidElement(o)){const d=C_(o),m=S_(c,o.props);return o.type!==h.Fragment&&(m.ref=i?cn(i,d):d),h.cloneElement(o,m)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var j_=Symbol("radix.slottable");function N_(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===j_}function S_(e,t){const n={...t};for(const i in t){const o=e[i],c=t[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...m)=>{const g=c(...m);return o(...m),g}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...e,...n}}function C_(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var k_=[" ","Enter","ArrowUp","ArrowDown"],P_=[" ","Enter"],ya="Select",[Td,_d,E_]=Qm(ya),[Mi]=Jr(ya,[E_,Di]),Rd=Di(),[T_,Qs]=Mi(ya),[__,R_]=Mi(ya),Vb=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:o,onOpenChange:c,value:d,defaultValue:m,onValueChange:g,dir:x,name:v,autoComplete:b,disabled:N,required:C,form:T}=e,w=Rd(t),[j,k]=h.useState(null),[_,F]=h.useState(null),[I,M]=h.useState(!1),Z=Ed(x),[q,J]=is({prop:i,defaultProp:o??!1,onChange:c,caller:ya}),[U,re]=is({prop:d,defaultProp:m,onChange:g,caller:ya}),me=h.useRef(null),te=j?T||!!j.closest("form"):!0,[he,ne]=h.useState(new Set),we=Array.from(he).map(E=>E.props.value).join(";");return r.jsx(K0,{...w,children:r.jsxs(T_,{required:C,scope:t,trigger:j,onTriggerChange:k,valueNode:_,onValueNodeChange:F,valueNodeHasChildren:I,onValueNodeHasChildrenChange:M,contentId:Tr(),value:U,onValueChange:re,open:q,onOpenChange:J,dir:Z,triggerPointerDownPosRef:me,disabled:N,children:[r.jsx(Td.Provider,{scope:t,children:r.jsx(__,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(E=>{ne(K=>new Set(K).add(E))},[]),onNativeOptionRemove:h.useCallback(E=>{ne(K=>{const V=new Set(K);return V.delete(E),V})},[]),children:n})}),te?r.jsxs(uw,{"aria-hidden":!0,required:C,tabIndex:-1,name:v,autoComplete:b,value:U,onChange:E=>re(E.target.value),disabled:N,form:T,children:[U===void 0?r.jsx("option",{value:""}):null,Array.from(he)]},we):null]})})};Vb.displayName=ya;var zb="SelectTrigger",Ub=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:i=!1,...o}=e,c=Rd(n),d=Qs(zb,n),m=d.disabled||i,g=at(t,d.onTriggerChange),x=_d(n),v=h.useRef("touch"),[b,N,C]=mw(w=>{const j=x().filter(F=>!F.disabled),k=j.find(F=>F.value===d.value),_=hw(j,w,k);_!==void 0&&d.onValueChange(_.value)}),T=w=>{m||(d.onOpenChange(!0),C()),w&&(d.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return r.jsx(vd,{asChild:!0,...c,children:r.jsx(He.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":fw(d.value)?"":void 0,...o,ref:g,onClick:Fe(o.onClick,w=>{w.currentTarget.focus(),v.current!=="mouse"&&T(w)}),onPointerDown:Fe(o.onPointerDown,w=>{v.current=w.pointerType;const j=w.target;j.hasPointerCapture(w.pointerId)&&j.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(T(w),w.preventDefault())}),onKeyDown:Fe(o.onKeyDown,w=>{const j=b.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&N(w.key),!(j&&w.key===" ")&&k_.includes(w.key)&&(T(),w.preventDefault())})})})});Ub.displayName=zb;var qb="SelectValue",Wb=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:o,children:c,placeholder:d="",...m}=e,g=Qs(qb,n),{onValueNodeHasChildrenChange:x}=g,v=c!==void 0,b=at(t,g.onValueNodeChange);return pr(()=>{x(v)},[x,v]),r.jsx(He.span,{...m,ref:b,style:{pointerEvents:"none"},children:fw(g.value)?r.jsx(r.Fragment,{children:d}):c})});Wb.displayName=qb;var A_="SelectIcon",Kb=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:i,...o}=e;return r.jsx(He.span,{"aria-hidden":!0,...o,ref:t,children:i||""})});Kb.displayName=A_;var I_="SelectPortal",Gb=e=>r.jsx(nl,{asChild:!0,...e});Gb.displayName=I_;var ba="SelectContent",Qb=h.forwardRef((e,t)=>{const n=Qs(ba,e.__scopeSelect),[i,o]=h.useState();if(pr(()=>{o(new DocumentFragment)},[]),!n.open){const c=i;return c?_i.createPortal(r.jsx(Hb,{scope:e.__scopeSelect,children:r.jsx(Td.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),c):null}return r.jsx(Zb,{...e,ref:t})});Qb.displayName=ba;var vn=10,[Hb,Hs]=Mi(ba),O_="SelectContentImpl",D_=b_("SelectContent.RemoveScroll"),Zb=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:d,side:m,sideOffset:g,align:x,alignOffset:v,arrowPadding:b,collisionBoundary:N,collisionPadding:C,sticky:T,hideWhenDetached:w,avoidCollisions:j,...k}=e,_=Qs(ba,n),[F,I]=h.useState(null),[M,Z]=h.useState(null),q=at(t,ie=>I(ie)),[J,U]=h.useState(null),[re,me]=h.useState(null),te=_d(n),[he,ne]=h.useState(!1),we=h.useRef(!1);h.useEffect(()=>{if(F)return ph(F)},[F]),hh();const E=h.useCallback(ie=>{const[ce,...Ae]=te().map(pt=>pt.ref.current),[Ue]=Ae.slice(-1),ct=document.activeElement;for(const pt of ie)if(pt===ct||(pt?.scrollIntoView({block:"nearest"}),pt===ce&&M&&(M.scrollTop=0),pt===Ue&&M&&(M.scrollTop=M.scrollHeight),pt?.focus(),document.activeElement!==ct))return},[te,M]),K=h.useCallback(()=>E([J,F]),[E,J,F]);h.useEffect(()=>{he&&K()},[he,K]);const{onOpenChange:V,triggerPointerDownPosRef:Y}=_;h.useEffect(()=>{if(F){let ie={x:0,y:0};const ce=Ue=>{ie={x:Math.abs(Math.round(Ue.pageX)-(Y.current?.x??0)),y:Math.abs(Math.round(Ue.pageY)-(Y.current?.y??0))}},Ae=Ue=>{ie.x<=10&&ie.y<=10?Ue.preventDefault():F.contains(Ue.target)||V(!1),document.removeEventListener("pointermove",ce),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[F,V,Y]),h.useEffect(()=>{const ie=()=>V(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[V]);const[se,A]=mw(ie=>{const ce=te().filter(ct=>!ct.disabled),Ae=ce.find(ct=>ct.ref.current===document.activeElement),Ue=hw(ce,ie,Ae);Ue&&setTimeout(()=>Ue.ref.current.focus())}),R=h.useCallback((ie,ce,Ae)=>{const Ue=!we.current&&!Ae;(_.value!==void 0&&_.value===ce||Ue)&&(U(ie),Ue&&(we.current=!0))},[_.value]),D=h.useCallback(()=>F?.focus(),[F]),z=h.useCallback((ie,ce,Ae)=>{const Ue=!we.current&&!Ae;(_.value!==void 0&&_.value===ce||Ue)&&me(ie)},[_.value]),ae=i==="popper"?Nm:Yb,pe=ae===Nm?{side:m,sideOffset:g,align:x,alignOffset:v,arrowPadding:b,collisionBoundary:N,collisionPadding:C,sticky:T,hideWhenDetached:w,avoidCollisions:j}:{};return r.jsx(Hb,{scope:n,content:F,viewport:M,onViewportChange:Z,itemRefCallback:R,selectedItem:J,onItemLeave:D,itemTextRefCallback:z,focusSelectedItem:K,selectedItemText:re,position:i,isPositioned:he,searchRef:se,children:r.jsx(Nd,{as:D_,allowPinchZoom:!0,children:r.jsx(wd,{asChild:!0,trapped:_.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Fe(o,ie=>{_.trigger?.focus({preventScroll:!0}),ie.preventDefault()}),children:r.jsx(Ri,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:r.jsx(ae,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:ie=>ie.preventDefault(),...k,...pe,onPlaced:()=>ne(!0),ref:q,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Fe(k.onKeyDown,ie=>{const ce=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!ce&&ie.key.length===1&&A(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Ue=te().filter(ct=>!ct.disabled).map(ct=>ct.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const ct=ie.target,pt=Ue.indexOf(ct);Ue=Ue.slice(pt+1)}setTimeout(()=>E(Ue)),ie.preventDefault()}})})})})})})});Zb.displayName=O_;var M_="SelectItemAlignedPosition",Yb=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:i,...o}=e,c=Qs(ba,n),d=Hs(ba,n),[m,g]=h.useState(null),[x,v]=h.useState(null),b=at(t,q=>v(q)),N=_d(n),C=h.useRef(!1),T=h.useRef(!0),{viewport:w,selectedItem:j,selectedItemText:k,focusSelectedItem:_}=d,F=h.useCallback(()=>{if(c.trigger&&c.valueNode&&m&&x&&w&&j&&k){const q=c.trigger.getBoundingClientRect(),J=x.getBoundingClientRect(),U=c.valueNode.getBoundingClientRect(),re=k.getBoundingClientRect();if(c.dir!=="rtl"){const ct=re.left-J.left,pt=U.left-ct,Ft=q.left-pt,gr=q.width+Ft,qt=Math.max(gr,J.width),Lt=window.innerWidth-vn,Ar=Lv(pt,[vn,Math.max(vn,Lt-qt)]);m.style.minWidth=gr+"px",m.style.left=Ar+"px"}else{const ct=J.right-re.right,pt=window.innerWidth-U.right-ct,Ft=window.innerWidth-q.right-pt,gr=q.width+Ft,qt=Math.max(gr,J.width),Lt=window.innerWidth-vn,Ar=Lv(pt,[vn,Math.max(vn,Lt-qt)]);m.style.minWidth=gr+"px",m.style.right=Ar+"px"}const me=N(),te=window.innerHeight-vn*2,he=w.scrollHeight,ne=window.getComputedStyle(x),we=parseInt(ne.borderTopWidth,10),E=parseInt(ne.paddingTop,10),K=parseInt(ne.borderBottomWidth,10),V=parseInt(ne.paddingBottom,10),Y=we+E+he+V+K,se=Math.min(j.offsetHeight*5,Y),A=window.getComputedStyle(w),R=parseInt(A.paddingTop,10),D=parseInt(A.paddingBottom,10),z=q.top+q.height/2-vn,ae=te-z,pe=j.offsetHeight/2,ie=j.offsetTop+pe,ce=we+E+ie,Ae=Y-ce;if(ce<=z){const ct=me.length>0&&j===me[me.length-1].ref.current;m.style.bottom="0px";const pt=x.clientHeight-w.offsetTop-w.offsetHeight,Ft=Math.max(ae,pe+(ct?D:0)+pt+K),gr=ce+Ft;m.style.height=gr+"px"}else{const ct=me.length>0&&j===me[0].ref.current;m.style.top="0px";const Ft=Math.max(z,we+w.offsetTop+(ct?R:0)+pe)+Ae;m.style.height=Ft+"px",w.scrollTop=ce-z+w.offsetTop}m.style.margin=`${vn}px 0`,m.style.minHeight=se+"px",m.style.maxHeight=te+"px",i?.(),requestAnimationFrame(()=>C.current=!0)}},[N,c.trigger,c.valueNode,m,x,w,j,k,c.dir,i]);pr(()=>F(),[F]);const[I,M]=h.useState();pr(()=>{x&&M(window.getComputedStyle(x).zIndex)},[x]);const Z=h.useCallback(q=>{q&&T.current===!0&&(F(),_?.(),T.current=!1)},[F,_]);return r.jsx(L_,{scope:n,contentWrapper:m,shouldExpandOnScrollRef:C,onScrollButtonChange:Z,children:r.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:r.jsx(He.div,{...o,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Yb.displayName=M_;var F_="SelectPopperPosition",Nm=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:o=vn,...c}=e,d=Rd(n);return r.jsx(dh,{...d,...c,ref:t,align:i,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Nm.displayName=F_;var[L_,Ph]=Mi(ba,{}),Sm="SelectViewport",Xb=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:i,...o}=e,c=Hs(Sm,n),d=Ph(Sm,n),m=at(t,c.onViewportChange),g=h.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),r.jsx(Td.Slot,{scope:n,children:r.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Fe(o.onScroll,x=>{const v=x.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:N}=d;if(N?.current&&b){const C=Math.abs(g.current-v.scrollTop);if(C>0){const T=window.innerHeight-vn*2,w=parseFloat(b.style.minHeight),j=parseFloat(b.style.height),k=Math.max(w,j);if(k<T){const _=k+C,F=Math.min(T,_),I=_-F;b.style.height=F+"px",b.style.bottom==="0px"&&(v.scrollTop=I>0?I:0,b.style.justifyContent="flex-end")}}}g.current=v.scrollTop})})})]})});Xb.displayName=Sm;var Jb="SelectGroup",[B_,$_]=Mi(Jb),V_=h.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,o=Tr();return r.jsx(B_,{scope:n,id:o,children:r.jsx(He.div,{role:"group","aria-labelledby":o,...i,ref:t})})});V_.displayName=Jb;var ew="SelectLabel",tw=h.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,o=$_(ew,n);return r.jsx(He.div,{id:o.id,...i,ref:t})});tw.displayName=ew;var Qc="SelectItem",[z_,rw]=Mi(Qc),nw=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:i,disabled:o=!1,textValue:c,...d}=e,m=Qs(Qc,n),g=Hs(Qc,n),x=m.value===i,[v,b]=h.useState(c??""),[N,C]=h.useState(!1),T=at(t,_=>g.itemRefCallback?.(_,i,o)),w=Tr(),j=h.useRef("touch"),k=()=>{o||(m.onValueChange(i),m.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(z_,{scope:n,value:i,disabled:o,textId:w,isSelected:x,onItemTextChange:h.useCallback(_=>{b(F=>F||(_?.textContent??"").trim())},[]),children:r.jsx(Td.ItemSlot,{scope:n,value:i,disabled:o,textValue:v,children:r.jsx(He.div,{role:"option","aria-labelledby":w,"data-highlighted":N?"":void 0,"aria-selected":x&&N,"data-state":x?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...d,ref:T,onFocus:Fe(d.onFocus,()=>C(!0)),onBlur:Fe(d.onBlur,()=>C(!1)),onClick:Fe(d.onClick,()=>{j.current!=="mouse"&&k()}),onPointerUp:Fe(d.onPointerUp,()=>{j.current==="mouse"&&k()}),onPointerDown:Fe(d.onPointerDown,_=>{j.current=_.pointerType}),onPointerMove:Fe(d.onPointerMove,_=>{j.current=_.pointerType,o?g.onItemLeave?.():j.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(d.onPointerLeave,_=>{_.currentTarget===document.activeElement&&g.onItemLeave?.()}),onKeyDown:Fe(d.onKeyDown,_=>{g.searchRef?.current!==""&&_.key===" "||(P_.includes(_.key)&&k(),_.key===" "&&_.preventDefault())})})})})});nw.displayName=Qc;var Eo="SelectItemText",sw=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:o,...c}=e,d=Qs(Eo,n),m=Hs(Eo,n),g=rw(Eo,n),x=R_(Eo,n),[v,b]=h.useState(null),N=at(t,k=>b(k),g.onItemTextChange,k=>m.itemTextRefCallback?.(k,g.value,g.disabled)),C=v?.textContent,T=h.useMemo(()=>r.jsx("option",{value:g.value,disabled:g.disabled,children:C},g.value),[g.disabled,g.value,C]),{onNativeOptionAdd:w,onNativeOptionRemove:j}=x;return pr(()=>(w(T),()=>j(T)),[w,j,T]),r.jsxs(r.Fragment,{children:[r.jsx(He.span,{id:g.textId,...c,ref:N}),g.isSelected&&d.valueNode&&!d.valueNodeHasChildren?_i.createPortal(c.children,d.valueNode):null]})});sw.displayName=Eo;var aw="SelectItemIndicator",iw=h.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return rw(aw,n).isSelected?r.jsx(He.span,{"aria-hidden":!0,...i,ref:t}):null});iw.displayName=aw;var Cm="SelectScrollUpButton",ow=h.forwardRef((e,t)=>{const n=Hs(Cm,e.__scopeSelect),i=Ph(Cm,e.__scopeSelect),[o,c]=h.useState(!1),d=at(t,i.onScrollButtonChange);return pr(()=>{if(n.viewport&&n.isPositioned){let m=function(){const x=g.scrollTop>0;c(x)};const g=n.viewport;return m(),g.addEventListener("scroll",m),()=>g.removeEventListener("scroll",m)}},[n.viewport,n.isPositioned]),o?r.jsx(cw,{...e,ref:d,onAutoScroll:()=>{const{viewport:m,selectedItem:g}=n;m&&g&&(m.scrollTop=m.scrollTop-g.offsetHeight)}}):null});ow.displayName=Cm;var km="SelectScrollDownButton",lw=h.forwardRef((e,t)=>{const n=Hs(km,e.__scopeSelect),i=Ph(km,e.__scopeSelect),[o,c]=h.useState(!1),d=at(t,i.onScrollButtonChange);return pr(()=>{if(n.viewport&&n.isPositioned){let m=function(){const x=g.scrollHeight-g.clientHeight,v=Math.ceil(g.scrollTop)<x;c(v)};const g=n.viewport;return m(),g.addEventListener("scroll",m),()=>g.removeEventListener("scroll",m)}},[n.viewport,n.isPositioned]),o?r.jsx(cw,{...e,ref:d,onAutoScroll:()=>{const{viewport:m,selectedItem:g}=n;m&&g&&(m.scrollTop=m.scrollTop+g.offsetHeight)}}):null});lw.displayName=km;var cw=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:i,...o}=e,c=Hs("SelectScrollButton",n),d=h.useRef(null),m=_d(n),g=h.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return h.useEffect(()=>()=>g(),[g]),pr(()=>{m().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[m]),r.jsx(He.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Fe(o.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(i,50))}),onPointerMove:Fe(o.onPointerMove,()=>{c.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(i,50))}),onPointerLeave:Fe(o.onPointerLeave,()=>{g()})})}),U_="SelectSeparator",dw=h.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return r.jsx(He.div,{"aria-hidden":!0,...i,ref:t})});dw.displayName=U_;var Pm="SelectArrow",q_=h.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,o=Rd(n),c=Qs(Pm,n),d=Hs(Pm,n);return c.open&&d.position==="popper"?r.jsx(uh,{...o,...i,ref:t}):null});q_.displayName=Pm;var W_="SelectBubbleInput",uw=h.forwardRef(({__scopeSelect:e,value:t,...n},i)=>{const o=h.useRef(null),c=at(i,o),d=Sh(t);return h.useEffect(()=>{const m=o.current;if(!m)return;const g=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(g,"value").set;if(d!==t&&v){const b=new Event("change",{bubbles:!0});v.call(m,t),m.dispatchEvent(b)}},[d,t]),r.jsx(He.select,{...n,style:{...Uy,...n.style},ref:c,defaultValue:t})});uw.displayName=W_;function fw(e){return e===""||e===void 0}function mw(e){const t=dn(e),n=h.useRef(""),i=h.useRef(0),o=h.useCallback(d=>{const m=n.current+d;t(m),(function g(x){n.current=x,window.clearTimeout(i.current),x!==""&&(i.current=window.setTimeout(()=>g(""),1e3))})(m)},[t]),c=h.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,o,c]}function hw(e,t,n){const o=t.length>1&&Array.from(t).every(x=>x===t[0])?t[0]:t,c=n?e.indexOf(n):-1;let d=K_(e,Math.max(c,0));o.length===1&&(d=d.filter(x=>x!==n));const g=d.find(x=>x.textValue.toLowerCase().startsWith(o.toLowerCase()));return g!==n?g:void 0}function K_(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var G_=Vb,pw=Ub,Q_=Wb,H_=Kb,Z_=Gb,gw=Qb,Y_=Xb,xw=tw,vw=nw,X_=sw,J_=iw,yw=ow,bw=lw,ww=dw;const mr=G_,hr=Q_,or=h.forwardRef(({className:e,children:t,...n},i)=>r.jsxs(pw,{ref:i,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(H_,{asChild:!0,children:r.jsx(Jm,{className:"h-4 w-4 opacity-50"})})]}));or.displayName=pw.displayName;const jw=h.forwardRef(({className:e,...t},n)=>r.jsx(yw,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(i2,{className:"h-4 w-4"})}));jw.displayName=yw.displayName;const Nw=h.forwardRef(({className:e,...t},n)=>r.jsx(bw,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Jm,{className:"h-4 w-4"})}));Nw.displayName=bw.displayName;const lr=h.forwardRef(({className:e,children:t,position:n="popper",...i},o)=>r.jsx(Z_,{children:r.jsxs(gw,{ref:o,className:_e("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...i,children:[r.jsx(jw,{}),r.jsx(Y_,{className:_e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(Nw,{})]})}));lr.displayName=gw.displayName;const eR=h.forwardRef(({className:e,...t},n)=>r.jsx(xw,{ref:n,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));eR.displayName=xw.displayName;const Re=h.forwardRef(({className:e,children:t,...n},i)=>r.jsxs(vw,{ref:i,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(J_,{children:r.jsx(f0,{className:"h-4 w-4"})})}),r.jsx(X_,{children:t})]}));Re.displayName=vw.displayName;const tR=h.forwardRef(({className:e,...t},n)=>r.jsx(ww,{ref:n,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));tR.displayName=ww.displayName;var cl=e=>e.type==="checkbox",ma=e=>e instanceof Date,Br=e=>e==null;const Sw=e=>typeof e=="object";var Zt=e=>!Br(e)&&!Array.isArray(e)&&Sw(e)&&!ma(e),rR=e=>Zt(e)&&e.target?cl(e.target)?e.target.checked:e.target.value:e,nR=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,sR=(e,t)=>e.has(nR(t)),aR=e=>{const t=e.constructor&&e.constructor.prototype;return Zt(t)&&t.hasOwnProperty("isPrototypeOf")},Eh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sr(e){let t;const n=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Eh&&(e instanceof Blob||i))&&(n||Zt(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!aR(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=sr(e[o]));else return e;return t}var Ad=e=>/^\w*$/.test(e),Ut=e=>e===void 0,Th=e=>Array.isArray(e)?e.filter(Boolean):[],_h=e=>Th(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Oe=(e,t,n)=>{if(!t||!Zt(e))return n;const i=(Ad(t)?[t]:_h(t)).reduce((o,c)=>Br(o)?o:o[c],e);return Ut(i)||i===e?Ut(e[t])?n:e[t]:i},Fn=e=>typeof e=="boolean",gt=(e,t,n)=>{let i=-1;const o=Ad(t)?[t]:_h(t),c=o.length,d=c-1;for(;++i<c;){const m=o[i];let g=n;if(i!==d){const x=e[m];g=Zt(x)||Array.isArray(x)?x:isNaN(+o[i+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;e[m]=g,e=e[m]}};const Bv={BLUR:"blur",FOCUS_OUT:"focusout"},bn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ns={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},iR=Ot.createContext(null);iR.displayName="HookFormContext";var oR=(e,t,n,i=!0)=>{const o={defaultValues:t._defaultValues};for(const c in e)Object.defineProperty(o,c,{get:()=>{const d=c;return t._proxyFormState[d]!==bn.all&&(t._proxyFormState[d]=!i||bn.all),e[d]}});return o};const lR=typeof window<"u"?Ot.useLayoutEffect:Ot.useEffect;var Zr=e=>typeof e=="string",cR=(e,t,n,i,o)=>Zr(e)?(i&&t.watch.add(e),Oe(n,e,o)):Array.isArray(e)?e.map(c=>(i&&t.watch.add(c),Oe(n,c))):(i&&(t.watchAll=!0),n),Em=e=>Br(e)||!Sw(e);function Ms(e,t,n=new WeakSet){if(Em(e)||Em(t))return e===t;if(ma(e)&&ma(t))return e.getTime()===t.getTime();const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const c of i){const d=e[c];if(!o.includes(c))return!1;if(c!=="ref"){const m=t[c];if(ma(d)&&ma(m)||Zt(d)&&Zt(m)||Array.isArray(d)&&Array.isArray(m)?!Ms(d,m,n):d!==m)return!1}}return!0}var Cw=(e,t,n,i,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[i]:o||!0}}:{},_o=e=>Array.isArray(e)?e:[e],$v=()=>{let e=[];return{get observers(){return e},next:o=>{for(const c of e)c.next&&c.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(c=>c!==o)}}),unsubscribe:()=>{e=[]}}};function kw(e,t){const n={};for(const i in e)if(e.hasOwnProperty(i)){const o=e[i],c=t[i];if(o&&Zt(o)&&c){const d=kw(o,c);Zt(d)&&(n[i]=d)}else e[i]&&(n[i]=c)}return n}var Pr=e=>Zt(e)&&!Object.keys(e).length,Rh=e=>e.type==="file",wn=e=>typeof e=="function",Hc=e=>{if(!Eh)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Pw=e=>e.type==="select-multiple",Ah=e=>e.type==="radio",dR=e=>Ah(e)||cl(e),Hf=e=>Hc(e)&&e.isConnected;function uR(e,t){const n=t.slice(0,-1).length;let i=0;for(;i<n;)e=Ut(e)?i++:e[t[i++]];return e}function fR(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ut(e[t]))return!1;return!0}function Kt(e,t){const n=Array.isArray(t)?t:Ad(t)?[t]:_h(t),i=n.length===1?e:uR(e,n),o=n.length-1,c=n[o];return i&&delete i[c],o!==0&&(Zt(i)&&Pr(i)||Array.isArray(i)&&fR(i))&&Kt(e,n.slice(0,-1)),e}var mR=e=>{for(const t in e)if(wn(e[t]))return!0;return!1};function Ew(e){return Array.isArray(e)||Zt(e)&&!mR(e)}function Tm(e,t={}){for(const n in e)Ew(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Tm(e[n],t[n])):Ut(e[n])||(t[n]=!0);return t}function si(e,t,n){n||(n=Tm(t));for(const i in e)Ew(e[i])?Ut(t)||Em(n[i])?n[i]=Tm(e[i],Array.isArray(e[i])?[]:{}):si(e[i],Br(t)?{}:t[i],n[i]):n[i]=!Ms(e[i],t[i]);return n}const Vv={value:!1,isValid:!1},zv={value:!0,isValid:!0};var Tw=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ut(e[0].attributes.value)?Ut(e[0].value)||e[0].value===""?zv:{value:e[0].value,isValid:!0}:zv:Vv}return Vv},_w=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:i})=>Ut(e)?e:t?e===""?NaN:e&&+e:n&&Zr(e)?new Date(e):i?i(e):e;const Uv={isValid:!1,value:null};var Rw=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Uv):Uv;function qv(e){const t=e.ref;return Rh(t)?t.files:Ah(t)?Rw(e.refs).value:Pw(t)?[...t.selectedOptions].map(({value:n})=>n):cl(t)?Tw(e.refs).value:_w(Ut(t.value)?e.ref.value:t.value,e)}var hR=(e,t,n,i)=>{const o={};for(const c of e){const d=Oe(t,c);d&&gt(o,c,d._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:i}},Zc=e=>e instanceof RegExp,Co=e=>Ut(e)?e:Zc(e)?e.source:Zt(e)?Zc(e.value)?e.value.source:e.value:e,Wv=e=>({isOnSubmit:!e||e===bn.onSubmit,isOnBlur:e===bn.onBlur,isOnChange:e===bn.onChange,isOnAll:e===bn.all,isOnTouch:e===bn.onTouched});const Kv="AsyncFunction";var pR=e=>!!e&&!!e.validate&&!!(wn(e.validate)&&e.validate.constructor.name===Kv||Zt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Kv)),gR=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Gv=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Ro=(e,t,n,i)=>{for(const o of n||Object.keys(e)){const c=Oe(e,o);if(c){const{_f:d,...m}=c;if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!i)return!0;if(d.ref&&t(d.ref,d.name)&&!i)return!0;if(Ro(m,t))break}else if(Zt(m)&&Ro(m,t))break}}};function Qv(e,t,n){const i=Oe(e,n);if(i||Ad(n))return{error:i,name:n};const o=n.split(".");for(;o.length;){const c=o.join("."),d=Oe(t,c),m=Oe(e,c);if(d&&!Array.isArray(d)&&n!==c)return{name:n};if(m&&m.type)return{name:c,error:m};if(m&&m.root&&m.root.type)return{name:`${c}.root`,error:m.root};o.pop()}return{name:n}}var xR=(e,t,n,i)=>{n(e);const{name:o,...c}=e;return Pr(c)||Object.keys(c).length>=Object.keys(t).length||Object.keys(c).find(d=>t[d]===(!i||bn.all))},vR=(e,t,n)=>!e||!t||e===t||_o(e).some(i=>i&&(n?i===t:i.startsWith(t)||t.startsWith(i))),yR=(e,t,n,i,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(t||e):(n?i.isOnBlur:o.isOnBlur)?!e:(n?i.isOnChange:o.isOnChange)?e:!0,bR=(e,t)=>!Th(Oe(e,t)).length&&Kt(e,t),wR=(e,t,n)=>{const i=_o(Oe(e,n));return gt(i,"root",t[n]),gt(e,n,i),e};function Hv(e,t,n="validate"){if(Zr(e)||Array.isArray(e)&&e.every(Zr)||Fn(e)&&!e)return{type:n,message:Zr(e)?e:"",ref:t}}var ni=e=>Zt(e)&&!Zc(e)?e:{value:e,message:""},Zv=async(e,t,n,i,o,c)=>{const{ref:d,refs:m,required:g,maxLength:x,minLength:v,min:b,max:N,pattern:C,validate:T,name:w,valueAsNumber:j,mount:k}=e._f,_=Oe(n,w);if(!k||t.has(w))return{};const F=m?m[0]:d,I=te=>{o&&F.reportValidity&&(F.setCustomValidity(Fn(te)?"":te||""),F.reportValidity())},M={},Z=Ah(d),q=cl(d),J=Z||q,U=(j||Rh(d))&&Ut(d.value)&&Ut(_)||Hc(d)&&d.value===""||_===""||Array.isArray(_)&&!_.length,re=Cw.bind(null,w,i,M),me=(te,he,ne,we=ns.maxLength,E=ns.minLength)=>{const K=te?he:ne;M[w]={type:te?we:E,message:K,ref:d,...re(te?we:E,K)}};if(c?!Array.isArray(_)||!_.length:g&&(!J&&(U||Br(_))||Fn(_)&&!_||q&&!Tw(m).isValid||Z&&!Rw(m).isValid)){const{value:te,message:he}=Zr(g)?{value:!!g,message:g}:ni(g);if(te&&(M[w]={type:ns.required,message:he,ref:F,...re(ns.required,he)},!i))return I(he),M}if(!U&&(!Br(b)||!Br(N))){let te,he;const ne=ni(N),we=ni(b);if(!Br(_)&&!isNaN(_)){const E=d.valueAsNumber||_&&+_;Br(ne.value)||(te=E>ne.value),Br(we.value)||(he=E<we.value)}else{const E=d.valueAsDate||new Date(_),K=se=>new Date(new Date().toDateString()+" "+se),V=d.type=="time",Y=d.type=="week";Zr(ne.value)&&_&&(te=V?K(_)>K(ne.value):Y?_>ne.value:E>new Date(ne.value)),Zr(we.value)&&_&&(he=V?K(_)<K(we.value):Y?_<we.value:E<new Date(we.value))}if((te||he)&&(me(!!te,ne.message,we.message,ns.max,ns.min),!i))return I(M[w].message),M}if((x||v)&&!U&&(Zr(_)||c&&Array.isArray(_))){const te=ni(x),he=ni(v),ne=!Br(te.value)&&_.length>+te.value,we=!Br(he.value)&&_.length<+he.value;if((ne||we)&&(me(ne,te.message,he.message),!i))return I(M[w].message),M}if(C&&!U&&Zr(_)){const{value:te,message:he}=ni(C);if(Zc(te)&&!_.match(te)&&(M[w]={type:ns.pattern,message:he,ref:d,...re(ns.pattern,he)},!i))return I(he),M}if(T){if(wn(T)){const te=await T(_,n),he=Hv(te,F);if(he&&(M[w]={...he,...re(ns.validate,he.message)},!i))return I(he.message),M}else if(Zt(T)){let te={};for(const he in T){if(!Pr(te)&&!i)break;const ne=Hv(await T[he](_,n),F,he);ne&&(te={...ne,...re(he,ne.message)},I(ne.message),i&&(M[w]=te))}if(!Pr(te)&&(M[w]={ref:F,...te},!i))return M}}return I(!0),M};const jR={mode:bn.onSubmit,reValidateMode:bn.onChange,shouldFocusError:!0};function NR(e={}){let t={...jR,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:wn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},o=Zt(t.defaultValues)||Zt(t.values)?sr(t.defaultValues||t.values)||{}:{},c=t.shouldUnregister?{}:sr(o),d={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,x=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...v};const N={array:$v(),state:$v()},C=t.criteriaMode===bn.all,T=L=>G=>{clearTimeout(x),x=setTimeout(L,G)},w=async L=>{if(!t.disabled&&(v.isValid||b.isValid||L)){const G=t.resolver?Pr((await q()).errors):await U(i,!0);G!==n.isValid&&N.state.next({isValid:G})}},j=(L,G)=>{!t.disabled&&(v.isValidating||v.validatingFields||b.isValidating||b.validatingFields)&&((L||Array.from(m.mount)).forEach(ee=>{ee&&(G?gt(n.validatingFields,ee,G):Kt(n.validatingFields,ee))}),N.state.next({validatingFields:n.validatingFields,isValidating:!Pr(n.validatingFields)}))},k=(L,G=[],ee,Ne,je=!0,ve=!0)=>{if(Ne&&ee&&!t.disabled){if(d.action=!0,ve&&Array.isArray(Oe(i,L))){const P=ee(Oe(i,L),Ne.argA,Ne.argB);je&&gt(i,L,P)}if(ve&&Array.isArray(Oe(n.errors,L))){const P=ee(Oe(n.errors,L),Ne.argA,Ne.argB);je&&gt(n.errors,L,P),bR(n.errors,L)}if((v.touchedFields||b.touchedFields)&&ve&&Array.isArray(Oe(n.touchedFields,L))){const P=ee(Oe(n.touchedFields,L),Ne.argA,Ne.argB);je&&gt(n.touchedFields,L,P)}(v.dirtyFields||b.dirtyFields)&&(n.dirtyFields=si(o,c)),N.state.next({name:L,isDirty:me(L,G),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else gt(c,L,G)},_=(L,G)=>{gt(n.errors,L,G),N.state.next({errors:n.errors})},F=L=>{n.errors=L,N.state.next({errors:n.errors,isValid:!1})},I=(L,G,ee,Ne)=>{const je=Oe(i,L);if(je){const ve=Oe(c,L,Ut(ee)?Oe(o,L):ee);Ut(ve)||Ne&&Ne.defaultChecked||G?gt(c,L,G?ve:qv(je._f)):ne(L,ve),d.mount&&w()}},M=(L,G,ee,Ne,je)=>{let ve=!1,P=!1;const oe={name:L};if(!t.disabled){if(!ee||Ne){(v.isDirty||b.isDirty)&&(P=n.isDirty,n.isDirty=oe.isDirty=me(),ve=P!==oe.isDirty);const Pe=Ms(Oe(o,L),G);P=!!Oe(n.dirtyFields,L),Pe?Kt(n.dirtyFields,L):gt(n.dirtyFields,L,!0),oe.dirtyFields=n.dirtyFields,ve=ve||(v.dirtyFields||b.dirtyFields)&&P!==!Pe}if(ee){const Pe=Oe(n.touchedFields,L);Pe||(gt(n.touchedFields,L,ee),oe.touchedFields=n.touchedFields,ve=ve||(v.touchedFields||b.touchedFields)&&Pe!==ee)}ve&&je&&N.state.next(oe)}return ve?oe:{}},Z=(L,G,ee,Ne)=>{const je=Oe(n.errors,L),ve=(v.isValid||b.isValid)&&Fn(G)&&n.isValid!==G;if(t.delayError&&ee?(g=T(()=>_(L,ee)),g(t.delayError)):(clearTimeout(x),g=null,ee?gt(n.errors,L,ee):Kt(n.errors,L)),(ee?!Ms(je,ee):je)||!Pr(Ne)||ve){const P={...Ne,...ve&&Fn(G)?{isValid:G}:{},errors:n.errors,name:L};n={...n,...P},N.state.next(P)}},q=async L=>{j(L,!0);const G=await t.resolver(c,t.context,hR(L||m.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return j(L),G},J=async L=>{const{errors:G}=await q(L);if(L)for(const ee of L){const Ne=Oe(G,ee);Ne?gt(n.errors,ee,Ne):Kt(n.errors,ee)}else n.errors=G;return G},U=async(L,G,ee={valid:!0})=>{for(const Ne in L){const je=L[Ne];if(je){const{_f:ve,...P}=je;if(ve){const oe=m.array.has(ve.name),Pe=je._f&&pR(je._f);Pe&&v.validatingFields&&j([ve.name],!0);const qe=await Zv(je,m.disabled,c,C,t.shouldUseNativeValidation&&!G,oe);if(Pe&&v.validatingFields&&j([ve.name]),qe[ve.name]&&(ee.valid=!1,G))break;!G&&(Oe(qe,ve.name)?oe?wR(n.errors,qe,ve.name):gt(n.errors,ve.name,qe[ve.name]):Kt(n.errors,ve.name))}!Pr(P)&&await U(P,G,ee)}}return ee.valid},re=()=>{for(const L of m.unMount){const G=Oe(i,L);G&&(G._f.refs?G._f.refs.every(ee=>!Hf(ee)):!Hf(G._f.ref))&&ie(L)}m.unMount=new Set},me=(L,G)=>!t.disabled&&(L&&G&&gt(c,L,G),!Ms(se(),o)),te=(L,G,ee)=>cR(L,m,{...d.mount?c:Ut(G)?o:Zr(L)?{[L]:G}:G},ee,G),he=L=>Th(Oe(d.mount?c:o,L,t.shouldUnregister?Oe(o,L,[]):[])),ne=(L,G,ee={})=>{const Ne=Oe(i,L);let je=G;if(Ne){const ve=Ne._f;ve&&(!ve.disabled&&gt(c,L,_w(G,ve)),je=Hc(ve.ref)&&Br(G)?"":G,Pw(ve.ref)?[...ve.ref.options].forEach(P=>P.selected=je.includes(P.value)):ve.refs?cl(ve.ref)?ve.refs.forEach(P=>{(!P.defaultChecked||!P.disabled)&&(Array.isArray(je)?P.checked=!!je.find(oe=>oe===P.value):P.checked=je===P.value||!!je)}):ve.refs.forEach(P=>P.checked=P.value===je):Rh(ve.ref)?ve.ref.value="":(ve.ref.value=je,ve.ref.type||N.state.next({name:L,values:sr(c)})))}(ee.shouldDirty||ee.shouldTouch)&&M(L,je,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&Y(L)},we=(L,G,ee)=>{for(const Ne in G){if(!G.hasOwnProperty(Ne))return;const je=G[Ne],ve=L+"."+Ne,P=Oe(i,ve);(m.array.has(L)||Zt(je)||P&&!P._f)&&!ma(je)?we(ve,je,ee):ne(ve,je,ee)}},E=(L,G,ee={})=>{const Ne=Oe(i,L),je=m.array.has(L),ve=sr(G);gt(c,L,ve),je?(N.array.next({name:L,values:sr(c)}),(v.isDirty||v.dirtyFields||b.isDirty||b.dirtyFields)&&ee.shouldDirty&&N.state.next({name:L,dirtyFields:si(o,c),isDirty:me(L,ve)})):Ne&&!Ne._f&&!Br(ve)?we(L,ve,ee):ne(L,ve,ee),Gv(L,m)&&N.state.next({...n,name:L}),N.state.next({name:d.mount?L:void 0,values:sr(c)})},K=async L=>{d.mount=!0;const G=L.target;let ee=G.name,Ne=!0;const je=Oe(i,ee),ve=Pe=>{Ne=Number.isNaN(Pe)||ma(Pe)&&isNaN(Pe.getTime())||Ms(Pe,Oe(c,ee,Pe))},P=Wv(t.mode),oe=Wv(t.reValidateMode);if(je){let Pe,qe;const dt=G.type?qv(je._f):rR(L),dr=L.type===Bv.BLUR||L.type===Bv.FOCUS_OUT,Xs=!gR(je._f)&&!t.resolver&&!Oe(n.errors,ee)&&!je._f.deps||yR(dr,Oe(n.touchedFields,ee),n.isSubmitted,oe,P),ka=Gv(ee,m,dr);gt(c,ee,dt),dr?(!G||!G.readOnly)&&(je._f.onBlur&&je._f.onBlur(L),g&&g(0)):je._f.onChange&&je._f.onChange(L);const Pa=M(ee,dt,dr),Vd=!Pr(Pa)||ka;if(!dr&&N.state.next({name:ee,type:L.type,values:sr(c)}),Xs)return(v.isValid||b.isValid)&&(t.mode==="onBlur"?dr&&w():dr||w()),Vd&&N.state.next({name:ee,...ka?{}:Pa});if(!dr&&ka&&N.state.next({...n}),t.resolver){const{errors:Ea}=await q([ee]);if(ve(dt),Ne){const Li=Qv(n.errors,i,ee),Ta=Qv(Ea,i,Li.name||ee);Pe=Ta.error,ee=Ta.name,qe=Pr(Ea)}}else j([ee],!0),Pe=(await Zv(je,m.disabled,c,C,t.shouldUseNativeValidation))[ee],j([ee]),ve(dt),Ne&&(Pe?qe=!1:(v.isValid||b.isValid)&&(qe=await U(i,!0)));Ne&&(je._f.deps&&(!Array.isArray(je._f.deps)||je._f.deps.length>0)&&Y(je._f.deps),Z(ee,qe,Pe,Pa))}},V=(L,G)=>{if(Oe(n.errors,G)&&L.focus)return L.focus(),1},Y=async(L,G={})=>{let ee,Ne;const je=_o(L);if(t.resolver){const ve=await J(Ut(L)?L:je);ee=Pr(ve),Ne=L?!je.some(P=>Oe(ve,P)):ee}else L?(Ne=(await Promise.all(je.map(async ve=>{const P=Oe(i,ve);return await U(P&&P._f?{[ve]:P}:P)}))).every(Boolean),!(!Ne&&!n.isValid)&&w()):Ne=ee=await U(i);return N.state.next({...!Zr(L)||(v.isValid||b.isValid)&&ee!==n.isValid?{}:{name:L},...t.resolver||!L?{isValid:ee}:{},errors:n.errors}),G.shouldFocus&&!Ne&&Ro(i,V,L?je:m.mount),Ne},se=(L,G)=>{let ee={...d.mount?c:o};return G&&(ee=kw(G.dirtyFields?n.dirtyFields:n.touchedFields,ee)),Ut(L)?ee:Zr(L)?Oe(ee,L):L.map(Ne=>Oe(ee,Ne))},A=(L,G)=>({invalid:!!Oe((G||n).errors,L),isDirty:!!Oe((G||n).dirtyFields,L),error:Oe((G||n).errors,L),isValidating:!!Oe(n.validatingFields,L),isTouched:!!Oe((G||n).touchedFields,L)}),R=L=>{L&&_o(L).forEach(G=>Kt(n.errors,G)),N.state.next({errors:L?n.errors:{}})},D=(L,G,ee)=>{const Ne=(Oe(i,L,{_f:{}})._f||{}).ref,je=Oe(n.errors,L)||{},{ref:ve,message:P,type:oe,...Pe}=je;gt(n.errors,L,{...Pe,...G,ref:Ne}),N.state.next({name:L,errors:n.errors,isValid:!1}),ee&&ee.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},z=(L,G)=>wn(L)?N.state.subscribe({next:ee=>"values"in ee&&L(te(void 0,G),ee)}):te(L,G,!0),ae=L=>N.state.subscribe({next:G=>{vR(L.name,G.name,L.exact)&&xR(G,L.formState||v,Ar,L.reRenderRoot)&&L.callback({values:{...c},...n,...G,defaultValues:o})}}).unsubscribe,pe=L=>(d.mount=!0,b={...b,...L.formState},ae({...L,formState:b})),ie=(L,G={})=>{for(const ee of L?_o(L):m.mount)m.mount.delete(ee),m.array.delete(ee),G.keepValue||(Kt(i,ee),Kt(c,ee)),!G.keepError&&Kt(n.errors,ee),!G.keepDirty&&Kt(n.dirtyFields,ee),!G.keepTouched&&Kt(n.touchedFields,ee),!G.keepIsValidating&&Kt(n.validatingFields,ee),!t.shouldUnregister&&!G.keepDefaultValue&&Kt(o,ee);N.state.next({values:sr(c)}),N.state.next({...n,...G.keepDirty?{isDirty:me()}:{}}),!G.keepIsValid&&w()},ce=({disabled:L,name:G})=>{(Fn(L)&&d.mount||L||m.disabled.has(G))&&(L?m.disabled.add(G):m.disabled.delete(G))},Ae=(L,G={})=>{let ee=Oe(i,L);const Ne=Fn(G.disabled)||Fn(t.disabled);return gt(i,L,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:L}},name:L,mount:!0,...G}}),m.mount.add(L),ee?ce({disabled:Fn(G.disabled)?G.disabled:t.disabled,name:L}):I(L,!0,G.value),{...Ne?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:Co(G.min),max:Co(G.max),minLength:Co(G.minLength),maxLength:Co(G.maxLength),pattern:Co(G.pattern)}:{},name:L,onChange:K,onBlur:K,ref:je=>{if(je){Ae(L,G),ee=Oe(i,L);const ve=Ut(je.value)&&je.querySelectorAll&&je.querySelectorAll("input,select,textarea")[0]||je,P=dR(ve),oe=ee._f.refs||[];if(P?oe.find(Pe=>Pe===ve):ve===ee._f.ref)return;gt(i,L,{_f:{...ee._f,...P?{refs:[...oe.filter(Hf),ve,...Array.isArray(Oe(o,L))?[{}]:[]],ref:{type:ve.type,name:L}}:{ref:ve}}}),I(L,!1,void 0,ve)}else ee=Oe(i,L,{}),ee._f&&(ee._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(sR(m.array,L)&&d.action)&&m.unMount.add(L)}}},Ue=()=>t.shouldFocusError&&Ro(i,V,m.mount),ct=L=>{Fn(L)&&(N.state.next({disabled:L}),Ro(i,(G,ee)=>{const Ne=Oe(i,ee);Ne&&(G.disabled=Ne._f.disabled||L,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(je=>{je.disabled=Ne._f.disabled||L}))},0,!1))},pt=(L,G)=>async ee=>{let Ne;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let je=sr(c);if(N.state.next({isSubmitting:!0}),t.resolver){const{errors:ve,values:P}=await q();n.errors=ve,je=sr(P)}else await U(i);if(m.disabled.size)for(const ve of m.disabled)Kt(je,ve);if(Kt(n.errors,"root"),Pr(n.errors)){N.state.next({errors:{}});try{await L(je,ee)}catch(ve){Ne=ve}}else G&&await G({...n.errors},ee),Ue(),setTimeout(Ue);if(N.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pr(n.errors)&&!Ne,submitCount:n.submitCount+1,errors:n.errors}),Ne)throw Ne},Ft=(L,G={})=>{Oe(i,L)&&(Ut(G.defaultValue)?E(L,sr(Oe(o,L))):(E(L,G.defaultValue),gt(o,L,sr(G.defaultValue))),G.keepTouched||Kt(n.touchedFields,L),G.keepDirty||(Kt(n.dirtyFields,L),n.isDirty=G.defaultValue?me(L,sr(Oe(o,L))):me()),G.keepError||(Kt(n.errors,L),v.isValid&&w()),N.state.next({...n}))},gr=(L,G={})=>{const ee=L?sr(L):o,Ne=sr(ee),je=Pr(L),ve=je?o:Ne;if(G.keepDefaultValues||(o=ee),!G.keepValues){if(G.keepDirtyValues){const P=new Set([...m.mount,...Object.keys(si(o,c))]);for(const oe of Array.from(P))Oe(n.dirtyFields,oe)?gt(ve,oe,Oe(c,oe)):E(oe,Oe(ve,oe))}else{if(Eh&&Ut(L))for(const P of m.mount){const oe=Oe(i,P);if(oe&&oe._f){const Pe=Array.isArray(oe._f.refs)?oe._f.refs[0]:oe._f.ref;if(Hc(Pe)){const qe=Pe.closest("form");if(qe){qe.reset();break}}}}if(G.keepFieldsRef)for(const P of m.mount)E(P,Oe(ve,P));else i={}}c=t.shouldUnregister?G.keepDefaultValues?sr(o):{}:sr(ve),N.array.next({values:{...ve}}),N.state.next({values:{...ve}})}m={mount:G.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!v.isValid||!!G.keepIsValid||!!G.keepDirtyValues||!t.shouldUnregister&&!Pr(ve),d.watch=!!t.shouldUnregister,N.state.next({submitCount:G.keepSubmitCount?n.submitCount:0,isDirty:je?!1:G.keepDirty?n.isDirty:!!(G.keepDefaultValues&&!Ms(L,o)),isSubmitted:G.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:je?{}:G.keepDirtyValues?G.keepDefaultValues&&c?si(o,c):n.dirtyFields:G.keepDefaultValues&&L?si(o,L):G.keepDirty?n.dirtyFields:{},touchedFields:G.keepTouched?n.touchedFields:{},errors:G.keepErrors?n.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},qt=(L,G)=>gr(wn(L)?L(c):L,G),Lt=(L,G={})=>{const ee=Oe(i,L),Ne=ee&&ee._f;if(Ne){const je=Ne.refs?Ne.refs[0]:Ne.ref;je.focus&&(je.focus(),G.shouldSelect&&wn(je.select)&&je.select())}},Ar=L=>{n={...n,...L}},Bt={control:{register:Ae,unregister:ie,getFieldState:A,handleSubmit:pt,setError:D,_subscribe:ae,_runSchema:q,_focusError:Ue,_getWatch:te,_getDirty:me,_setValid:w,_setFieldArray:k,_setDisabledField:ce,_setErrors:F,_getFieldArray:he,_reset:gr,_resetDefaultValues:()=>wn(t.defaultValues)&&t.defaultValues().then(L=>{qt(L,t.resetOptions),N.state.next({isLoading:!1})}),_removeUnmounted:re,_disableForm:ct,_subjects:N,_proxyFormState:v,get _fields(){return i},get _formValues(){return c},get _state(){return d},set _state(L){d=L},get _defaultValues(){return o},get _names(){return m},set _names(L){m=L},get _formState(){return n},get _options(){return t},set _options(L){t={...t,...L}}},subscribe:pe,trigger:Y,register:Ae,handleSubmit:pt,watch:z,setValue:E,getValues:se,reset:qt,resetField:Ft,clearErrors:R,unregister:ie,setError:D,setFocus:Lt,getFieldState:A};return{...Bt,formControl:Bt}}function Aw(e={}){const t=Ot.useRef(void 0),n=Ot.useRef(void 0),[i,o]=Ot.useState({isDirty:!1,isValidating:!1,isLoading:wn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:wn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:i},e.defaultValues&&!wn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...m}=NR(e);t.current={...m,formState:i}}const c=t.current.control;return c._options=e,lR(()=>{const d=c._subscribe({formState:c._proxyFormState,callback:()=>o({...c._formState}),reRenderRoot:!0});return o(m=>({...m,isReady:!0})),c._formState.isReady=!0,d},[c]),Ot.useEffect(()=>c._disableForm(e.disabled),[c,e.disabled]),Ot.useEffect(()=>{e.mode&&(c._options.mode=e.mode),e.reValidateMode&&(c._options.reValidateMode=e.reValidateMode)},[c,e.mode,e.reValidateMode]),Ot.useEffect(()=>{e.errors&&(c._setErrors(e.errors),c._focusError())},[c,e.errors]),Ot.useEffect(()=>{e.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,e.shouldUnregister]),Ot.useEffect(()=>{if(c._proxyFormState.isDirty){const d=c._getDirty();d!==i.isDirty&&c._subjects.state.next({isDirty:d})}},[c,i.isDirty]),Ot.useEffect(()=>{e.values&&!Ms(e.values,n.current)?(c._reset(e.values,{keepFieldsRef:!0,...c._options.resetOptions}),n.current=e.values,o(d=>({...d}))):c._resetDefaultValues()},[c,e.values]),Ot.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),t.current.formState=oR(i,c),t.current}const Yv=(e,t,n)=>{if(e&&"reportValidity"in e){const i=Oe(n,t);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Iw=(e,t)=>{for(const n in t.fields){const i=t.fields[n];i&&i.ref&&"reportValidity"in i.ref?Yv(i.ref,n,e):i.refs&&i.refs.forEach(o=>Yv(o,n,e))}},SR=(e,t)=>{t.shouldUseNativeValidation&&Iw(e,t);const n={};for(const i in e){const o=Oe(t.fields,i),c=Object.assign(e[i]||{},{ref:o&&o.ref});if(CR(t.names||Object.keys(e),i)){const d=Object.assign({},Oe(n,i));gt(d,"root",c),gt(n,i,d)}else gt(n,i,c)}return n},CR=(e,t)=>e.some(n=>n.startsWith(t+"."));var kR=function(e,t){for(var n={};e.length;){var i=e[0],o=i.code,c=i.message,d=i.path.join(".");if(!n[d])if("unionErrors"in i){var m=i.unionErrors[0].errors[0];n[d]={message:m.message,type:m.code}}else n[d]={message:c,type:o};if("unionErrors"in i&&i.unionErrors.forEach(function(v){return v.errors.forEach(function(b){return e.push(b)})}),t){var g=n[d].types,x=g&&g[i.code];n[d]=Cw(d,t,n,o,x?[].concat(x,i.message):i.message)}e.shift()}return n},Ow=function(e,t,n){return n===void 0&&(n={}),function(i,o,c){try{return Promise.resolve((function(d,m){try{var g=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](i,t)).then(function(x){return c.shouldUseNativeValidation&&Iw({},c),{errors:{},values:n.raw?i:x}})}catch(x){return m(x)}return g&&g.then?g.then(void 0,m):g})(0,function(d){if((function(m){return Array.isArray(m?.errors)})(d))return{values:{},errors:SR(kR(d.errors,!c.shouldUseNativeValidation&&c.criteriaMode==="all"),c)};throw d}))}catch(d){return Promise.reject(d)}}};const le=Symbol.for("drizzle:entityKind");function ar(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,le))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(le in n&&n[le]===t[le])return!0;n=Object.getPrototypeOf(n)}return!1}class $o{constructor(t,n){this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}static[le]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class PR{static[le]="ColumnBuilder";config;constructor(t,n,i){this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:i,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}const mi=Symbol.for("drizzle:Name");class ER{static[le]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(t,n){this.reference=()=>{const{name:i,columns:o,foreignColumns:c}=t();return{name:i,columns:o,foreignTable:c[0].table,foreignColumns:c}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new TR(t,this)}}class TR{constructor(t,n){this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}static[le]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:t,columns:n,foreignColumns:i}=this.reference(),o=n.map(m=>m.name),c=i.map(m=>m.name),d=[this.table[mi],...o,i[0].table[mi],...c];return t??`${d.join("_")}_fk`}}function _R(e,...t){return e(...t)}function RR(e,t){return`${e[mi]}_${t.join("_")}_unique`}function Xv(e,t,n){for(let i=t;i<e.length;i++){const o=e[i];if(o==="\\"){i++;continue}if(o==='"')return[e.slice(t,i).replace(/\\/g,""),i+1];if(!n&&(o===","||o==="}"))return[e.slice(t,i).replace(/\\/g,""),i]}return[e.slice(t).replace(/\\/g,""),e.length]}function Dw(e,t=0){const n=[];let i=t,o=!1;for(;i<e.length;){const c=e[i];if(c===","){(o||i===t)&&n.push(""),o=!0,i++;continue}if(o=!1,c==="\\"){i+=2;continue}if(c==='"'){const[g,x]=Xv(e,i+1,!0);n.push(g),i=x;continue}if(c==="}")return[n,i+1];if(c==="{"){const[g,x]=Dw(e,i+1);n.push(g),i=x;continue}const[d,m]=Xv(e,i,!1);n.push(d),i=m}return[n,i]}function AR(e){const[t]=Dw(e,1);return t}function Mw(e){return`{${e.map(t=>Array.isArray(t)?Mw(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}class it extends PR{foreignKeyConfigs=[];static[le]="PgColumnBuilder";array(t){return new OR(this.config.name,this,t)}references(t,n={}){return this.foreignKeyConfigs.push({ref:t,actions:n}),this}unique(t,n){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,n){return this.foreignKeyConfigs.map(({ref:i,actions:o})=>_R((c,d)=>{const m=new ER(()=>{const g=c();return{columns:[t],foreignColumns:[g]}});return d.onUpdate&&m.onUpdate(d.onUpdate),d.onDelete&&m.onDelete(d.onDelete),m.build(n)},i,o))}buildExtraConfigColumn(t){return new IR(t,this.config)}}class et extends $o{constructor(t,n){n.uniqueName||(n.uniqueName=RR(t,[n.name])),super(t,n),this.table=t}static[le]="PgColumn"}class IR extends et{static[le]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}}class OR extends it{static[le]="PgArrayBuilder";constructor(t,n,i){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=i}build(t){const n=this.config.baseBuilder.build(t);return new Ih(t,this.config,n)}}class Ih extends et{constructor(t,n,i,o){super(t,n),this.baseColumn=i,this.range=o,this.size=n.size}size;static[le]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=AR(t)),t.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(t,n=!1){const i=t.map(o=>o===null?null:ar(this.baseColumn,Ih)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return n?i:Mw(i)}}const Jv=Symbol.for("drizzle:isPgEnum");function DR(e){return!!e&&typeof e=="function"&&Jv in e&&e[Jv]===!0}class Fw{static[le]="Subquery";constructor(t,n,i,o=!1,c=[]){this._={brand:"Subquery",sql:t,selectedFields:n,alias:i,isWith:o,usedTables:c}}}const MR={startActiveSpan(e,t){return t()}},hi=Symbol.for("drizzle:ViewBaseConfig"),Zf=Symbol.for("drizzle:Schema"),ey=Symbol.for("drizzle:Columns"),ty=Symbol.for("drizzle:ExtraConfigColumns"),Yf=Symbol.for("drizzle:OriginalName"),Xf=Symbol.for("drizzle:BaseName"),Yc=Symbol.for("drizzle:IsAlias"),ry=Symbol.for("drizzle:ExtraConfigBuilder"),Lw=Symbol.for("drizzle:IsDrizzleTable");let ir=class{static[le]="Table";static Symbol={Name:mi,Schema:Zf,OriginalName:Yf,Columns:ey,ExtraConfigColumns:ty,BaseName:Xf,IsAlias:Yc,ExtraConfigBuilder:ry};[mi];[Yf];[Zf];[ey];[ty];[Xf];[Yc]=!1;[Lw]=!0;[ry]=void 0;constructor(t,n,i){this[mi]=this[Yf]=t,this[Zf]=n,this[Xf]=i}};function Bw(e){return typeof e=="object"&&e!==null&&Lw in e}function FR(e){return e!=null&&typeof e.getSQL=="function"}function LR(e){const t={sql:"",params:[]};for(const n of e)t.sql+=n.sql,t.params.push(...n.params),n.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...n.typings));return t}class yn{static[le]="StringChunk";value;constructor(t){this.value=Array.isArray(t)?t:[t]}getSQL(){return new Dt([this])}}class Dt{constructor(t){this.queryChunks=t;for(const n of t)if(ar(n,ir)){const i=n[ir.Symbol.Schema];this.usedTables.push(i===void 0?n[ir.Symbol.Name]:i+"."+n[ir.Symbol.Name])}}static[le]="SQL";decoder=$w;shouldInlineParams=!1;usedTables=[];append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return MR.startActiveSpan("drizzle.buildSQL",n=>{const i=this.buildQueryFromSourceParams(this.queryChunks,t);return n?.setAttributes({"drizzle.query.text":i.sql,"drizzle.query.params":JSON.stringify(i.params)}),i})}buildQueryFromSourceParams(t,n){const i=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:o,escapeName:c,escapeParam:d,prepareTyping:m,inlineParams:g,paramStartIndex:x}=i;return LR(t.map(v=>{if(ar(v,yn))return{sql:v.value.join(""),params:[]};if(ar(v,_m))return{sql:c(v.value),params:[]};if(v===void 0)return{sql:"",params:[]};if(Array.isArray(v)){const b=[new yn("(")];for(const[N,C]of v.entries())b.push(C),N<v.length-1&&b.push(new yn(", "));return b.push(new yn(")")),this.buildQueryFromSourceParams(b,i)}if(ar(v,Dt))return this.buildQueryFromSourceParams(v.queryChunks,{...i,inlineParams:g||v.shouldInlineParams});if(ar(v,ir)){const b=v[ir.Symbol.Schema],N=v[ir.Symbol.Name];return{sql:b===void 0||v[Yc]?c(N):c(b)+"."+c(N),params:[]}}if(ar(v,$o)){const b=o.getColumnCasing(v);if(n.invokeSource==="indexes")return{sql:c(b),params:[]};const N=v.table[ir.Symbol.Schema];return{sql:v.table[Yc]||N===void 0?c(v.table[ir.Symbol.Name])+"."+c(b):c(N)+"."+c(v.table[ir.Symbol.Name])+"."+c(b),params:[]}}if(ar(v,BR)){const b=v[hi].schema,N=v[hi].name;return{sql:b===void 0||v[hi].isAlias?c(N):c(b)+"."+c(N),params:[]}}if(ar(v,zw)){if(ar(v.value,Rm))return{sql:d(x.value++,v),params:[v],typings:["none"]};const b=v.value===null?null:v.encoder.mapToDriverValue(v.value);if(ar(b,Dt))return this.buildQueryFromSourceParams([b],i);if(g)return{sql:this.mapInlineParam(b,i),params:[]};let N=["none"];return m&&(N=[m(v.encoder)]),{sql:d(x.value++,b),params:[b],typings:N}}return ar(v,Rm)?{sql:d(x.value++,v),params:[v],typings:["none"]}:ar(v,Dt.Aliased)&&v.fieldAlias!==void 0?{sql:c(v.fieldAlias),params:[]}:ar(v,Fw)?v._.isWith?{sql:c(v._.alias),params:[]}:this.buildQueryFromSourceParams([new yn("("),v._.sql,new yn(") "),new _m(v._.alias)],i):DR(v)?v.schema?{sql:c(v.schema)+"."+c(v.enumName),params:[]}:{sql:c(v.enumName),params:[]}:FR(v)?v.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([v.getSQL()],i):this.buildQueryFromSourceParams([new yn("("),v.getSQL(),new yn(")")],i):g?{sql:this.mapInlineParam(v,i),params:[]}:{sql:d(x.value++,v),params:[v],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const i=t.toString();return n(i==="[object Object]"?JSON.stringify(t):i)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Dt.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}}class _m{constructor(t){this.value=t}static[le]="Name";brand;getSQL(){return new Dt([this])}}const $w={mapFromDriverValue:e=>e},Vw={mapToDriverValue:e=>e};({...$w,...Vw});class zw{constructor(t,n=Vw){this.value=t,this.encoder=n}static[le]="Param";brand;getSQL(){return new Dt([this])}}function lt(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new yn(e[0]));for(const[i,o]of t.entries())n.push(o,new yn(e[i+1]));return new Dt(n)}(e=>{function t(){return new Dt([])}e.empty=t;function n(g){return new Dt(g)}e.fromList=n;function i(g){return new Dt([new yn(g)])}e.raw=i;function o(g,x){const v=[];for(const[b,N]of g.entries())b>0&&x!==void 0&&v.push(x),v.push(N);return new Dt(v)}e.join=o;function c(g){return new _m(g)}e.identifier=c;function d(g){return new Rm(g)}e.placeholder=d;function m(g,x){return new zw(g,x)}e.param=m})(lt||(lt={}));(e=>{class t{constructor(i,o){this.sql=i,this.fieldAlias=o}static[le]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(Dt||(Dt={}));class Rm{constructor(t){this.name=t}static[le]="Placeholder";getSQL(){return new Dt([this])}}const Uw=Symbol.for("drizzle:IsDrizzleView");class BR{static[le]="View";[hi];[Uw]=!0;constructor({name:t,schema:n,selectedFields:i,query:o}){this[hi]={name:t,originalName:t,schema:n,selectedFields:i,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new Dt([this])}}function $R(e){return typeof e=="object"&&e!==null&&Uw in e}$o.prototype.getSQL=function(){return new Dt([this])};ir.prototype.getSQL=function(){return new Dt([this])};Fw.prototype.getSQL=function(){return new Dt([this])};function VR(e){return e[ir.Symbol.Columns]}function zR(e){return e[hi].selectedFields}function cr(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}typeof TextDecoder>"u"||new TextDecoder;class Id extends it{static[le]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(t){if(t){const{name:n,...i}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:i}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...i}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:i}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class UR extends Id{static[le]="PgBigInt53Builder";constructor(t){super(t,"number","PgBigInt53")}build(t){return new qR(t,this.config)}}class qR extends et{static[le]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class WR extends Id{static[le]="PgBigInt64Builder";constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new KR(t,this.config)}}class KR extends et{static[le]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}function GR(e,t){const{name:n,config:i}=cr(e,t);return i.mode==="number"?new UR(n):new WR(n)}class QR extends it{static[le]="PgBigSerial53Builder";constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new HR(t,this.config)}}class HR extends et{static[le]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class ZR extends it{static[le]="PgBigSerial64Builder";constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new YR(t,this.config)}}class YR extends et{static[le]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}function XR(e,t){const{name:n,config:i}=cr(e,t);return i.mode==="number"?new QR(n):new ZR(n)}class JR extends it{static[le]="PgBooleanBuilder";constructor(t){super(t,"boolean","PgBoolean")}build(t){return new eA(t,this.config)}}class eA extends et{static[le]="PgBoolean";getSQLType(){return"boolean"}}function $r(e){return new JR(e??"")}class tA extends it{static[le]="PgCharBuilder";constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new rA(t,this.config)}}class rA extends et{static[le]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function nA(e,t={}){const{name:n,config:i}=cr(e,t);return new tA(n,i)}class sA extends it{static[le]="PgCidrBuilder";constructor(t){super(t,"string","PgCidr")}build(t){return new aA(t,this.config)}}class aA extends et{static[le]="PgCidr";getSQLType(){return"cidr"}}function iA(e){return new sA(e??"")}class oA extends it{static[le]="PgCustomColumnBuilder";constructor(t,n,i){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=i}build(t){return new lA(t,this.config)}}class lA extends et{static[le]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(t,n){super(t,n),this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}}function cA(e){return(t,n)=>{const{name:i,config:o}=cr(t,n);return new oA(i,o,e)}}class dl extends it{static[le]="PgDateColumnBaseBuilder";defaultNow(){return this.default(lt`now()`)}}class dA extends dl{static[le]="PgDateBuilder";constructor(t){super(t,"date","PgDate")}build(t){return new uA(t,this.config)}}class uA extends et{static[le]="PgDate";getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}class fA extends dl{static[le]="PgDateStringBuilder";constructor(t){super(t,"string","PgDateString")}build(t){return new mA(t,this.config)}}class mA extends et{static[le]="PgDateString";getSQLType(){return"date"}}function hA(e,t){const{name:n,config:i}=cr(e,t);return i?.mode==="date"?new dA(n):new fA(n)}class pA extends it{static[le]="PgDoublePrecisionBuilder";constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new gA(t,this.config)}}class gA extends et{static[le]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}function xA(e){return new pA(e??"")}class vA extends it{static[le]="PgInetBuilder";constructor(t){super(t,"string","PgInet")}build(t){return new yA(t,this.config)}}class yA extends et{static[le]="PgInet";getSQLType(){return"inet"}}function bA(e){return new vA(e??"")}class wA extends Id{static[le]="PgIntegerBuilder";constructor(t){super(t,"number","PgInteger")}build(t){return new jA(t,this.config)}}class jA extends et{static[le]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}function $s(e){return new wA(e??"")}class NA extends it{static[le]="PgIntervalBuilder";constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new SA(t,this.config)}}class SA extends et{static[le]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const t=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${t}${n}`}}function CA(e,t={}){const{name:n,config:i}=cr(e,t);return new NA(n,i)}class kA extends it{static[le]="PgJsonBuilder";constructor(t){super(t,"json","PgJson")}build(t){return new PA(t,this.config)}}class PA extends et{static[le]="PgJson";constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function EA(e){return new kA(e??"")}class TA extends it{static[le]="PgJsonbBuilder";constructor(t){super(t,"json","PgJsonb")}build(t){return new _A(t,this.config)}}class _A extends et{static[le]="PgJsonb";constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function Ni(e){return new TA(e??"")}class RA extends it{static[le]="PgLineBuilder";constructor(t){super(t,"array","PgLine")}build(t){return new AA(t,this.config)}}class AA extends et{static[le]="PgLine";getSQLType(){return"line"}mapFromDriverValue(t){const[n,i,o]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(i),Number.parseFloat(o)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}class IA extends it{static[le]="PgLineABCBuilder";constructor(t){super(t,"json","PgLineABC")}build(t){return new OA(t,this.config)}}class OA extends et{static[le]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(t){const[n,i,o]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(i),c:Number.parseFloat(o)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}function DA(e,t){const{name:n,config:i}=cr(e,t);return!i?.mode||i.mode==="tuple"?new RA(n):new IA(n)}class MA extends it{static[le]="PgMacaddrBuilder";constructor(t){super(t,"string","PgMacaddr")}build(t){return new FA(t,this.config)}}class FA extends et{static[le]="PgMacaddr";getSQLType(){return"macaddr"}}function LA(e){return new MA(e??"")}class BA extends it{static[le]="PgMacaddr8Builder";constructor(t){super(t,"string","PgMacaddr8")}build(t){return new $A(t,this.config)}}class $A extends et{static[le]="PgMacaddr8";getSQLType(){return"macaddr8"}}function VA(e){return new BA(e??"")}class zA extends it{static[le]="PgNumericBuilder";constructor(t,n,i){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=i}build(t){return new UA(t,this.config)}}class UA extends et{static[le]="PgNumeric";precision;scale;constructor(t,n){super(t,n),this.precision=n.precision,this.scale=n.scale}mapFromDriverValue(t){return typeof t=="string"?t:String(t)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class qA extends it{static[le]="PgNumericNumberBuilder";constructor(t,n,i){super(t,"number","PgNumericNumber"),this.config.precision=n,this.config.scale=i}build(t){return new WA(t,this.config)}}class WA extends et{static[le]="PgNumericNumber";precision;scale;constructor(t,n){super(t,n),this.precision=n.precision,this.scale=n.scale}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class KA extends it{static[le]="PgNumericBigIntBuilder";constructor(t,n,i){super(t,"bigint","PgNumericBigInt"),this.config.precision=n,this.config.scale=i}build(t){return new GA(t,this.config)}}class GA extends et{static[le]="PgNumericBigInt";precision;scale;constructor(t,n){super(t,n),this.precision=n.precision,this.scale=n.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function QA(e,t){const{name:n,config:i}=cr(e,t),o=i?.mode;return o==="number"?new qA(n,i?.precision,i?.scale):o==="bigint"?new KA(n,i?.precision,i?.scale):new zA(n,i?.precision,i?.scale)}class HA extends it{static[le]="PgPointTupleBuilder";constructor(t){super(t,"array","PgPointTuple")}build(t){return new ZA(t,this.config)}}class ZA extends et{static[le]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,i]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(i)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}class YA extends it{static[le]="PgPointObjectBuilder";constructor(t){super(t,"json","PgPointObject")}build(t){return new XA(t,this.config)}}class XA extends et{static[le]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,i]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(i)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}function JA(e,t){const{name:n,config:i}=cr(e,t);return!i?.mode||i.mode==="tuple"?new HA(n):new YA(n)}function eI(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function ny(e,t){const n=new ArrayBuffer(8),i=new DataView(n);for(let o=0;o<8;o++)i.setUint8(o,e[t+o]);return i.getFloat64(0,!0)}function qw(e){const t=eI(e);let n=0;const i=t[n];n+=1;const o=new DataView(t.buffer),c=o.getUint32(n,i===1);if(n+=4,c&536870912&&(o.getUint32(n,i===1),n+=4),(c&65535)===1){const d=ny(t,n);n+=8;const m=ny(t,n);return n+=8,[d,m]}throw new Error("Unsupported geometry type")}class tI extends it{static[le]="PgGeometryBuilder";constructor(t){super(t,"array","PgGeometry")}build(t){return new rI(t,this.config)}}class rI extends et{static[le]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return qw(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}class nI extends it{static[le]="PgGeometryObjectBuilder";constructor(t){super(t,"json","PgGeometryObject")}build(t){return new sI(t,this.config)}}class sI extends et{static[le]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=qw(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}function aI(e,t){const{name:n,config:i}=cr(e,t);return!i?.mode||i.mode==="tuple"?new tI(n):new nI(n)}class iI extends it{static[le]="PgRealBuilder";constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new oI(t,this.config)}}class oI extends et{static[le]="PgReal";constructor(t,n){super(t,n)}getSQLType(){return"real"}mapFromDriverValue=t=>typeof t=="string"?Number.parseFloat(t):t}function lI(e){return new iI(e??"")}class cI extends it{static[le]="PgSerialBuilder";constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new dI(t,this.config)}}class dI extends et{static[le]="PgSerial";getSQLType(){return"serial"}}function uI(e){return new cI(e??"")}class fI extends Id{static[le]="PgSmallIntBuilder";constructor(t){super(t,"number","PgSmallInt")}build(t){return new mI(t,this.config)}}class mI extends et{static[le]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=t=>typeof t=="string"?Number(t):t}function hI(e){return new fI(e??"")}class pI extends it{static[le]="PgSmallSerialBuilder";constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new gI(t,this.config)}}class gI extends et{static[le]="PgSmallSerial";getSQLType(){return"smallserial"}}function xI(e){return new pI(e??"")}class vI extends it{static[le]="PgTextBuilder";constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new yI(t,this.config)}}class yI extends et{static[le]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function We(e,t={}){const{name:n,config:i}=cr(e,t);return new vI(n,i)}class bI extends dl{constructor(t,n,i){super(t,"string","PgTime"),this.withTimezone=n,this.precision=i,this.config.withTimezone=n,this.config.precision=i}static[le]="PgTimeBuilder";build(t){return new wI(t,this.config)}}class wI extends et{static[le]="PgTime";withTimezone;precision;constructor(t,n){super(t,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function jI(e,t={}){const{name:n,config:i}=cr(e,t);return new bI(n,i.withTimezone??!1,i.precision)}class NI extends dl{static[le]="PgTimestampBuilder";constructor(t,n,i){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=i}build(t){return new SI(t,this.config)}}class SI extends et{static[le]="PgTimestamp";withTimezone;precision;constructor(t,n){super(t,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=t=>new Date(this.withTimezone?t:t+"+0000");mapToDriverValue=t=>t.toISOString()}class CI extends dl{static[le]="PgTimestampStringBuilder";constructor(t,n,i){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=i}build(t){return new kI(t,this.config)}}class kI extends et{static[le]="PgTimestampString";withTimezone;precision;constructor(t,n){super(t,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function vt(e,t={}){const{name:n,config:i}=cr(e,t);return i?.mode==="string"?new CI(n,i.withTimezone??!1,i.precision):new NI(n,i?.withTimezone??!1,i?.precision)}class PI extends it{static[le]="PgUUIDBuilder";constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(lt`gen_random_uuid()`)}build(t){return new EI(t,this.config)}}class EI extends et{static[le]="PgUUID";getSQLType(){return"uuid"}}function TI(e){return new PI(e??"")}class _I extends it{static[le]="PgVarcharBuilder";constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new RI(t,this.config)}}class RI extends et{static[le]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function Nr(e,t={}){const{name:n,config:i}=cr(e,t);return new _I(n,i)}class AI extends it{static[le]="PgBinaryVectorBuilder";constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new II(t,this.config)}}class II extends et{static[le]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function OI(e,t){const{name:n,config:i}=cr(e,t);return new AI(n,i)}class DI extends it{static[le]="PgHalfVectorBuilder";constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new MI(t,this.config)}}class MI extends et{static[le]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function FI(e,t){const{name:n,config:i}=cr(e,t);return new DI(n,i)}class LI extends it{static[le]="PgSparseVectorBuilder";constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new BI(t,this.config)}}class BI extends et{static[le]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function $I(e,t){const{name:n,config:i}=cr(e,t);return new LI(n,i)}class VI extends it{static[le]="PgVectorBuilder";constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new zI(t,this.config)}}class zI extends et{static[le]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function UI(e,t){const{name:n,config:i}=cr(e,t);return new VI(n,i)}function qI(){return{bigint:GR,bigserial:XR,boolean:$r,char:nA,cidr:iA,customType:cA,date:hA,doublePrecision:xA,inet:bA,integer:$s,interval:CA,json:EA,jsonb:Ni,line:DA,macaddr:LA,macaddr8:VA,numeric:QA,point:JA,geometry:aI,real:lI,serial:uI,smallint:hI,smallserial:xI,text:We,time:jI,timestamp:vt,uuid:TI,varchar:Nr,bit:OI,halfvec:FI,sparsevec:$I,vector:UI}}const Am=Symbol.for("drizzle:PgInlineForeignKeys"),sy=Symbol.for("drizzle:EnableRLS");class ay extends ir{static[le]="PgTable";static Symbol=Object.assign({},ir.Symbol,{InlineForeignKeys:Am,EnableRLS:sy});[Am]=[];[sy]=!1;[ir.Symbol.ExtraConfigBuilder]=void 0;[ir.Symbol.ExtraConfigColumns]={}}function WI(e,t,n,i,o=e){const c=new ay(e,i,o),d=typeof t=="function"?t(qI()):t,m=Object.fromEntries(Object.entries(d).map(([v,b])=>{const N=b;N.setName(v);const C=N.build(c);return c[Am].push(...N.buildForeignKeys(C,c)),[v,C]})),g=Object.fromEntries(Object.entries(d).map(([v,b])=>{const N=b;N.setName(v);const C=N.buildExtraConfigColumn(c);return[v,C]})),x=Object.assign(c,m);return x[ir.Symbol.Columns]=m,x[ir.Symbol.ExtraConfigColumns]=g,Object.assign(x,{enableRLS:()=>(x[ay.Symbol.EnableRLS]=!0,x)})}const _n=(e,t,n)=>WI(e,t,n,void 0);var ot;(function(e){e.assertEqual=o=>{};function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{const c={};for(const d of o)c[d]=d;return c},e.getValidEnumValues=o=>{const c=e.objectKeys(o).filter(m=>typeof o[o[m]]!="number"),d={};for(const m of c)d[m]=o[m];return e.objectValues(d)},e.objectValues=o=>e.objectKeys(o).map(function(c){return o[c]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const c=[];for(const d in o)Object.prototype.hasOwnProperty.call(o,d)&&c.push(d);return c},e.find=(o,c)=>{for(const d of o)if(c(d))return d},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,c=" | "){return o.map(d=>typeof d=="string"?`'${d}'`:d).join(c)}e.joinValues=i,e.jsonStringifyReplacer=(o,c)=>typeof c=="bigint"?c.toString():c})(ot||(ot={}));var Im;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Im||(Im={}));const ke=ot.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),as=e=>{switch(typeof e){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return Number.isNaN(e)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(e)?ke.array:e===null?ke.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ke.promise:typeof Map<"u"&&e instanceof Map?ke.map:typeof Set<"u"&&e instanceof Set?ke.set:typeof Date<"u"&&e instanceof Date?ke.date:ke.object;default:return ke.unknown}},ye=ot.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),KI=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Xr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(c){return c.message},i={_errors:[]},o=c=>{for(const d of c.issues)if(d.code==="invalid_union")d.unionErrors.map(o);else if(d.code==="invalid_return_type")o(d.returnTypeError);else if(d.code==="invalid_arguments")o(d.argumentsError);else if(d.path.length===0)i._errors.push(n(d));else{let m=i,g=0;for(;g<d.path.length;){const x=d.path[g];g===d.path.length-1?(m[x]=m[x]||{_errors:[]},m[x]._errors.push(n(d))):m[x]=m[x]||{_errors:[]},m=m[x],g++}}};return o(this),i}static assert(t){if(!(t instanceof Xr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ot.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},i=[];for(const o of this.issues)if(o.path.length>0){const c=o.path[0];n[c]=n[c]||[],n[c].push(t(o))}else i.push(t(o));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}Xr.create=e=>new Xr(e);const Si=(e,t)=>{let n;switch(e.code){case ye.invalid_type:e.received===ke.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ye.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ot.jsonStringifyReplacer)}`;break;case ye.unrecognized_keys:n=`Unrecognized key(s) in object: ${ot.joinValues(e.keys,", ")}`;break;case ye.invalid_union:n="Invalid input";break;case ye.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ot.joinValues(e.options)}`;break;case ye.invalid_enum_value:n=`Invalid enum value. Expected ${ot.joinValues(e.options)}, received '${e.received}'`;break;case ye.invalid_arguments:n="Invalid function arguments";break;case ye.invalid_return_type:n="Invalid function return type";break;case ye.invalid_date:n="Invalid date";break;case ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ot.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ye.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ye.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ye.custom:n="Invalid input";break;case ye.invalid_intersection_types:n="Intersection results could not be merged";break;case ye.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ye.not_finite:n="Number must be finite";break;default:n=t.defaultError,ot.assertNever(e)}return{message:n}};let Ww=Si;function GI(e){Ww=e}function Xc(){return Ww}const Jc=e=>{const{data:t,path:n,errorMaps:i,issueData:o}=e,c=[...n,...o.path||[]],d={...o,path:c};if(o.message!==void 0)return{...o,path:c,message:o.message};let m="";const g=i.filter(x=>!!x).slice().reverse();for(const x of g)m=x(d,{data:t,defaultError:m}).message;return{...o,path:c,message:m}},QI=[];function Se(e,t){const n=Xc(),i=Jc({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Si?void 0:Si].filter(o=>!!o)});e.common.issues.push(i)}class Sr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const i=[];for(const o of n){if(o.status==="aborted")return Ke;o.status==="dirty"&&t.dirty(),i.push(o.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,n){const i=[];for(const o of n){const c=await o.key,d=await o.value;i.push({key:c,value:d})}return Sr.mergeObjectSync(t,i)}static mergeObjectSync(t,n){const i={};for(const o of n){const{key:c,value:d}=o;if(c.status==="aborted"||d.status==="aborted")return Ke;c.status==="dirty"&&t.dirty(),d.status==="dirty"&&t.dirty(),c.value!=="__proto__"&&(typeof d.value<"u"||o.alwaysSet)&&(i[c.value]=d.value)}return{status:t.value,value:i}}}const Ke=Object.freeze({status:"aborted"}),li=e=>({status:"dirty",value:e}),_r=e=>({status:"valid",value:e}),Om=e=>e.status==="aborted",Dm=e=>e.status==="dirty",wa=e=>e.status==="valid",Vo=e=>typeof Promise<"u"&&e instanceof Promise;var Be;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Be||(Be={}));class Wn{constructor(t,n,i,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const iy=(e,t)=>{if(wa(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Xr(e.common.issues);return this._error=n,this._error}}};function tt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:o}=e;if(t&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(d,m)=>{const{message:g}=e;return d.code==="invalid_enum_value"?{message:g??m.defaultError}:typeof m.data>"u"?{message:g??i??m.defaultError}:d.code!=="invalid_type"?{message:m.defaultError}:{message:g??n??m.defaultError}},description:o}}class nt{get description(){return this._def.description}_getType(t){return as(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:as(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Sr,ctx:{common:t.parent.common,data:t.data,parsedType:as(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Vo(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const i=this.safeParse(t,n);if(i.success)return i.data;throw i.error}safeParse(t,n){const i={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:as(t)},o=this._parseSync({data:t,path:i.path,parent:i});return iy(i,o)}"~validate"(t){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:as(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:n});return wa(i)?{value:i.value}:{issues:n.common.issues}}catch(i){i?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(i=>wa(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(t,n){const i=await this.safeParseAsync(t,n);if(i.success)return i.data;throw i.error}async safeParseAsync(t,n){const i={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:as(t)},o=this._parse({data:t,path:i.path,parent:i}),c=await(Vo(o)?o:Promise.resolve(o));return iy(i,c)}refine(t,n){const i=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,c)=>{const d=t(o),m=()=>c.addIssue({code:ye.custom,...i(o)});return typeof Promise<"u"&&d instanceof Promise?d.then(g=>g?!0:(m(),!1)):d?!0:(m(),!1)})}refinement(t,n){return this._refinement((i,o)=>t(i)?!0:(o.addIssue(typeof n=="function"?n(i,o):n),!1))}_refinement(t){return new Pn({schema:this,typeName:Ge.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Un.create(this,this._def)}nullable(){return Ks.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Nn.create(this)}promise(){return ki.create(this,this._def)}or(t){return Wo.create([this,t],this._def)}and(t){return Ko.create(this,t,this._def)}transform(t){return new Pn({...tt(this._def),schema:this,typeName:Ge.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Yo({...tt(this._def),innerType:this,defaultValue:n,typeName:Ge.ZodDefault})}brand(){return new Oh({typeName:Ge.ZodBranded,type:this,...tt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Xo({...tt(this._def),innerType:this,catchValue:n,typeName:Ge.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return ul.create(this,t)}readonly(){return Jo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const HI=/^c[^\s-]{8,}$/i,ZI=/^[0-9a-z]+$/,YI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,XI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,JI=/^[a-z0-9_-]{21}$/i,e4=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,t4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,r4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,n4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Jf;const s4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,a4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,i4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,o4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,l4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,c4=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Kw="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",d4=new RegExp(`^${Kw}$`);function Gw(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function u4(e){return new RegExp(`^${Gw(e)}$`)}function Qw(e){let t=`${Kw}T${Gw(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function f4(e,t){return!!((t==="v4"||!t)&&s4.test(e)||(t==="v6"||!t)&&i4.test(e))}function m4(e,t){if(!e4.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&o?.typ!=="JWT"||!o.alg||t&&o.alg!==t)}catch{return!1}}function h4(e,t){return!!((t==="v4"||!t)&&a4.test(e)||(t==="v6"||!t)&&o4.test(e))}class jn extends nt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ke.string){const c=this._getOrReturnCtx(t);return Se(c,{code:ye.invalid_type,expected:ke.string,received:c.parsedType}),Ke}const i=new Sr;let o;for(const c of this._def.checks)if(c.kind==="min")t.data.length<c.value&&(o=this._getOrReturnCtx(t,o),Se(o,{code:ye.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),i.dirty());else if(c.kind==="max")t.data.length>c.value&&(o=this._getOrReturnCtx(t,o),Se(o,{code:ye.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),i.dirty());else if(c.kind==="length"){const d=t.data.length>c.value,m=t.data.length<c.value;(d||m)&&(o=this._getOrReturnCtx(t,o),d?Se(o,{code:ye.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):m&&Se(o,{code:ye.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),i.dirty())}else if(c.kind==="email")r4.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"email",code:ye.invalid_string,message:c.message}),i.dirty());else if(c.kind==="emoji")Jf||(Jf=new RegExp(n4,"u")),Jf.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"emoji",code:ye.invalid_string,message:c.message}),i.dirty());else if(c.kind==="uuid")XI.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"uuid",code:ye.invalid_string,message:c.message}),i.dirty());else if(c.kind==="nanoid")JI.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"nanoid",code:ye.invalid_string,message:c.message}),i.dirty());else if(c.kind==="cuid")HI.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"cuid",code:ye.invalid_string,message:c.message}),i.dirty());else if(c.kind==="cuid2")ZI.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"cuid2",code:ye.invalid_string,message:c.message}),i.dirty());else if(c.kind==="ulid")YI.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"ulid",code:ye.invalid_string,message:c.message}),i.dirty());else if(c.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),Se(o,{validation:"url",code:ye.invalid_string,message:c.message}),i.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"regex",code:ye.invalid_string,message:c.message}),i.dirty())):c.kind==="trim"?t.data=t.data.trim():c.kind==="includes"?t.data.includes(c.value,c.position)||(o=this._getOrReturnCtx(t,o),Se(o,{code:ye.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),i.dirty()):c.kind==="toLowerCase"?t.data=t.data.toLowerCase():c.kind==="toUpperCase"?t.data=t.data.toUpperCase():c.kind==="startsWith"?t.data.startsWith(c.value)||(o=this._getOrReturnCtx(t,o),Se(o,{code:ye.invalid_string,validation:{startsWith:c.value},message:c.message}),i.dirty()):c.kind==="endsWith"?t.data.endsWith(c.value)||(o=this._getOrReturnCtx(t,o),Se(o,{code:ye.invalid_string,validation:{endsWith:c.value},message:c.message}),i.dirty()):c.kind==="datetime"?Qw(c).test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{code:ye.invalid_string,validation:"datetime",message:c.message}),i.dirty()):c.kind==="date"?d4.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{code:ye.invalid_string,validation:"date",message:c.message}),i.dirty()):c.kind==="time"?u4(c).test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{code:ye.invalid_string,validation:"time",message:c.message}),i.dirty()):c.kind==="duration"?t4.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"duration",code:ye.invalid_string,message:c.message}),i.dirty()):c.kind==="ip"?f4(t.data,c.version)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"ip",code:ye.invalid_string,message:c.message}),i.dirty()):c.kind==="jwt"?m4(t.data,c.alg)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"jwt",code:ye.invalid_string,message:c.message}),i.dirty()):c.kind==="cidr"?h4(t.data,c.version)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"cidr",code:ye.invalid_string,message:c.message}),i.dirty()):c.kind==="base64"?l4.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"base64",code:ye.invalid_string,message:c.message}),i.dirty()):c.kind==="base64url"?c4.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"base64url",code:ye.invalid_string,message:c.message}),i.dirty()):ot.assertNever(c);return{status:i.value,value:t.data}}_regex(t,n,i){return this.refinement(o=>t.test(o),{validation:n,code:ye.invalid_string,...Be.errToObj(i)})}_addCheck(t){return new jn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Be.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Be.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Be.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Be.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Be.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Be.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Be.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Be.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Be.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Be.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Be.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Be.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Be.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Be.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Be.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Be.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Be.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...Be.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Be.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Be.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Be.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Be.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Be.errToObj(n)})}nonempty(t){return this.min(1,Be.errToObj(t))}trim(){return new jn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new jn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new jn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}jn.create=e=>new jn({checks:[],typeName:Ge.ZodString,coerce:e?.coerce??!1,...tt(e)});function p4(e,t){const n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,o=n>i?n:i,c=Number.parseInt(e.toFixed(o).replace(".","")),d=Number.parseInt(t.toFixed(o).replace(".",""));return c%d/10**o}class Us extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ke.number){const c=this._getOrReturnCtx(t);return Se(c,{code:ye.invalid_type,expected:ke.number,received:c.parsedType}),Ke}let i;const o=new Sr;for(const c of this._def.checks)c.kind==="int"?ot.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{code:ye.invalid_type,expected:"integer",received:"float",message:c.message}),o.dirty()):c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(i=this._getOrReturnCtx(t,i),Se(i,{code:ye.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),o.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(i=this._getOrReturnCtx(t,i),Se(i,{code:ye.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),o.dirty()):c.kind==="multipleOf"?p4(t.data,c.value)!==0&&(i=this._getOrReturnCtx(t,i),Se(i,{code:ye.not_multiple_of,multipleOf:c.value,message:c.message}),o.dirty()):c.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{code:ye.not_finite,message:c.message}),o.dirty()):ot.assertNever(c);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Be.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Be.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Be.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Be.toString(n))}setLimit(t,n,i,o){return new Us({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Be.toString(o)}]})}_addCheck(t){return new Us({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Be.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Be.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Be.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Be.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Be.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Be.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Be.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Be.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Be.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ot.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Us.create=e=>new Us({checks:[],typeName:Ge.ZodNumber,coerce:e?.coerce||!1,...tt(e)});class qs extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ke.bigint)return this._getInvalidInput(t);let i;const o=new Sr;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(i=this._getOrReturnCtx(t,i),Se(i,{code:ye.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),o.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(i=this._getOrReturnCtx(t,i),Se(i,{code:ye.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),o.dirty()):c.kind==="multipleOf"?t.data%c.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),Se(i,{code:ye.not_multiple_of,multipleOf:c.value,message:c.message}),o.dirty()):ot.assertNever(c);return{status:o.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Se(n,{code:ye.invalid_type,expected:ke.bigint,received:n.parsedType}),Ke}gte(t,n){return this.setLimit("min",t,!0,Be.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Be.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Be.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Be.toString(n))}setLimit(t,n,i,o){return new qs({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Be.toString(o)}]})}_addCheck(t){return new qs({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Be.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Be.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Be.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Be.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Be.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}qs.create=e=>new qs({checks:[],typeName:Ge.ZodBigInt,coerce:e?.coerce??!1,...tt(e)});class zo extends nt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ke.boolean){const i=this._getOrReturnCtx(t);return Se(i,{code:ye.invalid_type,expected:ke.boolean,received:i.parsedType}),Ke}return _r(t.data)}}zo.create=e=>new zo({typeName:Ge.ZodBoolean,coerce:e?.coerce||!1,...tt(e)});class ja extends nt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ke.date){const c=this._getOrReturnCtx(t);return Se(c,{code:ye.invalid_type,expected:ke.date,received:c.parsedType}),Ke}if(Number.isNaN(t.data.getTime())){const c=this._getOrReturnCtx(t);return Se(c,{code:ye.invalid_date}),Ke}const i=new Sr;let o;for(const c of this._def.checks)c.kind==="min"?t.data.getTime()<c.value&&(o=this._getOrReturnCtx(t,o),Se(o,{code:ye.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),i.dirty()):c.kind==="max"?t.data.getTime()>c.value&&(o=this._getOrReturnCtx(t,o),Se(o,{code:ye.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),i.dirty()):ot.assertNever(c);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ja({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Be.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Be.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ja.create=e=>new ja({checks:[],coerce:e?.coerce||!1,typeName:Ge.ZodDate,...tt(e)});class ed extends nt{_parse(t){if(this._getType(t)!==ke.symbol){const i=this._getOrReturnCtx(t);return Se(i,{code:ye.invalid_type,expected:ke.symbol,received:i.parsedType}),Ke}return _r(t.data)}}ed.create=e=>new ed({typeName:Ge.ZodSymbol,...tt(e)});class Uo extends nt{_parse(t){if(this._getType(t)!==ke.undefined){const i=this._getOrReturnCtx(t);return Se(i,{code:ye.invalid_type,expected:ke.undefined,received:i.parsedType}),Ke}return _r(t.data)}}Uo.create=e=>new Uo({typeName:Ge.ZodUndefined,...tt(e)});class qo extends nt{_parse(t){if(this._getType(t)!==ke.null){const i=this._getOrReturnCtx(t);return Se(i,{code:ye.invalid_type,expected:ke.null,received:i.parsedType}),Ke}return _r(t.data)}}qo.create=e=>new qo({typeName:Ge.ZodNull,...tt(e)});class Ci extends nt{constructor(){super(...arguments),this._any=!0}_parse(t){return _r(t.data)}}Ci.create=e=>new Ci({typeName:Ge.ZodAny,...tt(e)});class ha extends nt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return _r(t.data)}}ha.create=e=>new ha({typeName:Ge.ZodUnknown,...tt(e)});class cs extends nt{_parse(t){const n=this._getOrReturnCtx(t);return Se(n,{code:ye.invalid_type,expected:ke.never,received:n.parsedType}),Ke}}cs.create=e=>new cs({typeName:Ge.ZodNever,...tt(e)});class td extends nt{_parse(t){if(this._getType(t)!==ke.undefined){const i=this._getOrReturnCtx(t);return Se(i,{code:ye.invalid_type,expected:ke.void,received:i.parsedType}),Ke}return _r(t.data)}}td.create=e=>new td({typeName:Ge.ZodVoid,...tt(e)});class Nn extends nt{_parse(t){const{ctx:n,status:i}=this._processInputParams(t),o=this._def;if(n.parsedType!==ke.array)return Se(n,{code:ye.invalid_type,expected:ke.array,received:n.parsedType}),Ke;if(o.exactLength!==null){const d=n.data.length>o.exactLength.value,m=n.data.length<o.exactLength.value;(d||m)&&(Se(n,{code:d?ye.too_big:ye.too_small,minimum:m?o.exactLength.value:void 0,maximum:d?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(Se(n,{code:ye.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(Se(n,{code:ye.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((d,m)=>o.type._parseAsync(new Wn(n,d,n.path,m)))).then(d=>Sr.mergeArray(i,d));const c=[...n.data].map((d,m)=>o.type._parseSync(new Wn(n,d,n.path,m)));return Sr.mergeArray(i,c)}get element(){return this._def.type}min(t,n){return new Nn({...this._def,minLength:{value:t,message:Be.toString(n)}})}max(t,n){return new Nn({...this._def,maxLength:{value:t,message:Be.toString(n)}})}length(t,n){return new Nn({...this._def,exactLength:{value:t,message:Be.toString(n)}})}nonempty(t){return this.min(1,t)}}Nn.create=(e,t)=>new Nn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ge.ZodArray,...tt(t)});function ai(e){if(e instanceof Rt){const t={};for(const n in e.shape){const i=e.shape[n];t[n]=Un.create(ai(i))}return new Rt({...e._def,shape:()=>t})}else return e instanceof Nn?new Nn({...e._def,type:ai(e.element)}):e instanceof Un?Un.create(ai(e.unwrap())):e instanceof Ks?Ks.create(ai(e.unwrap())):e instanceof Kn?Kn.create(e.items.map(t=>ai(t))):e}class Rt extends nt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ot.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==ke.object){const x=this._getOrReturnCtx(t);return Se(x,{code:ye.invalid_type,expected:ke.object,received:x.parsedType}),Ke}const{status:i,ctx:o}=this._processInputParams(t),{shape:c,keys:d}=this._getCached(),m=[];if(!(this._def.catchall instanceof cs&&this._def.unknownKeys==="strip"))for(const x in o.data)d.includes(x)||m.push(x);const g=[];for(const x of d){const v=c[x],b=o.data[x];g.push({key:{status:"valid",value:x},value:v._parse(new Wn(o,b,o.path,x)),alwaysSet:x in o.data})}if(this._def.catchall instanceof cs){const x=this._def.unknownKeys;if(x==="passthrough")for(const v of m)g.push({key:{status:"valid",value:v},value:{status:"valid",value:o.data[v]}});else if(x==="strict")m.length>0&&(Se(o,{code:ye.unrecognized_keys,keys:m}),i.dirty());else if(x!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const x=this._def.catchall;for(const v of m){const b=o.data[v];g.push({key:{status:"valid",value:v},value:x._parse(new Wn(o,b,o.path,v)),alwaysSet:v in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const x=[];for(const v of g){const b=await v.key,N=await v.value;x.push({key:b,value:N,alwaysSet:v.alwaysSet})}return x}).then(x=>Sr.mergeObjectSync(i,x)):Sr.mergeObjectSync(i,g)}get shape(){return this._def.shape()}strict(t){return Be.errToObj,new Rt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,i)=>{const o=this._def.errorMap?.(n,i).message??i.defaultError;return n.code==="unrecognized_keys"?{message:Be.errToObj(t).message??o}:{message:o}}}:{}})}strip(){return new Rt({...this._def,unknownKeys:"strip"})}passthrough(){return new Rt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Rt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Rt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ge.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Rt({...this._def,catchall:t})}pick(t){const n={};for(const i of ot.objectKeys(t))t[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new Rt({...this._def,shape:()=>n})}omit(t){const n={};for(const i of ot.objectKeys(this.shape))t[i]||(n[i]=this.shape[i]);return new Rt({...this._def,shape:()=>n})}deepPartial(){return ai(this)}partial(t){const n={};for(const i of ot.objectKeys(this.shape)){const o=this.shape[i];t&&!t[i]?n[i]=o:n[i]=o.optional()}return new Rt({...this._def,shape:()=>n})}required(t){const n={};for(const i of ot.objectKeys(this.shape))if(t&&!t[i])n[i]=this.shape[i];else{let c=this.shape[i];for(;c instanceof Un;)c=c._def.innerType;n[i]=c}return new Rt({...this._def,shape:()=>n})}keyof(){return Hw(ot.objectKeys(this.shape))}}Rt.create=(e,t)=>new Rt({shape:()=>e,unknownKeys:"strip",catchall:cs.create(),typeName:Ge.ZodObject,...tt(t)});Rt.strictCreate=(e,t)=>new Rt({shape:()=>e,unknownKeys:"strict",catchall:cs.create(),typeName:Ge.ZodObject,...tt(t)});Rt.lazycreate=(e,t)=>new Rt({shape:e,unknownKeys:"strip",catchall:cs.create(),typeName:Ge.ZodObject,...tt(t)});class Wo extends nt{_parse(t){const{ctx:n}=this._processInputParams(t),i=this._def.options;function o(c){for(const m of c)if(m.result.status==="valid")return m.result;for(const m of c)if(m.result.status==="dirty")return n.common.issues.push(...m.ctx.common.issues),m.result;const d=c.map(m=>new Xr(m.ctx.common.issues));return Se(n,{code:ye.invalid_union,unionErrors:d}),Ke}if(n.common.async)return Promise.all(i.map(async c=>{const d={...n,common:{...n.common,issues:[]},parent:null};return{result:await c._parseAsync({data:n.data,path:n.path,parent:d}),ctx:d}})).then(o);{let c;const d=[];for(const g of i){const x={...n,common:{...n.common,issues:[]},parent:null},v=g._parseSync({data:n.data,path:n.path,parent:x});if(v.status==="valid")return v;v.status==="dirty"&&!c&&(c={result:v,ctx:x}),x.common.issues.length&&d.push(x.common.issues)}if(c)return n.common.issues.push(...c.ctx.common.issues),c.result;const m=d.map(g=>new Xr(g));return Se(n,{code:ye.invalid_union,unionErrors:m}),Ke}}get options(){return this._def.options}}Wo.create=(e,t)=>new Wo({options:e,typeName:Ge.ZodUnion,...tt(t)});const ss=e=>e instanceof Qo?ss(e.schema):e instanceof Pn?ss(e.innerType()):e instanceof Ho?[e.value]:e instanceof Ws?e.options:e instanceof Zo?ot.objectValues(e.enum):e instanceof Yo?ss(e._def.innerType):e instanceof Uo?[void 0]:e instanceof qo?[null]:e instanceof Un?[void 0,...ss(e.unwrap())]:e instanceof Ks?[null,...ss(e.unwrap())]:e instanceof Oh||e instanceof Jo?ss(e.unwrap()):e instanceof Xo?ss(e._def.innerType):[];class Od extends nt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ke.object)return Se(n,{code:ye.invalid_type,expected:ke.object,received:n.parsedType}),Ke;const i=this.discriminator,o=n.data[i],c=this.optionsMap.get(o);return c?n.common.async?c._parseAsync({data:n.data,path:n.path,parent:n}):c._parseSync({data:n.data,path:n.path,parent:n}):(Se(n,{code:ye.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),Ke)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,i){const o=new Map;for(const c of n){const d=ss(c.shape[t]);if(!d.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const m of d){if(o.has(m))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(m)}`);o.set(m,c)}}return new Od({typeName:Ge.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:o,...tt(i)})}}function Mm(e,t){const n=as(e),i=as(t);if(e===t)return{valid:!0,data:e};if(n===ke.object&&i===ke.object){const o=ot.objectKeys(t),c=ot.objectKeys(e).filter(m=>o.indexOf(m)!==-1),d={...e,...t};for(const m of c){const g=Mm(e[m],t[m]);if(!g.valid)return{valid:!1};d[m]=g.data}return{valid:!0,data:d}}else if(n===ke.array&&i===ke.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let c=0;c<e.length;c++){const d=e[c],m=t[c],g=Mm(d,m);if(!g.valid)return{valid:!1};o.push(g.data)}return{valid:!0,data:o}}else return n===ke.date&&i===ke.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ko extends nt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=(c,d)=>{if(Om(c)||Om(d))return Ke;const m=Mm(c.value,d.value);return m.valid?((Dm(c)||Dm(d))&&n.dirty(),{status:n.value,value:m.data}):(Se(i,{code:ye.invalid_intersection_types}),Ke)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([c,d])=>o(c,d)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Ko.create=(e,t,n)=>new Ko({left:e,right:t,typeName:Ge.ZodIntersection,...tt(n)});class Kn extends nt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==ke.array)return Se(i,{code:ye.invalid_type,expected:ke.array,received:i.parsedType}),Ke;if(i.data.length<this._def.items.length)return Se(i,{code:ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ke;!this._def.rest&&i.data.length>this._def.items.length&&(Se(i,{code:ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const c=[...i.data].map((d,m)=>{const g=this._def.items[m]||this._def.rest;return g?g._parse(new Wn(i,d,i.path,m)):null}).filter(d=>!!d);return i.common.async?Promise.all(c).then(d=>Sr.mergeArray(n,d)):Sr.mergeArray(n,c)}get items(){return this._def.items}rest(t){return new Kn({...this._def,rest:t})}}Kn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Kn({items:e,typeName:Ge.ZodTuple,rest:null,...tt(t)})};class Go extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==ke.object)return Se(i,{code:ye.invalid_type,expected:ke.object,received:i.parsedType}),Ke;const o=[],c=this._def.keyType,d=this._def.valueType;for(const m in i.data)o.push({key:c._parse(new Wn(i,m,i.path,m)),value:d._parse(new Wn(i,i.data[m],i.path,m)),alwaysSet:m in i.data});return i.common.async?Sr.mergeObjectAsync(n,o):Sr.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,i){return n instanceof nt?new Go({keyType:t,valueType:n,typeName:Ge.ZodRecord,...tt(i)}):new Go({keyType:jn.create(),valueType:t,typeName:Ge.ZodRecord,...tt(n)})}}class rd extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==ke.map)return Se(i,{code:ye.invalid_type,expected:ke.map,received:i.parsedType}),Ke;const o=this._def.keyType,c=this._def.valueType,d=[...i.data.entries()].map(([m,g],x)=>({key:o._parse(new Wn(i,m,i.path,[x,"key"])),value:c._parse(new Wn(i,g,i.path,[x,"value"]))}));if(i.common.async){const m=new Map;return Promise.resolve().then(async()=>{for(const g of d){const x=await g.key,v=await g.value;if(x.status==="aborted"||v.status==="aborted")return Ke;(x.status==="dirty"||v.status==="dirty")&&n.dirty(),m.set(x.value,v.value)}return{status:n.value,value:m}})}else{const m=new Map;for(const g of d){const x=g.key,v=g.value;if(x.status==="aborted"||v.status==="aborted")return Ke;(x.status==="dirty"||v.status==="dirty")&&n.dirty(),m.set(x.value,v.value)}return{status:n.value,value:m}}}}rd.create=(e,t,n)=>new rd({valueType:t,keyType:e,typeName:Ge.ZodMap,...tt(n)});class Na extends nt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==ke.set)return Se(i,{code:ye.invalid_type,expected:ke.set,received:i.parsedType}),Ke;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(Se(i,{code:ye.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(Se(i,{code:ye.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const c=this._def.valueType;function d(g){const x=new Set;for(const v of g){if(v.status==="aborted")return Ke;v.status==="dirty"&&n.dirty(),x.add(v.value)}return{status:n.value,value:x}}const m=[...i.data.values()].map((g,x)=>c._parse(new Wn(i,g,i.path,x)));return i.common.async?Promise.all(m).then(g=>d(g)):d(m)}min(t,n){return new Na({...this._def,minSize:{value:t,message:Be.toString(n)}})}max(t,n){return new Na({...this._def,maxSize:{value:t,message:Be.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Na.create=(e,t)=>new Na({valueType:e,minSize:null,maxSize:null,typeName:Ge.ZodSet,...tt(t)});class pi extends nt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ke.function)return Se(n,{code:ye.invalid_type,expected:ke.function,received:n.parsedType}),Ke;function i(m,g){return Jc({data:m,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xc(),Si].filter(x=>!!x),issueData:{code:ye.invalid_arguments,argumentsError:g}})}function o(m,g){return Jc({data:m,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xc(),Si].filter(x=>!!x),issueData:{code:ye.invalid_return_type,returnTypeError:g}})}const c={errorMap:n.common.contextualErrorMap},d=n.data;if(this._def.returns instanceof ki){const m=this;return _r(async function(...g){const x=new Xr([]),v=await m._def.args.parseAsync(g,c).catch(C=>{throw x.addIssue(i(g,C)),x}),b=await Reflect.apply(d,this,v);return await m._def.returns._def.type.parseAsync(b,c).catch(C=>{throw x.addIssue(o(b,C)),x})})}else{const m=this;return _r(function(...g){const x=m._def.args.safeParse(g,c);if(!x.success)throw new Xr([i(g,x.error)]);const v=Reflect.apply(d,this,x.data),b=m._def.returns.safeParse(v,c);if(!b.success)throw new Xr([o(v,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new pi({...this._def,args:Kn.create(t).rest(ha.create())})}returns(t){return new pi({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,i){return new pi({args:t||Kn.create([]).rest(ha.create()),returns:n||ha.create(),typeName:Ge.ZodFunction,...tt(i)})}}class Qo extends nt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Qo.create=(e,t)=>new Qo({getter:e,typeName:Ge.ZodLazy,...tt(t)});class Ho extends nt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Se(n,{received:n.data,code:ye.invalid_literal,expected:this._def.value}),Ke}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ho.create=(e,t)=>new Ho({value:e,typeName:Ge.ZodLiteral,...tt(t)});function Hw(e,t){return new Ws({values:e,typeName:Ge.ZodEnum,...tt(t)})}class Ws extends nt{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),i=this._def.values;return Se(n,{expected:ot.joinValues(i),received:n.parsedType,code:ye.invalid_type}),Ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),i=this._def.values;return Se(n,{received:n.data,code:ye.invalid_enum_value,options:i}),Ke}return _r(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ws.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ws.create(this.options.filter(i=>!t.includes(i)),{...this._def,...n})}}Ws.create=Hw;class Zo extends nt{_parse(t){const n=ot.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==ke.string&&i.parsedType!==ke.number){const o=ot.objectValues(n);return Se(i,{expected:ot.joinValues(o),received:i.parsedType,code:ye.invalid_type}),Ke}if(this._cache||(this._cache=new Set(ot.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const o=ot.objectValues(n);return Se(i,{received:i.data,code:ye.invalid_enum_value,options:o}),Ke}return _r(t.data)}get enum(){return this._def.values}}Zo.create=(e,t)=>new Zo({values:e,typeName:Ge.ZodNativeEnum,...tt(t)});class ki extends nt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ke.promise&&n.common.async===!1)return Se(n,{code:ye.invalid_type,expected:ke.promise,received:n.parsedType}),Ke;const i=n.parsedType===ke.promise?n.data:Promise.resolve(n.data);return _r(i.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ki.create=(e,t)=>new ki({type:e,typeName:Ge.ZodPromise,...tt(t)});class Pn extends nt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=this._def.effect||null,c={addIssue:d=>{Se(i,d),d.fatal?n.abort():n.dirty()},get path(){return i.path}};if(c.addIssue=c.addIssue.bind(c),o.type==="preprocess"){const d=o.transform(i.data,c);if(i.common.async)return Promise.resolve(d).then(async m=>{if(n.value==="aborted")return Ke;const g=await this._def.schema._parseAsync({data:m,path:i.path,parent:i});return g.status==="aborted"?Ke:g.status==="dirty"||n.value==="dirty"?li(g.value):g});{if(n.value==="aborted")return Ke;const m=this._def.schema._parseSync({data:d,path:i.path,parent:i});return m.status==="aborted"?Ke:m.status==="dirty"||n.value==="dirty"?li(m.value):m}}if(o.type==="refinement"){const d=m=>{const g=o.refinement(m,c);if(i.common.async)return Promise.resolve(g);if(g instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return m};if(i.common.async===!1){const m=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return m.status==="aborted"?Ke:(m.status==="dirty"&&n.dirty(),d(m.value),{status:n.value,value:m.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(m=>m.status==="aborted"?Ke:(m.status==="dirty"&&n.dirty(),d(m.value).then(()=>({status:n.value,value:m.value}))))}if(o.type==="transform")if(i.common.async===!1){const d=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!wa(d))return Ke;const m=o.transform(d.value,c);if(m instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:m}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(d=>wa(d)?Promise.resolve(o.transform(d.value,c)).then(m=>({status:n.value,value:m})):Ke);ot.assertNever(o)}}Pn.create=(e,t,n)=>new Pn({schema:e,typeName:Ge.ZodEffects,effect:t,...tt(n)});Pn.createWithPreprocess=(e,t,n)=>new Pn({schema:t,effect:{type:"preprocess",transform:e},typeName:Ge.ZodEffects,...tt(n)});class Un extends nt{_parse(t){return this._getType(t)===ke.undefined?_r(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Un.create=(e,t)=>new Un({innerType:e,typeName:Ge.ZodOptional,...tt(t)});class Ks extends nt{_parse(t){return this._getType(t)===ke.null?_r(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ks.create=(e,t)=>new Ks({innerType:e,typeName:Ge.ZodNullable,...tt(t)});class Yo extends nt{_parse(t){const{ctx:n}=this._processInputParams(t);let i=n.data;return n.parsedType===ke.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Yo.create=(e,t)=>new Yo({innerType:e,typeName:Ge.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...tt(t)});class Xo extends nt{_parse(t){const{ctx:n}=this._processInputParams(t),i={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Vo(o)?o.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new Xr(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Xr(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Xo.create=(e,t)=>new Xo({innerType:e,typeName:Ge.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...tt(t)});class nd extends nt{_parse(t){if(this._getType(t)!==ke.nan){const i=this._getOrReturnCtx(t);return Se(i,{code:ye.invalid_type,expected:ke.nan,received:i.parsedType}),Ke}return{status:"valid",value:t.data}}}nd.create=e=>new nd({typeName:Ge.ZodNaN,...tt(e)});const g4=Symbol("zod_brand");class Oh extends nt{_parse(t){const{ctx:n}=this._processInputParams(t),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class ul extends nt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return c.status==="aborted"?Ke:c.status==="dirty"?(n.dirty(),li(c.value)):this._def.out._parseAsync({data:c.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Ke:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(t,n){return new ul({in:t,out:n,typeName:Ge.ZodPipeline})}}class Jo extends nt{_parse(t){const n=this._def.innerType._parse(t),i=o=>(wa(o)&&(o.value=Object.freeze(o.value)),o);return Vo(n)?n.then(o=>i(o)):i(n)}unwrap(){return this._def.innerType}}Jo.create=(e,t)=>new Jo({innerType:e,typeName:Ge.ZodReadonly,...tt(t)});function oy(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function Dh(e,t={},n){return e?Ci.create().superRefine((i,o)=>{const c=e(i);if(c instanceof Promise)return c.then(d=>{if(!d){const m=oy(t,i),g=m.fatal??n??!0;o.addIssue({code:"custom",...m,fatal:g})}});if(!c){const d=oy(t,i),m=d.fatal??n??!0;o.addIssue({code:"custom",...d,fatal:m})}}):Ci.create()}const x4={object:Rt.lazycreate};var Ge;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ge||(Ge={}));const v4=(e,t={message:`Input not instance of ${e.name}`})=>Dh(n=>n instanceof e,t),Dd=jn.create,Mh=Us.create,y4=nd.create,b4=qs.create,Fh=zo.create,w4=ja.create,j4=ed.create,N4=Uo.create,Zw=qo.create,el=Ci.create,S4=ha.create,C4=cs.create,k4=td.create,Yw=Nn.create,Xw=Rt.create,P4=Rt.strictCreate,Lh=Wo.create,E4=Od.create,T4=Ko.create,_4=Kn.create,Jw=Go.create,R4=rd.create,A4=Na.create,I4=pi.create,O4=Qo.create,D4=Ho.create,M4=Ws.create,F4=Zo.create,L4=ki.create,ly=Pn.create,B4=Un.create,$4=Ks.create,V4=Pn.createWithPreprocess,z4=ul.create,U4=()=>Dd().optional(),q4=()=>Mh().optional(),W4=()=>Fh().optional(),K4={string:(e=>jn.create({...e,coerce:!0})),number:(e=>Us.create({...e,coerce:!0})),boolean:(e=>zo.create({...e,coerce:!0})),bigint:(e=>qs.create({...e,coerce:!0})),date:(e=>ja.create({...e,coerce:!0}))},G4=Ke,Q4=Object.freeze(Object.defineProperty({__proto__:null,BRAND:g4,DIRTY:li,EMPTY_PATH:QI,INVALID:Ke,NEVER:G4,OK:_r,ParseStatus:Sr,Schema:nt,ZodAny:Ci,ZodArray:Nn,ZodBigInt:qs,ZodBoolean:zo,ZodBranded:Oh,ZodCatch:Xo,ZodDate:ja,ZodDefault:Yo,ZodDiscriminatedUnion:Od,ZodEffects:Pn,ZodEnum:Ws,ZodError:Xr,get ZodFirstPartyTypeKind(){return Ge},ZodFunction:pi,ZodIntersection:Ko,ZodIssueCode:ye,ZodLazy:Qo,ZodLiteral:Ho,ZodMap:rd,ZodNaN:nd,ZodNativeEnum:Zo,ZodNever:cs,ZodNull:qo,ZodNullable:Ks,ZodNumber:Us,ZodObject:Rt,ZodOptional:Un,ZodParsedType:ke,ZodPipeline:ul,ZodPromise:ki,ZodReadonly:Jo,ZodRecord:Go,ZodSchema:nt,ZodSet:Na,ZodString:jn,ZodSymbol:ed,ZodTransformer:Pn,ZodTuple:Kn,ZodType:nt,ZodUndefined:Uo,ZodUnion:Wo,ZodUnknown:ha,ZodVoid:td,addIssueToContext:Se,any:el,array:Yw,bigint:b4,boolean:Fh,coerce:K4,custom:Dh,date:w4,datetimeRegex:Qw,defaultErrorMap:Si,discriminatedUnion:E4,effect:ly,enum:M4,function:I4,getErrorMap:Xc,getParsedType:as,instanceof:v4,intersection:T4,isAborted:Om,isAsync:Vo,isDirty:Dm,isValid:wa,late:x4,lazy:O4,literal:D4,makeIssue:Jc,map:R4,nan:y4,nativeEnum:F4,never:C4,null:Zw,nullable:$4,number:Mh,object:Xw,get objectUtil(){return Im},oboolean:W4,onumber:q4,optional:B4,ostring:U4,pipeline:z4,preprocess:V4,promise:L4,quotelessJson:KI,record:Jw,set:A4,setErrorMap:GI,strictObject:P4,string:Dd,symbol:j4,transformer:ly,tuple:_4,undefined:N4,union:Lh,unknown:S4,get util(){return ot},void:k4},Symbol.toStringTag,{value:"Module"})),Tt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function zt(e,t){return t.includes(e.columnType)}function H4(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const Z4=Lh([Dd(),Mh(),Fh(),Zw()]),Y4=Lh([Z4,Jw(el()),Yw(el())]),X4=Dh(e=>e instanceof Buffer);function ej(e,t){const n=t?.zodInstance??Q4,i=t?.coerce??{};let o;return H4(e)&&(o=e.enumValues.length?n.enum(e.enumValues):n.string()),o||(zt(e,["PgGeometry","PgPointTuple"])?o=n.tuple([n.number(),n.number()]):zt(e,["PgGeometryObject","PgPointObject"])?o=n.object({x:n.number(),y:n.number()}):zt(e,["PgHalfVector","PgVector"])?(o=n.array(n.number()),o=e.dimensions?o.length(e.dimensions):o):zt(e,["PgLine"])?o=n.tuple([n.number(),n.number(),n.number()]):zt(e,["PgLineABC"])?o=n.object({a:n.number(),b:n.number(),c:n.number()}):zt(e,["PgArray"])?(o=n.array(ej(e.baseColumn,n)),o=e.size?o.length(e.size):o):e.dataType==="array"?o=n.array(n.any()):e.dataType==="number"?o=J4(e,n,i):e.dataType==="bigint"?o=eO(e,n,i):e.dataType==="boolean"?o=i===!0||i.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?o=i===!0||i.date?n.coerce.date():n.date():e.dataType==="string"?o=tO(e,n,i):e.dataType==="json"?o=Y4:e.dataType==="custom"?o=n.any():e.dataType==="buffer"&&(o=X4)),o||(o=n.any()),o}function J4(e,t,n){let i=e.getSQLType().includes("unsigned"),o,c,d=!1;zt(e,["MySqlTinyInt","SingleStoreTinyInt"])?(o=i?0:Tt.INT8_MIN,c=i?Tt.INT8_UNSIGNED_MAX:Tt.INT8_MAX,d=!0):zt(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=i?0:Tt.INT16_MIN,c=i?Tt.INT16_UNSIGNED_MAX:Tt.INT16_MAX,d=!0):zt(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=i?0:Tt.INT24_MIN,c=i?Tt.INT24_UNSIGNED_MAX:Tt.INT24_MAX,d=zt(e,["MySqlMediumInt","SingleStoreMediumInt"])):zt(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=i?0:Tt.INT32_MIN,c=i?Tt.INT32_UNSIGNED_MAX:Tt.INT32_MAX,d=!0):zt(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=i?0:Tt.INT48_MIN,c=i?Tt.INT48_UNSIGNED_MAX:Tt.INT48_MAX):zt(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(i=i||zt(e,["MySqlSerial","SingleStoreSerial"]),o=i?0:Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,d=!0):zt(e,["MySqlYear","SingleStoreYear"])?(o=1901,c=2155,d=!0):(o=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER);let m=n===!0||n?.number?t.coerce.number():t.number();return m=m.min(o).max(c),d?m.int():m}function eO(e,t,n){const i=e.getSQLType().includes("unsigned"),o=i?0n:Tt.INT64_MIN,c=i?Tt.INT64_UNSIGNED_MAX:Tt.INT64_MAX;return(n===!0||n?.bigint?t.coerce.bigint():t.bigint()).min(o).max(c)}function tO(e,t,n){if(zt(e,["PgUUID"]))return t.string().uuid();let i,o,c=!1;zt(e,["PgVarchar","SQLiteText"])?i=e.length:zt(e,["MySqlVarChar","SingleStoreVarChar"])?i=e.length??Tt.INT16_UNSIGNED_MAX:zt(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?i=Tt.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?i=Tt.INT24_UNSIGNED_MAX:e.textType==="text"?i=Tt.INT16_UNSIGNED_MAX:i=Tt.INT8_UNSIGNED_MAX),zt(e,["PgChar","MySqlChar","SingleStoreChar"])&&(i=e.length,c=!0),zt(e,["PgBinaryVector"])&&(o=/^[01]+$/,i=e.dimensions);let d=n===!0||n?.string?t.coerce.string():t.string();return d=o?d.regex(o):d,i&&c?d.length(i):i?d.max(i):d}function tj(e){return Bw(e)?VR(e):zR(e)}function rj(e,t,n,i){const o={};for(const[c,d]of Object.entries(e)){if(!ar(d,$o)&&!ar(d,Dt)&&!ar(d,Dt.Aliased)&&typeof d=="object"){const b=Bw(d)||$R(d)?tj(d):d;o[c]=rj(b,t[c]??{},n,i);continue}const m=t[c];if(m!==void 0&&typeof m!="function"){o[c]=m;continue}const g=ar(d,$o)?d:void 0,x=g?ej(g,i):el(),v=typeof m=="function"?m(x):x;n.never(g)||(o[c]=v,g&&(n.nullable(g)&&(o[c]=o[c].nullable()),n.optional(g)&&(o[c]=o[c].optional())))}return Xw(o)}const rO={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Rn=(e,t)=>{const n=tj(e);return rj(n,{},rO)},nO=_n("god_register",{id:Nr("id").primaryKey().default(lt`gen_random_uuid()`),phoneNumber:We("phone_number").notNull().unique(),tenancyName:We("tenancy_name").notNull(),registeredAt:vt("registered_at").default(lt`CURRENT_TIMESTAMP`)}),sO=_n("server_registry",{id:Nr("id").primaryKey().default(lt`gen_random_uuid()`),serverName:We("server_name").notNull().unique(),maxBotCount:$s("max_bot_count").notNull(),currentBotCount:$s("current_bot_count").default(0),serverStatus:We("server_status").default("active"),serverUrl:We("server_url"),baseUrl:We("base_url"),sharedSecret:We("shared_secret"),description:We("description"),lastActive:vt("last_active").default(lt`CURRENT_TIMESTAMP`),createdAt:vt("created_at").default(lt`CURRENT_TIMESTAMP`),updatedAt:vt("updated_at").default(lt`CURRENT_TIMESTAMP`)}),aO=_n("users",{id:Nr("id").primaryKey().default(lt`gen_random_uuid()`),username:We("username").notNull().unique(),password:We("password").notNull(),role:We("role").notNull().default("user"),serverName:We("server_name").notNull(),createdAt:vt("created_at").default(lt`CURRENT_TIMESTAMP`)}),iO=_n("bot_instances",{id:Nr("id").primaryKey().default(lt`gen_random_uuid()`),name:We("name").notNull(),phoneNumber:We("phone_number"),status:We("status").notNull().default("offline"),credentials:Ni("credentials"),settings:Ni("settings").default({}),autoViewStatus:$r("auto_view_status").default(!0).notNull(),typingMode:We("typing_mode").default("recording"),presenceMode:We("presence_mode").default("recording"),alwaysOnline:$r("always_online").default(!1),presenceAutoSwitch:$r("presence_auto_switch").default(!1),chatgptEnabled:$r("chatgpt_enabled").default(!1),lastActivity:vt("last_activity"),messagesCount:$s("messages_count").default(0),commandsCount:$s("commands_count").default(0),approvalStatus:We("approval_status").default("pending"),isGuest:$r("is_guest").default(!1),approvalDate:We("approval_date"),expirationMonths:$s("expiration_months"),autoStart:$r("auto_start").default(!0),credentialVerified:$r("credential_verified").default(!1),credentialPhone:We("credential_phone"),invalidReason:We("invalid_reason"),authMessageSentAt:vt("auth_message_sent_at"),serverName:We("server_name").notNull(),createdAt:vt("created_at").default(lt`CURRENT_TIMESTAMP`),updatedAt:vt("updated_at").default(lt`CURRENT_TIMESTAMP`)}),oO=_n("commands",{id:Nr("id").primaryKey().default(lt`gen_random_uuid()`),name:We("name").notNull(),description:We("description").notNull(),response:We("response"),isActive:$r("is_active").default(!0),useChatGPT:$r("use_chatgpt").default(!1),botInstanceId:Nr("bot_instance_id"),serverName:We("server_name").notNull(),createdAt:vt("created_at").default(lt`CURRENT_TIMESTAMP`)}),lO=_n("activities",{id:Nr("id").primaryKey().default(lt`gen_random_uuid()`),botInstanceId:Nr("bot_instance_id"),type:We("type").notNull(),description:We("description").notNull(),metadata:Ni("metadata").default({}),serverName:We("server_name").notNull(),remoteTenancy:We("remote_tenancy"),remoteBotId:We("remote_bot_id"),phoneNumber:We("phone_number"),createdAt:vt("created_at").default(lt`CURRENT_TIMESTAMP`)}),cO=_n("groups",{id:Nr("id").primaryKey().default(lt`gen_random_uuid()`),whatsappId:We("whatsapp_id").notNull().unique(),name:We("name").notNull(),description:We("description"),participantCount:$s("participant_count").default(0),botInstanceId:Nr("bot_instance_id").notNull(),isActive:$r("is_active").default(!0),serverName:We("server_name").notNull(),createdAt:vt("created_at").default(lt`CURRENT_TIMESTAMP`)}),dO=_n("viewed_status_ids",{id:Nr("id").primaryKey().default(lt`gen_random_uuid()`),botInstanceId:Nr("bot_instance_id").notNull(),statusId:We("status_id").notNull(),statusSender:We("status_sender").notNull(),viewedAt:vt("viewed_at").default(lt`CURRENT_TIMESTAMP`),expiresAt:vt("expires_at").notNull(),serverName:We("server_name").notNull()}),uO=_n("external_bot_connections",{id:Nr("id").primaryKey().default(lt`gen_random_uuid()`),phoneNumber:We("phone_number").notNull(),ownerJid:We("owner_jid").notNull(),originServerName:We("origin_server_name").notNull(),remoteBotId:We("remote_bot_id").notNull(),sessionData:Ni("session_data"),credentialsValid:$r("credentials_valid").default(!1),lastValidation:vt("last_validation"),connectionEstablishedAt:vt("connection_established_at"),notificationSentAt:vt("notification_sent_at"),features:Ni("features").default({}),tempToken:We("temp_token"),expiresAt:vt("expires_at").notNull().default(lt`CURRENT_TIMESTAMP + INTERVAL '24 hours'`),currentServerName:We("current_server_name").notNull(),createdAt:vt("created_at").default(lt`CURRENT_TIMESTAMP`),updatedAt:vt("updated_at").default(lt`CURRENT_TIMESTAMP`)}),fO=_n("offer_config",{id:Nr("id").primaryKey().default(lt`gen_random_uuid()`),isActive:$r("is_active").default(!1),durationType:We("duration_type").notNull().default("days"),durationValue:$s("duration_value").notNull().default(7),startDate:vt("start_date").default(lt`CURRENT_TIMESTAMP`),endDate:vt("end_date"),createdAt:vt("created_at").default(lt`CURRENT_TIMESTAMP`),updatedAt:vt("updated_at").default(lt`CURRENT_TIMESTAMP`)}),mO=_n("guest_sessions",{id:Nr("id").primaryKey().default(lt`gen_random_uuid()`),phoneNumber:We("phone_number").notNull(),sessionId:We("session_id").notNull(),pairingCode:We("pairing_code"),serverName:We("server_name").notNull(),isUsed:$r("is_used").default(!1),expiresAt:vt("expires_at").default(lt`CURRENT_TIMESTAMP + INTERVAL '7 days'`),createdAt:vt("created_at").default(lt`CURRENT_TIMESTAMP`)});Rn(aO).pick({username:!0,password:!0,role:!0});const hO=Rn(iO).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivity:!0,messagesCount:!0,commandsCount:!0}),pO=Rn(oO).omit({id:!0,createdAt:!0});Rn(lO).omit({id:!0,createdAt:!0});Rn(cO).omit({id:!0,createdAt:!0});Rn(nO).omit({id:!0,registeredAt:!0});Rn(sO).omit({id:!0,createdAt:!0,updatedAt:!0});Rn(dO).omit({id:!0,viewedAt:!0});Rn(uO).omit({id:!0,createdAt:!0,updatedAt:!0});Rn(fO).omit({id:!0,createdAt:!0,updatedAt:!0});Rn(mO).omit({id:!0,createdAt:!0});const ds=h.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:_e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));ds.displayName="Textarea";var em="rovingFocusGroup.onEntryFocus",gO={bubbles:!1,cancelable:!0},fl="RovingFocusGroup",[Fm,nj,xO]=Qm(fl),[vO,Md]=Jr(fl,[xO]),[yO,bO]=vO(fl),sj=h.forwardRef((e,t)=>r.jsx(Fm.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Fm.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(wO,{...e,ref:t})})}));sj.displayName=fl;var wO=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:o=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:g,onEntryFocus:x,preventScrollOnEntryFocus:v=!1,...b}=e,N=h.useRef(null),C=at(t,N),T=Ed(c),[w,j]=is({prop:d,defaultProp:m??null,onChange:g,caller:fl}),[k,_]=h.useState(!1),F=dn(x),I=nj(n),M=h.useRef(!1),[Z,q]=h.useState(0);return h.useEffect(()=>{const J=N.current;if(J)return J.addEventListener(em,F),()=>J.removeEventListener(em,F)},[F]),r.jsx(yO,{scope:n,orientation:i,dir:T,loop:o,currentTabStopId:w,onItemFocus:h.useCallback(J=>j(J),[j]),onItemShiftTab:h.useCallback(()=>_(!0),[]),onFocusableItemAdd:h.useCallback(()=>q(J=>J+1),[]),onFocusableItemRemove:h.useCallback(()=>q(J=>J-1),[]),children:r.jsx(He.div,{tabIndex:k||Z===0?-1:0,"data-orientation":i,...b,ref:C,style:{outline:"none",...e.style},onMouseDown:Fe(e.onMouseDown,()=>{M.current=!0}),onFocus:Fe(e.onFocus,J=>{const U=!M.current;if(J.target===J.currentTarget&&U&&!k){const re=new CustomEvent(em,gO);if(J.currentTarget.dispatchEvent(re),!re.defaultPrevented){const me=I().filter(E=>E.focusable),te=me.find(E=>E.active),he=me.find(E=>E.id===w),we=[te,he,...me].filter(Boolean).map(E=>E.ref.current);oj(we,v)}}M.current=!1}),onBlur:Fe(e.onBlur,()=>_(!1))})})}),aj="RovingFocusGroupItem",ij=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:o=!1,tabStopId:c,children:d,...m}=e,g=Tr(),x=c||g,v=bO(aj,n),b=v.currentTabStopId===x,N=nj(n),{onFocusableItemAdd:C,onFocusableItemRemove:T,currentTabStopId:w}=v;return h.useEffect(()=>{if(i)return C(),()=>T()},[i,C,T]),r.jsx(Fm.ItemSlot,{scope:n,id:x,focusable:i,active:o,children:r.jsx(He.span,{tabIndex:b?0:-1,"data-orientation":v.orientation,...m,ref:t,onMouseDown:Fe(e.onMouseDown,j=>{i?v.onItemFocus(x):j.preventDefault()}),onFocus:Fe(e.onFocus,()=>v.onItemFocus(x)),onKeyDown:Fe(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){v.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const k=SO(j,v.orientation,v.dir);if(k!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let F=N().filter(I=>I.focusable).map(I=>I.ref.current);if(k==="last")F.reverse();else if(k==="prev"||k==="next"){k==="prev"&&F.reverse();const I=F.indexOf(j.currentTarget);F=v.loop?CO(F,I+1):F.slice(I+1)}setTimeout(()=>oj(F))}}),children:typeof d=="function"?d({isCurrentTabStop:b,hasTabStop:w!=null}):d})})});ij.displayName=aj;var jO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function NO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function SO(e,t,n){const i=NO(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return jO[i]}function oj(e,t=!1){const n=document.activeElement;for(const i of e)if(i===n||(i.focus({preventScroll:t}),document.activeElement!==n))return}function CO(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var lj=sj,cj=ij,Fd="Tabs",[kO]=Jr(Fd,[Md]),dj=Md(),[PO,Bh]=kO(Fd),uj=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,onValueChange:o,defaultValue:c,orientation:d="horizontal",dir:m,activationMode:g="automatic",...x}=e,v=Ed(m),[b,N]=is({prop:i,onChange:o,defaultProp:c??"",caller:Fd});return r.jsx(PO,{scope:n,baseId:Tr(),value:b,onValueChange:N,orientation:d,dir:v,activationMode:g,children:r.jsx(He.div,{dir:v,"data-orientation":d,...x,ref:t})})});uj.displayName=Fd;var fj="TabsList",mj=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:i=!0,...o}=e,c=Bh(fj,n),d=dj(n);return r.jsx(lj,{asChild:!0,...d,orientation:c.orientation,dir:c.dir,loop:i,children:r.jsx(He.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:t})})});mj.displayName=fj;var hj="TabsTrigger",pj=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,disabled:o=!1,...c}=e,d=Bh(hj,n),m=dj(n),g=vj(d.baseId,i),x=yj(d.baseId,i),v=i===d.value;return r.jsx(cj,{asChild:!0,...m,focusable:!o,active:v,children:r.jsx(He.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":x,"data-state":v?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:g,...c,ref:t,onMouseDown:Fe(e.onMouseDown,b=>{!o&&b.button===0&&b.ctrlKey===!1?d.onValueChange(i):b.preventDefault()}),onKeyDown:Fe(e.onKeyDown,b=>{[" ","Enter"].includes(b.key)&&d.onValueChange(i)}),onFocus:Fe(e.onFocus,()=>{const b=d.activationMode!=="manual";!v&&!o&&b&&d.onValueChange(i)})})})});pj.displayName=hj;var gj="TabsContent",xj=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,forceMount:o,children:c,...d}=e,m=Bh(gj,n),g=vj(m.baseId,i),x=yj(m.baseId,i),v=i===m.value,b=h.useRef(v);return h.useEffect(()=>{const N=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(N)},[]),r.jsx(En,{present:o||v,children:({present:N})=>r.jsx(He.div,{"data-state":v?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":g,hidden:!N,id:x,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:b.current?"0s":void 0},children:N&&c})})});xj.displayName=gj;function vj(e,t){return`${e}-trigger-${t}`}function yj(e,t){return`${e}-content-${t}`}var EO=uj,bj=mj,wj=pj,jj=xj;const Fi=EO,Ca=h.forwardRef(({className:e,...t},n)=>r.jsx(bj,{ref:n,className:_e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ca.displayName=bj.displayName;const St=h.forwardRef(({className:e,...t},n)=>r.jsx(wj,{ref:n,className:_e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));St.displayName=wj.displayName;const xt=h.forwardRef(({className:e,...t},n)=>r.jsx(jj,{ref:n,className:_e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));xt.displayName=jj.displayName;const TO=hO.extend({credentialsFile:el().optional(),credentialsBase64:Dd().optional()});function Nj({open:e,onClose:t}){const{toast:n}=Mt(),i=Rr(),o=h.useRef(null),[c,d]=h.useState(null),[m,g]=h.useState(""),[x,v]=h.useState("file"),b=Aw({resolver:Ow(TO),defaultValues:{name:"",autoViewStatus:!0,typingMode:"none",chatgptEnabled:!1}}),N=Qe({mutationFn:async j=>{const k=new FormData;Object.entries(j).forEach(([F,I])=>{F!=="credentialsFile"&&F!=="credentialsBase64"&&k.append(F,String(I))}),x==="file"&&c&&k.append("credentials",c),x==="base64"&&m.trim()&&k.append("credentialsBase64",m.trim());const _=await fetch("/api/bot-instances",{method:"POST",body:k});if(!_.ok){const F=await _.json();throw new Error(F.message||"Failed to create bot instance")}return _.json()},onSuccess:()=>{n({title:"Bot instance created successfully"}),i.invalidateQueries({queryKey:["/api/bot-instances"]}),i.invalidateQueries({queryKey:["/api/dashboard/stats"]}),b.reset(),d(null),g(""),t()},onError:j=>{n({title:"Failed to create bot instance",description:j instanceof Error?j.message:"Unknown error",variant:"destructive"})}}),C=j=>{const k=j.target.files?.[0];if(k){if(!k.name.endsWith(".json")){n({title:"Invalid file type",description:"Please select a valid JSON file",variant:"destructive"});return}if(k.size<10){n({title:"File too small",description:"The credentials file appears to be empty or invalid",variant:"destructive"});return}if(k.size>5*1024*1024){n({title:"File too large",description:"Credentials file must be smaller than 5MB",variant:"destructive"});return}const _=new FileReader;_.onload=F=>{try{const I=F.target?.result,M=JSON.parse(I);if(typeof M!="object"||!M||Array.isArray(M))throw new Error("Invalid credentials format");if(Object.keys(M).length===0)throw new Error("Credentials file is empty");d(k),n({title:"File validated",description:"Credentials file looks valid",variant:"default"})}catch{n({title:"Invalid JSON file",description:"The file contains invalid JSON or is not a proper credentials file",variant:"destructive"}),d(null)}},_.readAsText(k)}},T=j=>{if(g(j),j.trim())try{const k=atob(j.trim()),_=JSON.parse(k);if(typeof _!="object"||!_||Array.isArray(_))throw new Error("Invalid credentials format");if(Object.keys(_).length===0)throw new Error("Credentials file is empty");n({title:"Base64 credentials validated",description:"Credentials data looks valid",variant:"default"})}catch{n({title:"Invalid base64 credentials",description:"Please check that your base64 string contains valid JSON credentials",variant:"destructive"})}},w=j=>{N.mutate(j)};return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Gt,{className:"bg-card border-border max-w-md","data-testid":"modal-add-bot",children:[r.jsx(Qt,{children:r.jsx(Ht,{className:"text-lg font-semibold text-foreground",children:"Add New Bot Instance"})}),r.jsxs("form",{onSubmit:b.handleSubmit(w),className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Bot Name"}),r.jsx(kt,{id:"name",placeholder:"Enter bot name...",...b.register("name"),className:"w-full bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-bot-name"}),b.formState.errors.name&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:b.formState.errors.name.message})]}),r.jsxs("div",{children:[r.jsx(Te,{className:"block text-sm font-medium text-foreground mb-2",children:"Credentials"}),r.jsxs(Fi,{value:x,onValueChange:j=>v(j),className:"w-full",children:[r.jsxs(Ca,{className:"grid w-full grid-cols-2",children:[r.jsx(St,{value:"file",children:"Upload File"}),r.jsx(St,{value:"base64",children:"Paste Base64"})]}),r.jsxs(xt,{value:"file",className:"mt-4",children:[r.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>o.current?.click(),"data-testid":"dropzone-credentials",children:[r.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center mx-auto mb-3",children:r.jsx("i",{className:"fas fa-upload text-muted-foreground text-xl"})}),r.jsx("p",{className:"text-sm text-foreground font-medium",children:c?c.name:"Click to upload creds.json"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"or drag and drop your credentials file"})]}),r.jsx("input",{ref:o,type:"file",accept:".json",onChange:C,className:"hidden","data-testid":"input-credentials-file"})]}),r.jsx(xt,{value:"base64",className:"mt-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(ds,{placeholder:"Paste your base64-encoded credentials here...",value:m,onChange:j=>T(j.target.value),className:"min-h-[120px] bg-input border-border text-foreground placeholder:text-muted-foreground font-mono text-sm","data-testid":"textarea-base64-credentials"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste the base64-encoded version of your creds.json file. The bot will decode and validate it automatically."})]})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"block text-sm font-medium text-foreground mb-2",children:"Auto Features"}),r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(kn,{id:"autoViewStatus",checked:b.watch("autoViewStatus")||!1,onCheckedChange:j=>b.setValue("autoViewStatus",j),"data-testid":"checkbox-auto-view-status"}),r.jsx(Te,{htmlFor:"autoViewStatus",className:"text-sm text-foreground",children:"Auto View Status"})]})})]}),r.jsxs("div",{children:[r.jsx(Te,{className:"block text-sm font-medium text-foreground mb-2",children:"Typing Indicator"}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Show typing/recording when bot processes messages"}),r.jsxs(mr,{value:b.watch("typingMode")||"none",onValueChange:j=>b.setValue("typingMode",j),children:[r.jsx(or,{className:"w-full bg-input border-border text-foreground","data-testid":"select-typing-mode",children:r.jsx(hr,{})}),r.jsxs(lr,{className:"bg-popover border-border",children:[r.jsx(Re,{value:"none",children:"None"}),r.jsx(Re,{value:"typing",children:"Typing indicator"}),r.jsx(Re,{value:"recording",children:"Recording indicator"}),r.jsx(Re,{value:"both",children:"Switch between both"})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{className:"block text-sm font-medium text-foreground mb-2",children:"Presence Mode"}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Control bot's overall online/availability status"}),r.jsxs(mr,{value:b.watch("presenceMode")||"available",onValueChange:j=>b.setValue("presenceMode",j),children:[r.jsx(or,{className:"w-full bg-input border-border text-foreground","data-testid":"select-presence-mode",children:r.jsx(hr,{})}),r.jsxs(lr,{className:"bg-popover border-border",children:[r.jsx(Re,{value:"available",children:"Available (Online)"}),r.jsx(Re,{value:"unavailable",children:"Unavailable (Offline)"}),r.jsx(Re,{value:"composing",children:"Composing"}),r.jsx(Re,{value:"recording",children:"Recording"}),r.jsx(Re,{value:"none",children:"None"})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(kn,{id:"chatgptEnabled",checked:b.watch("chatgptEnabled")||!1,onCheckedChange:j=>b.setValue("chatgptEnabled",j),"data-testid":"checkbox-chatgpt-enabled"}),r.jsx(Te,{htmlFor:"chatgptEnabled",className:"text-sm text-foreground",children:"Enable ChatGPT Integration"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(H,{type:"button",variant:"ghost",onClick:t,"data-testid":"button-cancel",children:"Cancel"}),r.jsx(H,{type:"submit",disabled:N.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-bot",children:N.isPending?"Creating...":"Create Bot Instance"})]})]})]})})}const _O=["SYSTEM","ADMIN","CUSTOM","FUN","TOOLS","SEARCH","DOWNLOAD","CONVERT"],tm=`// Example WhatsApp bot command
// Available context: { respond, args, message, client }

const query = args.join(' ');
if (!query) {
  await respond(' Please provide a search query!');
  return;
}

await respond(\` Searching for: *\${query}*\`);
// Your custom logic here
await respond(\` Results for: *\${query}*\`);`;function RO({open:e,onClose:t}){const{toast:n}=Mt(),i=Rr(),[o,c]=h.useState({name:"",description:"",category:"CUSTOM",code:tm}),{data:d=[],isLoading:m}=mt({queryKey:["/api/commands"],queryFn:async()=>{const v=await fetch("/api/commands");if(!v.ok)throw new Error("Failed to fetch commands");return v.json()}}),g=Qe({mutationFn:async v=>{const b=await fetch("/api/commands/custom",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!b.ok){const N=await b.json();throw new Error(N.message||"Failed to create command")}return b.json()},onSuccess:()=>{n({title:"Custom command created successfully"}),i.invalidateQueries({queryKey:["/api/commands"]}),c({name:"",description:"",category:"CUSTOM",code:tm})},onError:v=>{n({title:"Failed to create command",description:v instanceof Error?v.message:"Unknown error",variant:"destructive"})}}),x=v=>{if(v.preventDefault(),!o.name||!o.description||!o.code){n({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}g.mutate(o)};return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Gt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Qt,{children:r.jsx(Ht,{className:"text-xl font-bold",children:" TREKKER-MD Command Management"})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx("div",{className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsx($e,{children:"Create Custom Command"}),r.jsx(Ye,{children:"Add custom JavaScript code that will execute when users call your command"})]}),r.jsx(fe,{children:r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"name",children:"Command Name *"}),r.jsx(kt,{id:"name",placeholder:"mycommand",value:o.name,onChange:v=>c(b=>({...b,name:v.target.value})),className:"font-mono"})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"description",children:"Description *"}),r.jsx(kt,{id:"description",placeholder:"What does this command do?",value:o.description,onChange:v=>c(b=>({...b,description:v.target.value}))})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"category",children:"Category"}),r.jsxs(mr,{value:o.category,onValueChange:v=>c(b=>({...b,category:v})),children:[r.jsx(or,{children:r.jsx(hr,{})}),r.jsx(lr,{children:_O.map(v=>r.jsx(Re,{value:v,children:v},v))})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"code",children:"Command Code *"}),r.jsx(ds,{id:"code",placeholder:"Your JavaScript code here...",value:o.code,onChange:v=>c(b=>({...b,code:v.target.value})),className:"min-h-[300px] font-mono text-sm"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Available context: respond, args, message, client"})]}),r.jsx(H,{type:"submit",disabled:g.isPending,className:"w-full",children:g.isPending?"Creating...":"Create Command"})]})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsxs($e,{children:["Existing Commands (",d.length,")"]}),r.jsx(Ye,{children:"All commands available in your TREKKER-MD bot"})]}),r.jsx(fe,{children:m?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading commands..."})]}):r.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:d.map(v=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-mono text-sm font-semibold",children:[".",v.name,v.customCode&&r.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-blue-100 text-blue-800 text-xs rounded",children:"CUSTOM"})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:v.description}),r.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded mt-1 inline-block",children:v.category})]}),r.jsx("div",{className:`w-2 h-2 rounded-full ${v.isActive?"bg-green-500":"bg-red-500"}`})]},v.id))})})]}),r.jsxs(de,{children:[r.jsx(Me,{children:r.jsx($e,{children:" Command Example"})}),r.jsx(fe,{children:r.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded overflow-x-auto",children:tm})})]})]})]})]})})}var $h="Radio",[AO,Sj]=Jr($h),[IO,OO]=AO($h),Cj=h.forwardRef((e,t)=>{const{__scopeRadio:n,name:i,checked:o=!1,required:c,disabled:d,value:m="on",onCheck:g,form:x,...v}=e,[b,N]=h.useState(null),C=at(t,j=>N(j)),T=h.useRef(!1),w=b?x||!!b.closest("form"):!0;return r.jsxs(IO,{scope:n,checked:o,disabled:d,children:[r.jsx(He.button,{type:"button",role:"radio","aria-checked":o,"data-state":Tj(o),"data-disabled":d?"":void 0,disabled:d,value:m,...v,ref:C,onClick:Fe(e.onClick,j=>{o||g?.(),w&&(T.current=j.isPropagationStopped(),T.current||j.stopPropagation())})}),w&&r.jsx(Ej,{control:b,bubbles:!T.current,name:i,value:m,checked:o,required:c,disabled:d,form:x,style:{transform:"translateX(-100%)"}})]})});Cj.displayName=$h;var kj="RadioIndicator",Pj=h.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:i,...o}=e,c=OO(kj,n);return r.jsx(En,{present:i||c.checked,children:r.jsx(He.span,{"data-state":Tj(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:t})})});Pj.displayName=kj;var DO="RadioBubbleInput",Ej=h.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:i=!0,...o},c)=>{const d=h.useRef(null),m=at(d,c),g=Sh(n),x=oh(t);return h.useEffect(()=>{const v=d.current;if(!v)return;const b=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(b,"checked").set;if(g!==n&&C){const T=new Event("click",{bubbles:i});C.call(v,n),v.dispatchEvent(T)}},[g,n,i]),r.jsx(He.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:m,style:{...o.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ej.displayName=DO;function Tj(e){return e?"checked":"unchecked"}var MO=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ld="RadioGroup",[FO]=Jr(Ld,[Md,Sj]),_j=Md(),Rj=Sj(),[LO,BO]=FO(Ld),Aj=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:i,defaultValue:o,value:c,required:d=!1,disabled:m=!1,orientation:g,dir:x,loop:v=!0,onValueChange:b,...N}=e,C=_j(n),T=Ed(x),[w,j]=is({prop:c,defaultProp:o??null,onChange:b,caller:Ld});return r.jsx(LO,{scope:n,name:i,required:d,disabled:m,value:w,onValueChange:j,children:r.jsx(lj,{asChild:!0,...C,orientation:g,dir:T,loop:v,children:r.jsx(He.div,{role:"radiogroup","aria-required":d,"aria-orientation":g,"data-disabled":m?"":void 0,dir:T,...N,ref:t})})})});Aj.displayName=Ld;var Ij="RadioGroupItem",Oj=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:i,...o}=e,c=BO(Ij,n),d=c.disabled||i,m=_j(n),g=Rj(n),x=h.useRef(null),v=at(t,x),b=c.value===o.value,N=h.useRef(!1);return h.useEffect(()=>{const C=w=>{MO.includes(w.key)&&(N.current=!0)},T=()=>N.current=!1;return document.addEventListener("keydown",C),document.addEventListener("keyup",T),()=>{document.removeEventListener("keydown",C),document.removeEventListener("keyup",T)}},[]),r.jsx(cj,{asChild:!0,...m,focusable:!d,active:b,children:r.jsx(Cj,{disabled:d,required:c.required,checked:b,...g,...o,name:c.name,ref:v,onCheck:()=>c.onValueChange(o.value),onKeyDown:Fe(C=>{C.key==="Enter"&&C.preventDefault()}),onFocus:Fe(o.onFocus,()=>{N.current&&x.current?.click()})})})});Oj.displayName=Ij;var $O="RadioGroupIndicator",Dj=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...i}=e,o=Rj(n);return r.jsx(Pj,{...o,...i,ref:t})});Dj.displayName=$O;var Mj=Aj,Fj=Oj,VO=Dj;const Vh=h.forwardRef(({className:e,...t},n)=>r.jsx(Mj,{className:_e("grid gap-2",e),...t,ref:n}));Vh.displayName=Mj.displayName;const tl=h.forwardRef(({className:e,...t},n)=>r.jsx(Fj,{ref:n,className:_e("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(VO,{className:"flex items-center justify-center",children:r.jsx(c2,{className:"h-2.5 w-2.5 fill-current text-current"})})}));tl.displayName=Fj.displayName;function zO({open:e,onClose:t}){const{toast:n}=Mt(),i=localStorage.getItem("autoRegisterSessionId")||"",o=localStorage.getItem("autoRegisterPhoneNumber")||"",[c,d]=h.useState({botName:"",phoneNumber:o,credentialType:"base64",sessionId:i,credsFile:null,features:{autoView:!0,typingMode:"none",presenceMode:"recording",intervalSeconds:30,chatGPT:!1},selectedServer:""});h.useEffect(()=>{e&&i&&o&&(console.log("Guest registration opened with auto-filled data:",{sessionIdLength:i.length,phoneNumber:o}),n({title:"Credentials Auto-Filled!",description:`Session ID and phone number (${o}) have been automatically filled. Just enter your bot name and configure features.`}),g(4),localStorage.removeItem("autoRegisterSessionId"),localStorage.removeItem("autoRegisterPhoneNumber"))},[e,i,o,n]),h.useEffect(()=>{if(e){const D=localStorage.getItem("pendingSessionId"),z=localStorage.getItem("pendingPhoneNumber");D&&z&&(d(ae=>({...ae,sessionId:D,phoneNumber:z})),localStorage.removeItem("pendingSessionId"),localStorage.removeItem("pendingPhoneNumber"),n({title:"Session ID Loaded!",description:"Your session ID has been automatically filled in. You can now proceed with bot registration."}),z&&m===1&&setTimeout(()=>{te.mutate(z)},500))}},[e]);const[m,g]=h.useState(1),[x,v]=h.useState(null),[b,N]=h.useState(null),[C,T]=h.useState(null),[w,j]=h.useState(null),[k,_]=h.useState(!1),[F,I]=h.useState(null),[M,Z]=h.useState(null),[q,J]=h.useState(""),[U,re]=h.useState([]),me=async()=>{try{const D=await fetch("/api/servers/available");if(D.ok){const z=await D.json();re(z.servers||[])}else console.error("Failed to fetch available servers"),re([])}catch(D){console.error("Error fetching servers:",D),re([])}},te=Qe({mutationFn:async D=>{const z=D.replace(/[\s\-\(\)\+]/g,""),ae=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:z})});if(!ae.ok){let ie="Failed to check phone number";try{const ce=await ae.json();if(ce.registeredTo&&ce.message)return{registered:!0,currentServer:!1,registeredTo:ce.registeredTo,message:ce.message,serverMismatch:!0};ie=ce.message||ie}catch{ie=ae.statusText||ie}throw new Error(ie)}const pe=ae.headers.get("content-type");if(!pe||!pe.includes("application/json"))throw new Error("Invalid response format from server");return ae.json()},onSuccess:D=>{Z(D),D.registered||D.serverMismatch?D.serverMismatch||!D.currentServer&&D.registeredTo?(N({details:{registeredTo:D.registeredTo},message:D.message,registeredTo:D.registeredTo,botDetails:D.botDetails||null}),g(9)):D.currentServer&&(D.hasBot?(v(D.bot),g(8)):(me(),g(3))):(me(),g(3))},onError:D=>{n({title:"Phone Check Failed",description:D.message,variant:"destructive"}),g(1)}}),he=Qe({mutationFn:async D=>{const z=new FormData;if(z.append("botName",D.botName),z.append("phoneNumber",D.phoneNumber),z.append("credentialType",D.credentialType),z.append("features",JSON.stringify(D.features)),D.selectedServer&&z.append("selectedServer",D.selectedServer),D.credentialType==="base64"&&D.sessionId)try{const pe=atob(D.sessionId.trim());JSON.parse(pe),z.append("sessionId",D.sessionId)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}else D.credsFile&&z.append("credsFile",D.credsFile);const ae=await fetch("/api/guest/register-bot",{method:"POST",body:z});if(!ae.ok){const pe=await ae.json();throw new Error(pe.message||"Failed to register bot")}return ae.json()},onSuccess:D=>{D.type==="existing_bot_found"?(v(D.botDetails),g(8),n({title:"Existing Bot Found",description:D.message||"Welcome back! You have a bot on this server."})):D.type==="cross_tenancy_registered"?(j(D),g(11),n({title:"Auto-Distributed to Available Server",description:D.message||"Your bot has been registered on an available server!"})):(g(7),n({title:"Bot registration submitted",description:D.message||"Your bot is being validated..."}))},onError:D=>{const z=D.message;if(z?.includes("server")&&z?.includes("registered to")){N({message:z}),g(9);return}g(m===6?5:4),n({title:"Registration failed",description:D instanceof Error?D.message:"Unknown error",variant:"destructive"})}}),ne=D=>{if(D.preventDefault(),!c.phoneNumber){n({title:"Validation Error",description:"Please enter your phone number",variant:"destructive"});return}g(2),te.mutate(c.phoneNumber)},we=D=>{console.log("Selected server:",D),J(D.name),d(z=>({...z,selectedServer:D.name})),g(4),_(!1)},E=()=>{if(m===4){if(c.credentialType==="base64"&&!c.sessionId){n({title:"Validation Error",description:"Please provide the base64 session ID",variant:"destructive"});return}if(c.credentialType==="file"&&!c.credsFile){n({title:"Validation Error",description:"Please upload the creds.json file",variant:"destructive"});return}g(5)}else m===5&&K()},K=()=>{if(!c.botName){n({title:"Validation Error",description:"Please enter a bot name",variant:"destructive"});return}const D={...c,phoneNumber:c.phoneNumber.replace(/^\+/,""),selectedServer:q||c.selectedServer};g(6),he.mutate(D)},V=D=>{const z=D.target.files?.[0];z&&d(ae=>({...ae,credsFile:z}))};Qe({mutationFn:async({action:D,botId:z,phoneNumber:ae})=>{const pe=new FormData;pe.append("phoneNumber",ae),pe.append("action",D),pe.append("botId",z);const ie=await fetch("/api/guest/manage-bot",{method:"POST",body:pe});if(!ie.ok){const ce=await ie.json();throw new Error(ce.message||`Failed to ${D} bot`)}return ie.json()},onSuccess:async(D,z)=>{if(n({title:"Success!",description:D.message}),I(null),z.action==="update_credentials")try{n({title:"Credentials Updated Successfully",description:"Returning to default server..."}),await new Promise(pe=>setTimeout(pe,1500)),(await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:"default-server",description:"Returned to default server after credential update"})})).ok&&(n({title:"Returned to Default Server",description:"Credentials updated successfully. You're now back on the default server."}),setTimeout(()=>{A()},2e3))}catch(ae){console.error("Error switching back to default server:",ae),n({title:"Credentials Updated",description:"Credentials updated successfully, but couldn't return to default server.",variant:"destructive"})}else Y()},onError:(D,z)=>{n({title:`${z.action.charAt(0).toUpperCase()+z.action.slice(1)} Failed`,description:D.message,variant:"destructive"}),I(null)}});const Y=()=>{n({title:"Status Updated",description:"Bot status has been updated. Please check the bot status."})},se=()=>{d({botName:"",phoneNumber:"",credentialType:"base64",sessionId:"",credsFile:null,features:{autoView:!0,typingMode:"none",presenceMode:"recording",intervalSeconds:30,chatGPT:!1},selectedServer:""}),g(1)},A=()=>{se(),v(null),N(null),j(null),setShowCredentialUpdate(!1),I(null),t()},R=()=>{m===1?A():g(D=>Math.max(D-1,1))};return r.jsx(er,{open:e,onOpenChange:D=>{D||A()},children:r.jsxs(Gt,{className:"max-w-2xl max-h-[95vh] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",onEscapeKeyDown:D=>D.preventDefault(),onPointerDownOutside:D=>D.preventDefault(),onInteractOutside:D=>D.preventDefault(),children:[r.jsx(Qt,{children:r.jsx(Ht,{className:"text-2xl font-bold text-center",children:" Register Your TREKKER-MD Bot"})}),m===1&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-emerald-50 to-blue-50 dark:from-emerald-900/20 dark:to-blue-900/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-700 dark:text-emerald-400",children:"Enter Your Phone Number"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We'll check if you have an existing bot or help you register a new one"})]}),r.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[r.jsxs(de,{className:"border-l-4 border-l-blue-500",children:[r.jsxs(Me,{className:"pb-3",children:[r.jsx($e,{className:"text-lg",children:"Phone Number Verification"}),r.jsx(Ye,{children:"Enter your WhatsApp phone number to begin registration"})]}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"phoneNumber",className:"text-sm font-medium",children:"Phone Number (with country code) *"}),r.jsx(kt,{id:"phoneNumber","data-testid":"input-phone-number",placeholder:"+254700000000",value:c.phoneNumber,onChange:D=>{const z=D.target.value.replace(/[\s\-\(\)]/g,"");d(ae=>({...ae,phoneNumber:z}))},onPaste:D=>{D.preventDefault();const ae=D.clipboardData.getData("text").replace(/[\s\-\(\)]/g,"");d(pe=>({...pe,phoneNumber:ae}))},required:!0,className:"mt-1 text-lg",autoFocus:!0,readOnly:!!o,disabled:!!o}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o?"Phone number from pairing (auto-filled)":"Enter your phone number with country code (+ will be removed automatically)"})]})})]}),r.jsx(H,{type:"submit","data-testid":"button-check-phone",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",disabled:te.isPending,children:te.isPending?" Checking...":" Check Phone Number"})]})]}),m===2&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),r.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl animate-spin",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Checking Your Phone Number"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Searching the God Registry for existing bot registrations..."}),r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]}),m===3&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Select Your Server"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your phone number is not registered. Choose a server to register your bot on."})]}),r.jsxs(de,{className:"border-l-4 border-l-green-500",children:[r.jsxs(Me,{className:"pb-3",children:[r.jsx($e,{className:"text-lg",children:"Available Servers"}),r.jsx(Ye,{children:"Select a server with available bot slots"})]}),r.jsx(fe,{className:"space-y-4",children:r.jsx("div",{className:"grid gap-3",children:U.map(D=>r.jsx("div",{onClick:()=>we(D),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors","data-testid":`server-option-${D.id}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:D.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:D.description})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-green-600",children:[D.availableSlots," slots available"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[D.currentBots,"/",D.maxBots," bots"]})]})]})},D.id))})})]}),r.jsx(H,{onClick:R,variant:"outline",className:"w-full","data-testid":"button-back-step-3",children:" Back to Phone Number"})]}),m===4&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-700 dark:text-purple-400",children:"Authentication Credentials"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Provide your WhatsApp session credentials to connect your bot"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(de,{className:"border-l-4 border-l-purple-500",children:[r.jsxs(Me,{className:"pb-3",children:[r.jsx($e,{className:"text-lg",children:"Bot Information"}),r.jsx(Ye,{children:"Enter your bot name and choose credential type"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"botName",className:"text-sm font-medium",children:"Bot Name *"}),r.jsx(kt,{id:"botName","data-testid":"input-bot-name",placeholder:"My WhatsApp Bot",value:c.botName,onChange:D=>d(z=>({...z,botName:D.target.value})),required:!0,className:"mt-1",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx(Te,{className:"text-sm font-medium",children:"Choose Credential Type *"}),r.jsxs(Vh,{value:c.credentialType,onValueChange:D=>d(z=>({...z,credentialType:D})),className:"mt-2",children:[r.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-muted/50",children:[r.jsx(tl,{value:"base64",id:"base64"}),r.jsx(Te,{htmlFor:"base64",className:"cursor-pointer",children:"Paste Base64 Session ID"})]}),r.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-muted/50",children:[r.jsx(tl,{value:"file",id:"file"}),r.jsx(Te,{htmlFor:"file",className:"cursor-pointer",children:"Upload creds.json File"})]})]})]}),c.credentialType==="base64"?r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"sessionId",className:"text-sm font-medium",children:"Base64 Session ID *"}),r.jsx(ds,{id:"sessionId","data-testid":"textarea-session-id",placeholder:"Paste your base64 encoded session ID here...",value:c.sessionId,onChange:D=>d(z=>({...z,sessionId:D.target.value})),className:"min-h-[100px] font-mono text-sm mt-1",required:!0}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get your session ID from the pairing site"})]}):r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"credsFile",className:"text-sm font-medium",children:"Upload creds.json File *"}),r.jsx(kt,{id:"credsFile","data-testid":"input-creds-file",type:"file",accept:".json",onChange:V,required:!0,className:"mt-1"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload the creds.json file from your WhatsApp session"})]})]})]}),r.jsx(H,{onClick:E,"data-testid":"button-next-step",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",children:"Continue to Features "})]})]}),m===5&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""})]})}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Bot Features"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose the automation features for your bot (optional)"})]}),r.jsxs(de,{className:"border-l-4 border-l-green-500",children:[r.jsxs(Me,{className:"pb-3",children:[r.jsx($e,{className:"text-lg",children:"Bot Features (Optional)"}),r.jsx(Ye,{children:"Select the automation features you want for your bot"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[r.jsx(kn,{id:"autoView","data-testid":"checkbox-auto-view",checked:c.features.autoView,onCheckedChange:D=>d(z=>({...z,features:{...z.features,autoView:!!D}})),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Te,{htmlFor:"autoView",className:"text-sm font-medium cursor-pointer",children:"Auto View Status"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically view WhatsApp status"})]})]}),r.jsxs("div",{className:"p-3 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx(Te,{className:"text-sm font-medium",children:"Typing Indicator"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Show typing/recording indicator when bot is processing messages"})]}),r.jsxs(mr,{value:c.features.typingMode||"none",onValueChange:D=>d(z=>({...z,features:{...z.features,typingMode:D}})),children:[r.jsx(or,{"data-testid":"select-typing-mode",children:r.jsx(hr,{placeholder:"Select typing mode"})}),r.jsxs(lr,{children:[r.jsx(Re,{value:"none",children:"None - No indicator"}),r.jsx(Re,{value:"typing",children:"Typing indicator"}),r.jsx(Re,{value:"recording",children:"Recording indicator"}),r.jsx(Re,{value:"both",children:"Switch between both"})]})]})]}),r.jsxs("div",{className:"p-3 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx(Te,{className:"text-sm font-medium",children:"Presence Mode"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Control bot's overall online/availability status"})]}),r.jsxs(mr,{value:c.features.presenceMode,onValueChange:D=>d(z=>({...z,features:{...z.features,presenceMode:D}})),children:[r.jsx(or,{"data-testid":"select-presence-mode",children:r.jsx(hr,{placeholder:"Select presence mode"})}),r.jsxs(lr,{children:[r.jsx(Re,{value:"none",children:"None - Normal status"}),r.jsx(Re,{value:"always_online",children:"Always Online"}),r.jsx(Re,{value:"always_typing",children:"Always Composing"}),r.jsx(Re,{value:"always_recording",children:"Always Recording"}),r.jsx(Re,{value:"auto_switch",children:"Auto Switch (30s interval)"})]})]}),c.features.presenceMode==="auto_switch"&&r.jsxs("div",{className:"mt-3",children:[r.jsx(Te,{className:"text-xs text-muted-foreground",children:"Switch Interval (seconds)"}),r.jsx(kt,{type:"number",min:"5",max:"120",value:c.features.intervalSeconds,onChange:D=>d(z=>({...z,features:{...z.features,intervalSeconds:parseInt(D.target.value)||30}})),className:"mt-1","data-testid":"input-interval-seconds"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50 md:col-span-2",children:[r.jsx(kn,{id:"chatGPT","data-testid":"checkbox-chatgpt",checked:c.features.chatGPT,onCheckedChange:D=>d(z=>({...z,features:{...z.features,chatGPT:!!D}})),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Te,{htmlFor:"chatGPT",className:"text-sm font-medium cursor-pointer",children:"ChatGPT Integration"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable AI responses for conversations"})]})]})]})})]}),r.jsx(H,{onClick:E,"data-testid":"button-register-bot-final",className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",children:" Register Bot Now"})]}),m===6&&r.jsx("div",{className:"space-y-6 pb-4",children:r.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl animate-spin",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Registering Your Bot"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Please wait while we set up your WhatsApp bot..."}),r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}),m===7&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center text-white text-2xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Bot Registered Successfully!"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your bot credentials have been validated and registered"})]}),r.jsxs(de,{className:"border-l-4 border-l-green-500",children:[r.jsxs(Me,{children:[r.jsx($e,{className:"text-lg",children:" Next Steps"}),r.jsx(Ye,{children:"Your bot is now awaiting admin approval"})]}),r.jsx(fe,{children:r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-500 mt-0.5",children:""}),"Your bot is now dormant and awaiting admin approval"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),"Contact +254704897825 to activate your bot"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-500 mt-0.5",children:""}),"You'll receive hourly status updates until activation"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-500 mt-0.5",children:""}),"Once approved, enjoy all premium TREKKER-MD features!"]})]})})]}),r.jsx(H,{onClick:A,className:"w-full","data-testid":"button-close-success",children:"Done"})]}),m===8&&x&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-robot text-2xl text-blue-600"})}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Existing Bot Found!"}),r.jsxs("p",{className:"text-muted-foreground",children:['To manage your bot "',x.name,'", please verify your ownership by uploading your credentials.']})]}),r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),x.name]}),r.jsxs(Ye,{children:["Phone: ",x.phoneNumber]})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Status:"}),r.jsx("div",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs ${x.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.status})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Approval:"}),r.jsx("div",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs ${x.isApproved?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:x.approvalStatus})]})]}),x.isApproved&&x.timeRemaining&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-green-800",children:[" ",r.jsxs("strong",{children:[x.timeRemaining," days"]})," remaining until expiry"]})}),x.isExpired&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsx("p",{className:"text-sm text-red-800",children:" Your bot has expired. Please contact admin for renewal."})}),r.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-amber-100 dark:bg-amber-800 rounded-full flex items-center justify-center",children:""}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Security Verification Required"}),r.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Please upload your credentials file to verify bot ownership"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(H,{className:"w-full bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>{A(),n({title:"Credential Validation Required",description:"Please use the 'Search Your Bot' page to verify your credentials and manage your bot securely.",duration:5e3})},children:" Go to Bot Search & Verification"}),r.jsx("div",{className:"text-xs text-amber-700 dark:text-amber-300 text-center",children:'For security, bot management requires credential verification. Use the "Search Your Bot" page to securely access your bot.'})]})]})]})]}),r.jsx(H,{onClick:A,className:"w-full","data-testid":"button-close-existing-bot",children:"Close"})]}),m===9&&b&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-amber-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-amber-700 dark:text-amber-400",children:"Phone Number Found on Different Server"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your phone number is registered on a different server"})]}),r.jsxs(de,{className:"border-l-4 border-l-amber-500",children:[r.jsxs(Me,{children:[r.jsx($e,{className:"text-lg",children:"Server Information"}),r.jsx(Ye,{children:"Current vs. Registered Server"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-gray-900",children:[r.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Server"}),r.jsx("p",{className:"text-lg font-bold",children:"default-server"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Where you're trying to register"})]}),r.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50 dark:bg-blue-900",children:[r.jsx("h4",{className:"font-medium text-blue-700 dark:text-blue-300 mb-2",children:"Registered Server"}),r.jsx("p",{className:"text-lg font-bold text-blue-600",children:b.registeredTo}),r.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Where your bot exists"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium",children:"Choose Your Action:"}),r.jsxs("div",{className:"grid gap-3",children:[r.jsx(H,{onClick:async D=>{D.preventDefault(),D.stopPropagation(),console.log("Server switch button clicked!"),console.log("ServerMismatch data:",b);try{n({title:"Switching Server",description:`Switching to ${b.registeredTo}...`}),console.log("Making server configure call...");const z=await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:b.registeredTo,description:`Switched to ${b.registeredTo} for bot management`})});if(console.log("Server configure response:",z.status),!z.ok){const ie=await z.json();throw console.error("Server configure error:",ie),new Error(ie.message||"Failed to switch server")}const ae=await z.json();console.log("Server configure result:",ae),n({title:"Server Switched",description:`Successfully switched to ${b.registeredTo}`}),await new Promise(ie=>setTimeout(ie,1e3)),console.log("Checking registration on new server...");const pe=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:c.phoneNumber})});if(console.log("Check registration response:",pe.status),pe.ok){const ie=await pe.json();console.log("Check registration data:",ie),ie.hasBot&&ie.bot?(v(ie.bot),J(b.registeredTo),g(8),console.log("Successfully switched to existing bot management")):(console.log("No bot found on registered server"),n({title:"Bot Not Found",description:"Could not find your bot on the registered server",variant:"destructive"}))}else{const ie=await pe.text();console.error("Check registration failed:",ie),n({title:"Error",description:"Failed to verify bot on registered server",variant:"destructive"})}}catch(z){console.error("Server switch error:",z),n({title:"Server Switch Failed",description:z instanceof Error?z.message:"Unknown error",variant:"destructive"})}},className:"justify-start text-left h-auto p-4","data-testid":"button-switch-to-registered-server",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:" Switch to Registered Server"}),r.jsxs("div",{className:"text-sm opacity-80 mt-1",children:["Manage your existing bot on ",b.registeredTo]})]})}),r.jsx(H,{variant:"outline",onClick:()=>{g(3)},className:"justify-start text-left h-auto p-4","data-testid":"button-stay-current-server",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:" Use Different Phone Number"}),r.jsx("div",{className:"text-sm opacity-80 mt-1",children:"Register a new bot with different phone number on this server"})]})})]})]})]})]}),r.jsx(H,{onClick:R,variant:"outline",className:"w-full","data-testid":"button-back-step-9",children:" Back to Phone Number"})]}),m===11&&w&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-700 dark:text-purple-400",children:"Auto-Distributed to Available Server!"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your bot has been automatically assigned to the best available server"})]}),r.jsxs(de,{className:"border-l-4 border-l-purple-500",children:[r.jsxs(Me,{children:[r.jsx($e,{className:"text-lg",children:" Server Assignment"}),r.jsx(Ye,{children:"Your bot has been optimally placed"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg bg-purple-50 dark:bg-purple-900/20",children:[r.jsx("h4",{className:"font-medium text-purple-700 dark:text-purple-300 mb-2",children:"Assigned Server"}),r.jsx("p",{className:"text-lg font-bold text-purple-600",children:w.assignedServer}),r.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Optimized for your location and performance"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:" What happens next:"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-500 mt-0.5",children:""}),"Your bot is registered on ",w.assignedServer]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),"Contact +254704897825 for activation"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-500 mt-0.5",children:""}),"Switch to ",w.assignedServer," to manage your bot"]})]})]})]})]}),r.jsxs(H,{onClick:()=>{J(w.assignedServer),A()},className:"w-full","data-testid":"button-switch-to-assigned-server",children:[" Switch to ",w.assignedServer]})]}),m===7&&w&&r.jsxs("div",{className:"space-y-6 py-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-700 dark:text-emerald-400",children:"Auto-Distributed Successfully!"}),r.jsx("p",{className:"text-muted-foreground",children:w.message})]}),r.jsxs(de,{className:"border-emerald-200 bg-emerald-50 dark:bg-emerald-900/20 dark:border-emerald-800",children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2 text-emerald-700 dark:text-emerald-400",children:[r.jsx("span",{children:""}),w.botDetails?.name]}),r.jsxs(Ye,{children:["Phone: ",w.botDetails?.phoneNumber]})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Original Server:"}),r.jsx("div",{className:"text-muted-foreground",children:w.originalServer})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Assigned To:"}),r.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:w.assignedServer})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Available Slots:"}),r.jsxs("div",{className:"text-blue-600 dark:text-blue-400",children:[w.botDetails?.availableSlots," remaining"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Registration Type:"}),r.jsx("div",{className:"text-purple-600 dark:text-purple-400",children:"Auto-Distribution"})]})]}),w.serverUrl&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 dark:bg-blue-900/20 dark:border-blue-800",children:r.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",r.jsx("strong",{children:"Server URL:"})," ",w.serverUrl]})})]})]}),r.jsx(de,{className:"border-blue-200 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-800",children:r.jsxs(fe,{className:"p-4",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:" Next Steps"}),r.jsx("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:w.nextSteps?.map((D,z)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),D]},z))})]})}),r.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 dark:bg-emerald-900/20 dark:border-emerald-800",children:[r.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-2 flex items-center gap-2",children:" Cross-Tenancy Benefits"}),r.jsxs("ul",{className:"text-sm text-emerald-700 dark:text-emerald-300 space-y-1",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Automatic load balancing across servers"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Seamless bot management from any approved server"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Enhanced reliability and availability"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Global bot registry synchronization"]})]})]}),r.jsx(H,{onClick:A,className:"w-full bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700","data-testid":"button-close-cross-tenancy",children:" Awesome! Let's Go"})]})]})})}const UO=al("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Je({className:e,variant:t,...n}){return r.jsx("div",{className:_e(UO({variant:t}),e),...n})}function qO({open:e,onClose:t}){const[n,i]=h.useState("pending"),[o,c]=h.useState(!1),[d,m]=h.useState(!1),[g,x]=h.useState(null),[v,b]=h.useState("3"),[N,C]=h.useState(""),[T,w]=h.useState(""),j=Rr(),[k,_]=h.useState(!1),[F,I]=h.useState([]),[M,Z]=h.useState(null),{data:q=[],isLoading:J}=mt({queryKey:["/api/bots/pending"],enabled:e&&n==="pending"}),{data:U=[],isLoading:re}=mt({queryKey:["/api/bots/approved"],enabled:e&&n==="approved"}),me=Qe({mutationFn:async({botId:R,duration:D})=>(await Nt("POST",`/api/bots/${R}/approve`,{expirationMonths:D})).json(),onSuccess:()=>{j.invalidateQueries({queryKey:["/api/bots/pending"]}),j.invalidateQueries({queryKey:["/api/bots/approved"]}),c(!1),x(null)}}),te=Qe({mutationFn:async({botId:R,reason:D})=>(await Nt("POST",`/api/bots/${R}/reject`,{reason:D})).json(),onSuccess:()=>{j.invalidateQueries({queryKey:["/api/bots/pending"]}),w("")}}),he=Qe({mutationFn:async({botId:R,message:D})=>(await Nt("POST",`/api/admin/send-message/${R}`,{message:D})).json(),onSuccess:()=>{m(!1),C(""),x(null)}}),ne=R=>{x(R),c(!0)},we=()=>{g&&v&&me.mutate({botId:g.id,duration:parseInt(v)})},E=(R,D)=>{te.mutate({botId:R.id,reason:D})},K=R=>{x(R),m(!0)},V=()=>{g&&N.trim()&&he.mutate({botId:g.id,message:N})},Y=R=>new Date(R).toLocaleDateString(),se=(R,D)=>{const z=new Date(R);return z.setMonth(z.getMonth()+D),z.toLocaleDateString()},A=(R,D)=>{const z=new Date(R);return z.setMonth(z.getMonth()+D),(z.getTime()-Date.now())/(1e3*60*60*24)<=7};return r.jsxs(r.Fragment,{children:[r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Gt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Qt,{children:r.jsx(Ht,{className:"text-xl font-bold",children:" Admin Bot Management"})}),r.jsxs("div",{className:"flex space-x-1 bg-muted/30 p-1 rounded-lg mb-6",children:[r.jsxs("button",{onClick:()=>i("pending"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${n==="pending"?"bg-blue-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:[" Pending Bots (",q.length,")"]}),r.jsxs("button",{onClick:()=>i("approved"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${n==="approved"?"bg-green-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:[" Approved Bots (",U.length,")"]})]}),n==="pending"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Pending Bot Registrations"}),J?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):q.length===0?r.jsx(de,{children:r.jsx(fe,{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"No pending bot registrations"})})}):r.jsx("div",{className:"grid gap-4",children:q.map(R=>r.jsx(de,{className:"border-orange-200",children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-clock text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:R.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",R.phoneNumber||"No phone number"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",Y(R.createdAt)]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Je,{variant:"secondary",className:"text-orange-600 bg-orange-100",children:"Pending"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(H,{size:"sm",onClick:()=>ne(R),className:"bg-green-600 hover:bg-green-700 text-white",children:[r.jsx("i",{className:"fas fa-check mr-1"}),"Approve"]}),r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>{const D=prompt("Rejection reason:");D&&E(R,D)},className:"text-red-600 border-red-600 hover:bg-red-50",children:[r.jsx("i",{className:"fas fa-times mr-1"}),"Reject"]})]})]})]})})},R.id))})]}),n==="approved"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Approved & Active Bots"}),re?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):U.length===0?r.jsx(de,{children:r.jsx(fe,{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"No approved bots yet"})})}):r.jsx("div",{className:"grid gap-4",children:U.map(R=>r.jsx(de,{className:"border-green-200",children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-check-circle text-green-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:R.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",R.phoneNumber||"No phone number"]}),r.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground mt-1",children:[r.jsxs("span",{children:[" Approved: ",Y(R.approvalDate)]}),r.jsxs("span",{children:[" Expires: ",se(R.approvalDate,R.expirationMonths)]}),r.jsxs("span",{children:[" Duration: ",R.expirationMonths," months"]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Je,{variant:R.status==="online"?"default":"secondary",className:R.status==="online"?"bg-green-600 text-white":"text-gray-600 bg-gray-100",children:R.status==="online"?" Online":" Offline"}),A(R.approvalDate,R.expirationMonths)&&r.jsx(Je,{variant:"destructive",className:"text-red-600 bg-red-100",children:" Expiring Soon"}),r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>K(R),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[r.jsx("i",{className:"fas fa-message mr-1"}),"Message"]})]})]})})},R.id))})]})]})}),r.jsx(er,{open:o,onOpenChange:c,children:r.jsxs(Gt,{children:[r.jsx(Qt,{children:r.jsx(Ht,{children:" Approve Bot Registration"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Bot Name"}),r.jsx("p",{className:"font-medium",children:g?.name})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Phone Number"}),r.jsx("p",{className:"font-medium",children:g?.phoneNumber})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"duration",children:"Approval Duration *"}),r.jsxs(mr,{value:v,onValueChange:b,children:[r.jsx(or,{children:r.jsx(hr,{})}),r.jsxs(lr,{children:[r.jsx(Re,{value:"1",children:"1 Month"}),r.jsx(Re,{value:"2",children:"2 Months"}),r.jsx(Re,{value:"3",children:"3 Months"}),r.jsx(Re,{value:"6",children:"6 Months"}),r.jsx(Re,{value:"12",children:"12 Months"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bot will expire and return to pending after this duration"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(H,{onClick:we,disabled:me.isPending,className:"bg-green-600 hover:bg-green-700",children:me.isPending?"Approving...":"Approve Bot"}),r.jsx(H,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})]})]})]})}),r.jsx(er,{open:d,onOpenChange:m,children:r.jsxs(Gt,{children:[r.jsx(Qt,{children:r.jsx(Ht,{children:" Send Message to Bot User"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Bot"}),r.jsxs("p",{className:"font-medium",children:[g?.name," (",g?.phoneNumber,")"]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"message",children:"Message *"}),r.jsx(ds,{id:"message",value:N,onChange:R=>C(R.target.value),placeholder:"Enter your message to the bot user...",rows:4})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(H,{onClick:V,disabled:he.isPending||!N.trim(),className:"bg-blue-600 hover:bg-blue-700",children:he.isPending?"Sending...":"Send Message"}),r.jsx(H,{variant:"outline",onClick:()=>m(!1),children:"Cancel"})]})]})]})}),k&&r.jsx(er,{open:k,onOpenChange:_,children:r.jsxs(Gt,{className:"max-w-4xl max-h-[90vh] bg-gray-900 border-gray-700 flex flex-col",children:[r.jsxs(Qt,{children:[r.jsx(Ht,{className:"text-white",children:" God Registry Management"}),r.jsx(Bo,{className:"text-gray-400",children:"Manage global phone number registrations across all tenants"})]}),r.jsx("div",{className:"space-y-4 overflow-y-auto flex-1 pr-2",children:F.length===0?r.jsx("div",{className:"text-center py-8 text-gray-400",children:"No registrations found"}):r.jsx("div",{className:"space-y-2",children:F.map(R=>r.jsx("div",{className:"border border-gray-700 rounded-lg p-4 bg-gray-800/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-white",children:[" ",R.phoneNumber]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Tenant: ",R.tenancyName]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Registered: ",new Date(R.registeredAt).toLocaleDateString()]})]}),r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>Z(R),className:"text-blue-400 border-blue-400 hover:bg-blue-900/20",children:[r.jsx("i",{className:"fas fa-edit mr-1"}),"Edit"]})]})},R.phoneNumber))})}),r.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-700",children:r.jsx(H,{onClick:()=>_(!1),className:"bg-emerald-600 hover:bg-emerald-700",children:"Close"})})]})})]})}function WO(){const{isAdmin:e}=ll(),{toast:t}=Mt(),[n,i]=h.useState(!1),[o,c]=h.useState(!1),[d,m]=h.useState(!1),[g,x]=h.useState(!1),[v,b]=h.useState(!1),[N,C]=h.useState(null),[T,w]=h.useState(null);h.useEffect(()=>{const R=new URLSearchParams(window.location.search).get("openRegistration")==="true",D=localStorage.getItem("autoRegisterFlow"),z=localStorage.getItem("autoRegisterSessionId"),ae=localStorage.getItem("autoRegisterPhoneNumber"),pe=localStorage.getItem("autoRegisterTimestamp");console.log("Dashboard auto-register check:",{autoRegisterFlow:D,hasSessionId:!!z,hasPhoneNumber:!!ae,timestamp:pe,shouldOpenRegistration:R}),(D==="true"||R)&&z&&ae&&(R&&window.history.replaceState({},"","/"),setTimeout(()=>{localStorage.removeItem("autoRegisterFlow"),localStorage.removeItem("autoRegisterTimestamp"),console.log("Opening registration dialog with auto-filled data"),m(!0),t({title:"Ready to Register!",description:"Your credentials are ready. Complete your bot registration now."})},100))},[t]);const{data:j={},isLoading:k}=mt({queryKey:["/api/dashboard/stats"]}),{data:_={},isLoading:F}=mt({queryKey:["/api/server/info"]}),{data:I=[],isLoading:M}=mt({queryKey:["/api/bot-instances"],enabled:e}),{data:Z=[],isLoading:q}=mt({queryKey:["/api/bots/pending"],enabled:e}),{data:J=[],isLoading:U}=mt({queryKey:["/api/bots/approved"],enabled:e}),{data:re=[],isLoading:me}=mt({queryKey:["/api/activities"]}),{data:te=[],isLoading:he}=mt({queryKey:["/api/commands"],enabled:e}),{data:ne=[],isLoading:we}=mt({queryKey:["/api/admin/god-registry"],enabled:e});Bb();const E=Qe({mutationFn:({id:A,expirationMonths:R})=>Nt("POST",`/api/bots/${A}/approve`,{expirationMonths:R}),onSuccess:()=>{t({title:"Bot approved successfully!"}),wr.invalidateQueries({queryKey:["/api/bots/pending"]}),wr.invalidateQueries({queryKey:["/api/bots/approved"]}),wr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{t({title:"Failed to approve bot",variant:"destructive"})}}),K=Qe({mutationFn:A=>Nt("POST",`/api/bots/${A}/reject`),onSuccess:()=>{t({title:"Bot rejected and removed"}),wr.invalidateQueries({queryKey:["/api/bots/pending"]}),wr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{t({title:"Failed to reject bot",variant:"destructive"})}}),V=Qe({mutationFn:({botId:A,feature:R,enabled:D})=>Nt("POST",`/api/bot-instances/${A}/toggle-feature`,{feature:R,enabled:D}),onSuccess:()=>{t({title:"Feature updated successfully!"}),wr.invalidateQueries({queryKey:["/api/bots/approved"]}),wr.invalidateQueries({queryKey:["/api/activities"]})},onError:()=>{t({title:"Failed to update feature",variant:"destructive"})}});Qe({mutationFn:A=>Nt("POST",`/api/bot-instances/${A}/revoke`),onSuccess:()=>{t({title:"Bot approval revoked",description:"Bot returned to pending status"}),wr.invalidateQueries({queryKey:["/api/bots/approved"]}),wr.invalidateQueries({queryKey:["/api/bots/pending"]}),wr.invalidateQueries({queryKey:["/api/bot-instances"]}),wr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{t({title:"Failed to revoke approval",variant:"destructive"})}}),Qe({mutationFn:A=>Nt("POST",`/api/bot-instances/${A}/restart`),onSuccess:()=>{t({title:"Bot restarted successfully"}),wr.invalidateQueries({queryKey:["/api/bots/approved"]}),wr.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:()=>{t({title:"Failed to restart bot",variant:"destructive"})}});const Y=Qe({mutationFn:({phoneNumber:A,tenancyName:R})=>Nt("PUT",`/api/admin/god-registry/${encodeURIComponent(A)}`,{tenancyName:R}),onSuccess:()=>{t({title:"Registration updated successfully!"}),wr.invalidateQueries({queryKey:["/api/admin/god-registry"]}),w(null)},onError:()=>{t({title:"Failed to update registration",variant:"destructive"})}}),se=Qe({mutationFn:A=>Nt("DELETE",`/api/admin/god-registry/${encodeURIComponent(A)}`),onSuccess:()=>{t({title:"Registration deleted successfully!"}),wr.invalidateQueries({queryKey:["/api/admin/god-registry"]})},onError:()=>{t({title:"Failed to delete registration",variant:"destructive"})}});return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-emerald-950",children:[!e&&r.jsx(v_,{}),r.jsx("header",{className:"sticky top-0 z-40 backdrop-blur-xl bg-gray-900/80 border-b border-emerald-500/20 px-4 sm:px-6 py-4 shadow-lg shadow-emerald-500/5",children:r.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[r.jsx("div",{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-emerald-400 to-green-600 flex items-center justify-center shadow-lg shadow-emerald-500/50",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-400 via-green-400 to-teal-400 bg-clip-text text-transparent",children:[_.serverName||"TREKKER-MD"," Dashboard"]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Ultra-fast lifetime WhatsApp bot automation"})]})]})}),r.jsx("div",{className:"flex items-center space-x-3",children:e&&r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(H,{onClick:()=>c(!0),className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg shadow-blue-500/30",children:[r.jsx("i",{className:"fas fa-terminal mr-2"}),"Commands"]}),r.jsxs(H,{onClick:()=>x(!0),className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white shadow-lg shadow-purple-500/30",children:[r.jsx("i",{className:"fas fa-robot mr-2"}),"Manage Bots"]}),r.jsxs(H,{onClick:()=>b(!0),className:"bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white shadow-lg shadow-orange-500/30",children:[r.jsx("i",{className:"fas fa-database mr-2"}),"Registry"]})]})})]})}),r.jsxs("div",{className:"p-6",children:[!e&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-600 via-green-600 to-teal-600 p-8 mb-6 shadow-2xl shadow-emerald-500/30",children:[r.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzBoNHYzNmgtNHp2Lz48L2c+PC9nPjwvc3ZnPg==')] opacity-20"}),r.jsxs("div",{className:"relative text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm mb-4 shadow-lg",children:r.jsx("span",{className:"text-5xl",children:""})}),r.jsx("h2",{className:"text-4xl font-bold text-white mb-3",children:"Get Started with TREKKER-MD Bot"}),r.jsx("p",{className:"text-lg text-emerald-100 max-w-2xl mx-auto",children:"Follow these simple steps to activate your ultra-fast WhatsApp automation bot"})]})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[r.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500/30 hover:border-blue-400/60 transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/30 hover:-translate-y-1",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),r.jsxs("div",{className:"relative p-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"flex items-center justify-center w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 shadow-lg shadow-blue-500/50 group-hover:scale-110 transition-transform",children:r.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Get Session"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400 animate-pulse"}),r.jsx("span",{className:"text-xs text-blue-400 font-medium",children:"START HERE"})]})]})]}),r.jsxs("p",{className:"text-gray-300 mb-5 leading-relaxed",children:["Generate your WhatsApp session credentials using our secure pairing system. Get your ",r.jsx("span",{className:"font-semibold text-blue-400",children:"pairing code"})," instantly"]}),r.jsx(Po,{href:"/pairing","data-testid":"link-get-session",children:r.jsxs(H,{className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 shadow-lg shadow-blue-500/30 group-hover:shadow-blue-500/50 transition-all","data-testid":"button-get-session",children:[r.jsx("i",{className:"fas fa-key mr-2"}),"Get Session",r.jsx("i",{className:"fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]}),r.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-gray-800 to-gray-900 border border-amber-500/30 hover:border-amber-400/60 transition-all duration-300 hover:shadow-2xl hover:shadow-amber-500/30 hover:-translate-y-1",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),r.jsxs("div",{className:"relative p-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"flex items-center justify-center w-14 h-14 rounded-xl bg-gradient-to-br from-amber-500 to-amber-600 shadow-lg shadow-amber-500/50 group-hover:scale-110 transition-transform",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Quick Register"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400 animate-pulse"}),r.jsx("span",{className:"text-xs text-amber-400 font-medium",children:"FAST TRACK"})]})]})]}),r.jsx("p",{className:"text-gray-300 mb-5 leading-relaxed",children:"Already have session ID? Test and register your bot instantly without extra steps"}),r.jsx(Po,{href:"/guest/direct-bot-test",children:r.jsxs(H,{className:"w-full bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 text-white font-semibold py-3 shadow-lg shadow-amber-500/30 group-hover:shadow-amber-500/50 transition-all",children:[r.jsx("i",{className:"fas fa-bolt mr-2"}),"Direct Register",r.jsx("i",{className:"fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]}),r.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-gray-800 to-gray-900 border border-purple-500/30 hover:border-purple-400/60 transition-all duration-300 hover:shadow-2xl hover:shadow-purple-500/30 hover:-translate-y-1",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),r.jsxs("div",{className:"relative p-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"flex items-center justify-center w-14 h-14 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 shadow-lg shadow-purple-500/50 group-hover:scale-110 transition-transform",children:r.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Full Registration"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-400 animate-pulse"}),r.jsx("span",{className:"text-xs text-purple-400 font-medium",children:"GUIDED"})]})]})]}),r.jsxs("p",{className:"text-gray-300 mb-5 leading-relaxed",children:["Step-by-step registration with server selection and advanced ",r.jsx("span",{className:"font-semibold text-purple-400",children:"feature configuration"})]}),r.jsx(Po,{href:"/guest/bot-registration",children:r.jsxs(H,{className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-semibold py-3 shadow-lg shadow-purple-500/30 group-hover:shadow-purple-500/50 transition-all","data-testid":"button-register-bot",children:[r.jsx("i",{className:"fas fa-rocket mr-2"}),"Register Now",r.jsx("i",{className:"fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]}),r.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-gray-800 to-gray-900 border border-emerald-500/30 hover:border-emerald-400/60 transition-all duration-300 hover:shadow-2xl hover:shadow-emerald-500/30 hover:-translate-y-1",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),r.jsxs("div",{className:"relative p-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"flex items-center justify-center w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 shadow-lg shadow-emerald-500/50 group-hover:scale-110 transition-transform",children:r.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Manage Your Bot"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),r.jsx("span",{className:"text-xs text-emerald-400 font-medium",children:"CONTROL"})]})]})]}),r.jsxs("p",{className:"text-gray-300 mb-5 leading-relaxed",children:["Control features, view statistics, and manage your bot settings with ",r.jsx("span",{className:"font-semibold text-emerald-400",children:"real-time monitoring"})]}),r.jsx(Po,{href:"/guest/bot-management",children:r.jsxs(H,{className:"w-full bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white font-semibold py-3 shadow-lg shadow-emerald-500/30 group-hover:shadow-emerald-500/50 transition-all","data-testid":"button-manage-bot",children:[r.jsx("i",{className:"fas fa-cog mr-2"}),"Bot Management",r.jsx("i",{className:"fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})]})]}),e?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(de,{className:"bg-gray-800/50 border-yellow-500/30 backdrop-blur-sm",children:[r.jsxs(Me,{className:"border-b border-yellow-500/20",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs($e,{className:"text-lg font-semibold text-white flex items-center gap-2",children:[r.jsx("i",{className:"fas fa-clock text-yellow-400"}),"Pending Bot Registrations"]}),r.jsxs(H,{onClick:()=>c(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx("i",{className:"fas fa-terminal mr-2"}),"Manage Commands"]})]}),r.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Review and approve new bot registrations"})]}),r.jsx(fe,{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:q?r.jsx("div",{className:"text-center py-4",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-yellow-400"})}):Z.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("i",{className:"fas fa-check-circle text-5xl text-gray-600 mb-3"}),r.jsx("p",{className:"text-gray-400",children:"No pending bot registrations"})]}):Z.map(A=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg hover:bg-yellow-500/20 transition-colors","data-testid":`pending-bot-${A.id}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-robot text-yellow-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:A.name}),r.jsx("p",{className:"text-xs text-gray-400",children:A.phoneNumber||"No phone number"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Registered: ",new Date(A.createdAt).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(H,{size:"sm",onClick:()=>E.mutate({id:A.id,expirationMonths:12}),disabled:E.isPending,className:"bg-green-600 hover:bg-green-700 text-white","data-testid":`button-approve-${A.id}`,children:[r.jsx("i",{className:"fas fa-check mr-1"}),"Approve"]}),r.jsxs(H,{size:"sm",onClick:()=>K.mutate(A.id),disabled:K.isPending,variant:"destructive","data-testid":`button-reject-${A.id}`,children:[r.jsx("i",{className:"fas fa-times mr-1"}),"Reject"]})]})]},A.id))})})]}),r.jsxs(de,{className:"bg-gray-800/50 border-green-500/30 backdrop-blur-sm",children:[r.jsxs(Me,{className:"border-b border-green-500/20",children:[r.jsxs($e,{className:"text-lg font-semibold text-white flex items-center gap-2",children:[r.jsx("i",{className:"fas fa-check-circle text-green-400"}),"Approved Bot Instances"]}),r.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Active bots with auto-running capabilities"})]}),r.jsx(fe,{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:U?r.jsx("div",{className:"text-center py-4",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-green-400"})}):J.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("i",{className:"fas fa-robot text-5xl text-gray-600 mb-3"}),r.jsx("p",{className:"text-gray-400",children:"No approved bots yet"})]}):J.map(A=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-500/10 border border-green-500/20 rounded-lg hover:bg-green-500/20 transition-colors","data-testid":`approved-bot-${A.id}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-robot text-green-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:A.name}),r.jsx("p",{className:"text-xs text-gray-400",children:A.phoneNumber||"No phone number"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-500/10 text-green-400",children:"APPROVED"}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${A.status==="online"?"text-green-400 bg-green-500/10":"text-gray-400 bg-gray-500/10"}`,children:A.status?.toUpperCase()||"UNKNOWN"})]})]},A.id))})})]})]}):null,r.jsxs(de,{className:"relative overflow-hidden bg-gradient-to-br from-emerald-600 via-green-600 to-teal-600 border-none mt-8 text-white shadow-2xl shadow-emerald-500/30",children:[r.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PHBhdGggZD0iTTM2IDM0djEyaDEyVjM0eiIvPjwvZz48L2c+PC9zdmc+')] opacity-30"}),r.jsx(fe,{className:"relative p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm mb-4 shadow-lg",children:r.jsx("span",{className:"text-5xl",children:""})}),r.jsx("h2",{className:"text-4xl font-bold mb-3",children:"TREKKER-MD LIFETIME BOT"}),r.jsx("p",{className:"text-xl text-emerald-100 mb-2",children:"Ultra-Fast WhatsApp Automation Platform"}),r.jsx("p",{className:"text-sm text-emerald-200/80 mb-6",children:"No Expiry  Lifetime Access  Premium Features"}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-5 mb-6 border border-white/20",children:[r.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center justify-center gap-2",children:[r.jsx("i",{className:"fas fa-info-circle"}),"Quick Start Guide"]}),r.jsxs("div",{className:"text-left space-y-3 text-sm",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("i",{className:"fas fa-check-circle text-emerald-300 mt-1"}),r.jsx("p",{children:"Use the Quoted Session ID to Deploy your Bot"})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("i",{className:"fas fa-check-circle text-emerald-300 mt-1"}),r.jsx("p",{children:"DM the owner for lifetime TREKKER-MD bot support"})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("i",{className:"fas fa-check-circle text-emerald-300 mt-1"}),r.jsx("p",{children:"Support us - Donations keep this service running"})]})]})]}),r.jsxs("div",{className:"border-t border-white/20 pt-6",children:[r.jsxs("h3",{className:"text-xl font-semibold mb-5 flex items-center justify-center gap-2",children:[r.jsx("i",{className:"fas fa-link"}),"Connect With Us"]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[r.jsxs("a",{href:"https://t.me/trekkermd",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm transition-all rounded-lg p-3 text-white font-medium group",children:[r.jsx("i",{className:"fab fa-telegram text-xl group-hover:scale-110 transition-transform"}),r.jsx("span",{children:"Telegram"})]}),r.jsxs("a",{href:"https://www.instagram.com/nicholaso_tesla?igsh=eG5oNWVuNXF6eGU0_",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm transition-all rounded-lg p-3 text-white font-medium group",children:[r.jsx("i",{className:"fab fa-instagram text-xl group-hover:scale-110 transition-transform"}),r.jsx("span",{children:"Instagram"})]}),r.jsxs("a",{href:"https://wa.me/254704897825",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm transition-all rounded-lg p-3 text-white font-medium group",children:[r.jsx("i",{className:"fab fa-whatsapp text-xl group-hover:scale-110 transition-transform"}),r.jsx("span",{children:"WhatsApp"})]}),r.jsxs("a",{href:"https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm transition-all rounded-lg p-3 text-white font-medium group",children:[r.jsx("i",{className:"fas fa-qrcode text-xl group-hover:scale-110 transition-transform"}),r.jsx("span",{children:"Pair Site"})]}),r.jsxs("a",{href:"https://whatsapp.com/channel/0029Vb6vpSv6WaKiG6ZIy73H",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm transition-all rounded-lg p-3 text-white font-medium group sm:col-span-2",children:[r.jsx("i",{className:"fab fa-whatsapp text-xl group-hover:scale-110 transition-transform"}),r.jsx("span",{children:"WhatsApp Channel"})]})]})]}),r.jsx("p",{className:"text-xs text-emerald-200/70 mt-6 italic",children:"Powered by TREKKER-MD  Ultra Fast Bot "})]})})]})]}),r.jsx(Nj,{open:n,onClose:()=>i(!1)}),r.jsx(RO,{open:o,onClose:()=>c(!1)}),r.jsx(zO,{open:d,onClose:()=>m(!1)}),e&&r.jsx(qO,{open:g,onClose:()=>x(!1)}),N&&r.jsx(er,{open:!!N,onOpenChange:()=>C(null),children:r.jsxs(Gt,{className:"max-w-md bg-gray-900 border-gray-700",children:[r.jsx(Qt,{children:r.jsxs(Ht,{className:"text-lg font-semibold text-white",children:["Manage Bot Features - ",N.name]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Toggle features for this bot. Changes take effect immediately."}),r.jsx("div",{className:"space-y-3",children:[{key:"autoLike",label:"Auto Like Status",description:"Automatically like WhatsApp status updates"},{key:"autoReact",label:"Auto React",description:"Automatically react to messages"},{key:"autoView",label:"Auto View Status",description:"Automatically view WhatsApp status"},{key:"typingIndicator",label:"Typing Indicator",description:"Show typing indicator for responses"},{key:"chatGPT",label:"ChatGPT Integration",description:"Enable AI responses for conversations"}].map(A=>{const R=N.settings?.features?.[A.key]||!1;return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg border border-gray-700",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Te,{className:"text-sm font-medium text-white",children:A.label}),r.jsx("p",{className:"text-xs text-gray-400",children:A.description})]}),r.jsx(kn,{checked:R,onCheckedChange:D=>{V.mutate({botId:N.id,feature:A.key,enabled:!!D}),C(z=>z?{...z,settings:{...z.settings,features:{...z.settings?.features,[A.key]:!!D}}}:null)},disabled:V.isPending})]},A.key)})}),r.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:r.jsx(H,{variant:"outline",onClick:()=>C(null),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Close"})})]})]})}),v&&r.jsx(er,{open:v,onOpenChange:()=>b(!1),children:r.jsxs(Gt,{className:"max-w-4xl bg-gray-900 border-gray-700",children:[r.jsxs(Qt,{children:[r.jsx(Ht,{className:"text-white",children:" God Registry Management"}),r.jsx(Bo,{className:"text-gray-400",children:"Manage global phone number registrations across all tenants"})]}),r.jsx("div",{className:"space-y-4",children:we?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"w-6 h-6 border-2 border-emerald-400 border-t-transparent rounded-full animate-spin"})}):ne.length===0?r.jsx("div",{className:"text-center py-8 text-gray-400",children:"No registrations found"}):r.jsx("div",{className:"space-y-2",children:ne.map(A=>r.jsx("div",{className:"border border-gray-700 rounded-lg p-4 bg-gray-800/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-white",children:[" ",A.phoneNumber]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Tenant: ",A.tenancyName]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Registered: ",new Date(A.registeredAt).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(H,{variant:"outline",size:"sm",onClick:()=>w(A),className:"border-gray-700 text-gray-300 hover:bg-gray-800","data-testid":`button-edit-${A.phoneNumber}`,children:" Edit"}),r.jsx(H,{variant:"destructive",size:"sm",onClick:()=>{confirm(`Delete registration for ${A.phoneNumber}?`)&&se.mutate(A.phoneNumber)},disabled:se.isPending,"data-testid":`button-delete-${A.phoneNumber}`,children:se.isPending?"...":" Delete"})]})]})},A.phoneNumber))})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(H,{onClick:()=>b(!1),className:"bg-emerald-600 hover:bg-emerald-700",children:"Close"})})]})}),T&&r.jsx(er,{open:!!T,onOpenChange:()=>w(null),children:r.jsxs(Gt,{className:"bg-gray-900 border-gray-700",children:[r.jsxs(Qt,{children:[r.jsx(Ht,{className:"text-white",children:" Edit Registration"}),r.jsxs(Bo,{className:"text-gray-400",children:["Update the tenant assignment for ",T.phoneNumber]})]}),r.jsxs("form",{onSubmit:A=>{A.preventDefault();const D=new FormData(A.currentTarget).get("tenancyName");D.trim()&&Y.mutate({phoneNumber:T.phoneNumber,tenancyName:D.trim()})},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-white",children:"Phone Number"}),r.jsx("input",{type:"text",value:T.phoneNumber,disabled:!0,className:"w-full p-3 border border-gray-700 rounded-md bg-gray-800 text-gray-400"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-white",children:"Tenant Name"}),r.jsx("input",{type:"text",name:"tenancyName",defaultValue:T.tenancyName,placeholder:"Enter new tenant name",required:!0,className:"w-full p-3 border border-gray-700 rounded-md bg-gray-800 text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent","data-testid":"input-tenancy-name"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>w(null),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),r.jsx(H,{type:"submit",disabled:Y.isPending,className:"bg-emerald-600 hover:bg-emerald-700","data-testid":"button-update-registration",children:Y.isPending?"Updating...":"Update"})]})]})]})})]})}var KO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],GO=KO.reduce((e,t)=>{const n=ol(`Primitive.${t}`),i=h.forwardRef((o,c)=>{const{asChild:d,...m}=o,g=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(g,{...m,ref:c})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),QO="Separator",cy="horizontal",HO=["horizontal","vertical"],Lj=h.forwardRef((e,t)=>{const{decorative:n,orientation:i=cy,...o}=e,c=ZO(i)?i:cy,m=n?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return r.jsx(GO.div,{"data-orientation":c,...m,...o,ref:t})});Lj.displayName=QO;function ZO(e){return HO.includes(e)}var Bj=Lj;const Lm=h.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...i},o)=>r.jsx(Bj,{ref:o,decorative:n,orientation:t,className:_e("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...i}));Lm.displayName=Bj.displayName;function YO({bot:e,isOpen:t,onClose:n}){const{toast:i}=Mt(),o=Rr(),[c,d]=h.useState(()=>({autoView:e.autoViewStatus||!1,typingIndicator:e.typingMode!=="none",chatGPT:e.chatgptEnabled||!1,alwaysOnline:e.alwaysOnline||!1,autoRecording:e.presenceMode==="recording",presenceAutoSwitch:e.presenceAutoSwitch||!1})),m=Qe({mutationFn:({feature:C,enabled:T})=>Nt("POST",`/api/bot-instances/${e.id}/toggle-feature`,{feature:C,enabled:T}),onSuccess:(C,{feature:T,enabled:w})=>{d(j=>({...j,[T]:w})),o.invalidateQueries({queryKey:["/api/bots/pending"]}),o.invalidateQueries({queryKey:["/api/bots/approved"]}),o.invalidateQueries({queryKey:["/api/bot-instances"]}),i({title:"Feature updated successfully"})},onError:C=>{i({title:"Failed to update feature",description:C instanceof Error?C.message:"Unknown error",variant:"destructive"})}}),g=(C,T)=>{m.mutate({feature:C,enabled:T})},x=[{id:"autoView",label:"Auto View Status",description:"Automatically view WhatsApp status",apiKey:"autoView",getValue:()=>c.autoView}],v=[{id:"typingIndicator",label:"Typing Indicator",description:"Show typing indicator for responses",apiKey:"typingIndicator",getValue:()=>c.typingIndicator},{id:"autoRecording",label:"Auto Recording",description:"Show recording indicator automatically",apiKey:"autoRecording",getValue:()=>c.autoRecording},{id:"alwaysOnline",label:"Always Online",description:"Keep bot status as online always",apiKey:"alwaysOnline",getValue:()=>c.alwaysOnline},{id:"presenceAutoSwitch",label:"Auto Switch Typing/Recording",description:"Switch between typing and recording every 30 seconds",apiKey:"presenceAutoSwitch",getValue:()=>c.presenceAutoSwitch}],b=[{id:"chatGPT",label:"ChatGPT Integration",description:"Enable AI responses for conversations",apiKey:"chatGPT",getValue:()=>c.chatGPT}],N=(C,T)=>r.jsxs("div",{className:"space-y-3","data-testid":`section-${C.toLowerCase().replace(/\s+/g,"-")}`,children:[r.jsx("h4",{className:"font-medium text-sm text-foreground",children:C}),r.jsx("div",{className:"space-y-3",children:T.map(w=>r.jsxs("div",{className:"flex items-start space-x-3","data-testid":`feature-${w.id}`,children:[r.jsx(kn,{id:w.id,checked:w.getValue(e),onCheckedChange:j=>g(w.apiKey,!!j),disabled:m.isPending||e.approvalStatus!=="approved","data-testid":`checkbox-${w.id}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Te,{htmlFor:w.id,className:"text-sm font-medium cursor-pointer",children:w.label}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:w.description})]})]},w.id))})]});return r.jsx(er,{open:t,onOpenChange:n,children:r.jsxs(Gt,{className:"max-w-md","data-testid":"modal-bot-features",children:[r.jsx(Qt,{children:r.jsxs(Ht,{"data-testid":"modal-title",children:["Manage Bot Features - ",e.name]})}),r.jsxs("div",{className:"space-y-6",children:[e.approvalStatus!=="approved"&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:r.jsx("p",{className:"text-sm text-yellow-800",children:" Bot must be approved before features can be managed"})}),N("Automation",x),r.jsx(Lm,{}),N("Presence",v),r.jsx(Lm,{}),N("AI Integration",b),r.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:r.jsx(H,{variant:"outline",onClick:n,"data-testid":"button-close",children:"Close"})})]})]})})}function XO(e){if(!e||e.length<8)return e;const t=e.slice(0,7),n=e.slice(-2),i="*".repeat(Math.max(0,e.length-9));return`${t}${i}${n}`}function dy({bot:e}){const{toast:t}=Mt(),n=Rr(),{isAdmin:i,token:o}=ll(),[c,d]=h.useState(!1),m=Qe({mutationFn:({feature:w,enabled:j})=>Nt("POST",`/api/bot-instances/${e.id}/toggle-feature`,{feature:w,enabled:j}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/bots/pending"]}),n.invalidateQueries({queryKey:["/api/bots/approved"]}),n.invalidateQueries({queryKey:["/api/bot-instances"]}),t({title:"Feature updated successfully"})},onError:w=>{t({title:"Failed to update feature",description:w instanceof Error?w.message:"Unknown error",variant:"destructive"})}}),g=Qe({mutationFn:()=>Nt("POST",`/api/bot-instances/${e.id}/approve`,{expirationMonths:3}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/bots/pending"]}),n.invalidateQueries({queryKey:["/api/bots/approved"]}),n.invalidateQueries({queryKey:["/api/bot-instances"]}),t({title:"Bot approved successfully",description:"Bot is now approved for 3 months"})},onError:w=>{t({title:"Failed to approve bot",description:w instanceof Error?w.message:"Unknown error",variant:"destructive"})}}),x=Qe({mutationFn:()=>Nt("POST",`/api/bot-instances/${e.id}/revoke`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/bots/pending"]}),n.invalidateQueries({queryKey:["/api/bots/approved"]}),n.invalidateQueries({queryKey:["/api/bot-instances"]}),t({title:"Bot approval revoked",description:"Bot has been returned to pending status"})},onError:w=>{t({title:"Failed to revoke approval",description:w instanceof Error?w.message:"Unknown error",variant:"destructive"})}}),v=Qe({mutationFn:()=>{if(!i)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/start`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(w=>{if(!w.ok)throw new Error("Failed to start bot");return w.json()})},onSuccess:()=>{t({title:"Bot started successfully"}),n.invalidateQueries({queryKey:["/api/bots/pending"]}),n.invalidateQueries({queryKey:["/api/bots/approved"]}),n.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:w=>{t({title:"Failed to start bot",description:w.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),b=Qe({mutationFn:()=>{if(!i)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/stop`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(w=>{if(!w.ok)throw new Error("Failed to stop bot");return w.json()})},onSuccess:()=>{t({title:"Bot stopped successfully"}),n.invalidateQueries({queryKey:["/api/bots/pending"]}),n.invalidateQueries({queryKey:["/api/bots/approved"]}),n.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:w=>{t({title:"Failed to stop bot",description:w.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),N=Qe({mutationFn:()=>{if(!i)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/restart`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(w=>{if(!w.ok)throw new Error("Failed to restart bot");return w.json()})},onSuccess:()=>{t({title:"Bot restarted successfully"}),n.invalidateQueries({queryKey:["/api/bots/pending"]}),n.invalidateQueries({queryKey:["/api/bots/approved"]}),n.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:w=>{t({title:"Failed to restart bot",description:w.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),C=w=>{switch(w){case"online":return"status-online";case"offline":return"status-offline";case"error":return"status-error";case"loading":return"status-loading";default:return"status-offline"}},T=()=>i?e.status==="online"?r.jsx("button",{onClick:()=>b.mutate(),disabled:b.isPending,className:"flex-1 bg-red-600 text-white py-2 px-3 rounded-md text-sm hover:bg-red-700 transition-colors disabled:opacity-50","data-testid":`button-stop-bot-${e.id}`,children:b.isPending?"Stopping...":"Stop"}):e.status==="error"?r.jsx("button",{onClick:()=>N.mutate(),disabled:N.isPending,className:"flex-1 bg-destructive text-destructive-foreground py-2 px-3 rounded-md text-sm hover:bg-destructive/90 transition-colors disabled:opacity-50","data-testid":`button-restart-bot-${e.id}`,children:N.isPending?"Restarting...":"Restart"}):r.jsx("button",{onClick:()=>v.mutate(),disabled:v.isPending,className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-md text-sm hover:bg-green-700 transition-colors disabled:opacity-50","data-testid":`button-start-bot-${e.id}`,children:v.isPending?"Starting...":"Start"}):r.jsx("button",{disabled:!0,className:"flex-1 bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm cursor-not-allowed",title:"Admin access required",children:" Admin Only"});return r.jsxs(de,{className:"bg-card border-border","data-testid":`bot-card-${e.id}`,children:[r.jsxs(fe,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${e.status==="online"?"bg-primary":e.status==="error"?"bg-yellow-500/20":"bg-muted"}`,children:r.jsx("i",{className:`fab fa-whatsapp text-xl ${e.status==="online"?"text-primary-foreground":e.status==="error"?"text-yellow-400 pulse-animation":"text-muted-foreground"}`})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-foreground","data-testid":`bot-name-${e.id}`,children:e.name}),r.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`bot-phone-${e.id}`,children:e.phoneNumber?i?e.phoneNumber:XO(e.phoneNumber):"Not connected"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${C(e.status)}`,"data-testid":`bot-status-${e.id}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),r.jsx("button",{className:"w-8 h-8 bg-muted rounded-md flex items-center justify-center hover:bg-muted/80","data-testid":`button-bot-menu-${e.id}`,children:r.jsx("i",{className:"fas fa-ellipsis-v text-muted-foreground"})})]})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[e.approvalStatus==="pending"&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-yellow-800",children:" Awaiting Approval"}),r.jsx("p",{className:"text-xs text-yellow-600",children:"This bot is waiting for admin approval"})]}),r.jsx("button",{onClick:()=>g.mutate(),disabled:g.isPending,className:"bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 disabled:opacity-50",children:g.isPending?"":" Approve"})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),r.jsx("button",{onClick:()=>m.mutate({feature:"autoView",enabled:!e.autoViewStatus}),disabled:m.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoViewStatus?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoViewStatus?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),r.jsx("button",{onClick:()=>m.mutate({feature:"chatGPT",enabled:!e.chatgptEnabled}),disabled:m.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.chatgptEnabled?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${e.chatgptEnabled?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Typing"}),r.jsx("button",{onClick:()=>m.mutate({feature:"typingIndicator",enabled:e.typingMode==="none"}),disabled:m.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.typingMode!=="none"?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${e.typingMode!=="none"?"bg-white":"bg-muted-foreground"}`})})]})]})]}),e.status==="error"&&r.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-md p-3 mb-4",children:r.jsx("p",{className:"text-sm text-destructive",children:"Connection timeout - attempting restart"})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-foreground","data-testid":`bot-messages-${e.id}`,children:e.messagesCount}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-foreground","data-testid":`bot-commands-${e.id}`,children:e.commandsCount}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Commands"})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[T(),i&&r.jsxs(r.Fragment,{children:[e.approvalStatus==="pending"&&r.jsx("button",{onClick:()=>g.mutate(),disabled:g.isPending,className:"bg-green-600 text-white py-2 px-3 rounded-md text-sm hover:bg-green-700 transition-colors disabled:opacity-50","data-testid":`button-approve-${e.id}`,children:g.isPending?"Approving...":" Approve"}),e.approvalStatus==="approved"&&r.jsx("button",{onClick:()=>x.mutate(),disabled:x.isPending,className:"bg-orange-600 text-white py-2 px-3 rounded-md text-sm hover:bg-orange-700 transition-colors disabled:opacity-50","data-testid":`button-revoke-${e.id}`,children:x.isPending?"Revoking...":" Normal"})]}),r.jsx("button",{className:"bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm hover:bg-muted/80 transition-colors","data-testid":`button-analytics-${e.id}`,children:r.jsx("i",{className:"fas fa-chart-line"})}),r.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white py-2 px-3 rounded-md text-sm hover:bg-blue-700 transition-colors","data-testid":`button-features-${e.id}`,children:[r.jsx("i",{className:"fas fa-sliders-h mr-1"}),"Features"]}),r.jsx("button",{className:"bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm hover:bg-muted/80 transition-colors","data-testid":`button-settings-${e.id}`,children:r.jsx("i",{className:"fas fa-cog"})})]})]}),r.jsx(YO,{bot:e,isOpen:c,onClose:()=>d(!1)})]})}function JO(){const[e,t]=h.useState(!1),[n,i]=h.useState("pending"),{data:o=[],isLoading:c}=mt({queryKey:["/api/bots/pending"]}),{data:d=[],isLoading:m}=mt({queryKey:["/api/bots/approved"]}),g=o||[],x=d||[];return Bb(),r.jsxs("div",{children:[r.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Bot Management Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage bot instances based on their approval status"})]}),r.jsxs(H,{onClick:()=>t(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-add-new-bot",children:[r.jsx("i",{className:"fas fa-plus mr-2"}),"Add New Bot"]})]})}),r.jsx("div",{className:"p-6",children:r.jsxs(Fi,{value:n,onValueChange:v=>i(v),children:[r.jsxs(Ca,{className:"grid w-full grid-cols-2",children:[r.jsx(St,{value:"pending",className:"relative","data-testid":"tab-pending",children:r.jsxs("span",{className:"flex items-center gap-2",children:[" Pending Approval",g.length>0&&r.jsx(Je,{variant:"secondary",className:"ml-1 bg-yellow-100 text-yellow-800",children:g.length})]})}),r.jsx(St,{value:"approved",className:"relative","data-testid":"tab-approved",children:r.jsxs("span",{className:"flex items-center gap-2",children:[" Approved Bots",x.length>0&&r.jsx(Je,{variant:"secondary",className:"ml-1 bg-green-100 text-green-800",children:x.length})]})})]}),r.jsxs(xt,{value:"pending",className:"mt-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Pending Bot Approvals"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"These bots are awaiting admin approval. Limited functionality is available until approved."})]}),c?r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(3)].map((v,b)=>r.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 animate-pulse",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-24"}),r.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-3 bg-muted rounded"}),r.jsx("div",{className:"h-3 bg-muted rounded"})]})]},b))}):g.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-clock text-muted-foreground text-2xl"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Pending Approvals"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"All bots have been reviewed. Create a new bot to get started."}),r.jsx(H,{onClick:()=>t(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-pending-bot",children:"Add New Bot"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:g.map(v=>r.jsx(dy,{bot:{...v,approvalStatus:"pending"}},v.id))})]}),r.jsxs(xt,{value:"approved",className:"mt-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Approved Bots"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"These bots have been approved and have full functionality available."})]}),m?r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(3)].map((v,b)=>r.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 animate-pulse",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-24"}),r.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-3 bg-muted rounded"}),r.jsx("div",{className:"h-3 bg-muted rounded"})]})]},b))}):x.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-check-circle text-muted-foreground text-2xl"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Approved Bots"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Approve pending bots or create new ones to get started."}),r.jsx(H,{onClick:()=>i("pending"),variant:"outline",className:"mr-2","data-testid":"button-view-pending",children:"View Pending"}),r.jsx(H,{onClick:()=>t(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-approved-bot",children:"Add New Bot"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:x.map(v=>r.jsx(dy,{bot:{...v,approvalStatus:"approved"}},v.id))})]})]})}),r.jsx(Nj,{open:e,onClose:()=>t(!1)})]})}const eD=pO;function tD(){const{toast:e}=Mt(),t=Rr(),[n,i]=h.useState(!1),[o,c]=h.useState("all"),{data:d=[],isLoading:m}=mt({queryKey:["/api/commands"]}),{data:g=[]}=mt({queryKey:["/api/bot-instances"]}),x=Aw({resolver:Ow(eD),defaultValues:{name:"",description:"",response:"",isActive:!0,useChatGPT:!1,botInstanceId:null}}),v=Qe({mutationFn:j=>Nt("POST","/api/commands",j),onSuccess:()=>{e({title:"Command created successfully"}),t.invalidateQueries({queryKey:["/api/commands"]}),x.reset(),i(!1)},onError:j=>{e({title:"Failed to create command",description:j instanceof Error?j.message:"Unknown error",variant:"destructive"})}}),b=Qe({mutationFn:({id:j,isActive:k})=>Nt("PATCH",`/api/commands/${j}`,{isActive:k}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/commands"]})}}),N=Qe({mutationFn:()=>Nt("POST","/api/commands/sync"),onSuccess:j=>{e({title:"Commands synced successfully",description:`${j.addedCount} new commands added`}),t.invalidateQueries({queryKey:["/api/commands"]})},onError:j=>{e({title:"Failed to sync commands",description:j instanceof Error?j.message:"Unknown error",variant:"destructive"})}}),C=Qe({mutationFn:j=>Nt("DELETE",`/api/commands/${j}`),onSuccess:()=>{e({title:"Command deleted successfully"}),t.invalidateQueries({queryKey:["/api/commands"]})},onError:()=>{e({title:"Failed to delete command",variant:"destructive"})}}),T=j=>{v.mutate(j)},w=d.filter(j=>o==="all"?!0:o==="global"?!j.botInstanceId:j.botInstanceId===o);return r.jsxs("div",{children:[r.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Commands"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage bot commands with prefix (.)"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(mr,{value:o,onValueChange:c,children:[r.jsx(or,{className:"w-48 bg-input border-border text-foreground","data-testid":"select-bot-filter",children:r.jsx(hr,{})}),r.jsxs(lr,{className:"bg-popover border-border",children:[r.jsx(Re,{value:"all",children:"All Commands"}),r.jsx(Re,{value:"global",children:"Global Commands"}),g.map(j=>r.jsx(Re,{value:j.id,children:j.name},j.id))]})]}),r.jsxs(H,{onClick:()=>N.mutate(),disabled:N.isPending,variant:"outline",className:"bg-secondary text-secondary-foreground hover:bg-secondary/90","data-testid":"button-sync-commands",children:[r.jsx("i",{className:"fas fa-sync mr-2"}),N.isPending?"Syncing...":"Sync Commands"]}),r.jsxs(er,{open:n,onOpenChange:i,children:[r.jsx(o_,{asChild:!0,children:r.jsxs(H,{className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-add-command",children:[r.jsx("i",{className:"fas fa-plus mr-2"}),"Add Command"]})}),r.jsxs(Gt,{className:"bg-card border-border max-w-2xl","data-testid":"modal-add-command",children:[r.jsx(Qt,{children:r.jsx(Ht,{className:"text-lg font-semibold text-foreground",children:"Add New Command"})}),r.jsxs("form",{onSubmit:x.handleSubmit(T),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"command-name",children:"Command Name"}),r.jsx(kt,{id:"command-name",placeholder:"help, status, info...",...x.register("name"),"data-testid":"input-command-name"}),x.formState.errors.name&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:x.formState.errors.name.message})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"bot-instance",children:"Bot Instance"}),r.jsxs(mr,{value:x.watch("botInstanceId")||"",onValueChange:j=>x.setValue("botInstanceId",j||null),children:[r.jsx(or,{"data-testid":"select-command-bot",children:r.jsx(hr,{placeholder:"Global command"})}),r.jsxs(lr,{children:[r.jsx(Re,{value:"",children:"Global command"}),g.map(j=>r.jsx(Re,{value:j.id,children:j.name},j.id))]})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"description",children:"Description"}),r.jsx(kt,{id:"description",placeholder:"What does this command do?",...x.register("description"),"data-testid":"input-command-description"}),x.formState.errors.description&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:x.formState.errors.description.message})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"response",children:"Response"}),r.jsx(ds,{id:"response",placeholder:"Static response text (leave empty if using ChatGPT)",...x.register("response"),rows:3,"data-testid":"textarea-command-response"})]}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(kn,{id:"use-chatgpt",checked:x.watch("useChatGPT")||!1,onCheckedChange:j=>x.setValue("useChatGPT",j),"data-testid":"checkbox-use-chatgpt"}),r.jsx(Te,{htmlFor:"use-chatgpt",children:"Use ChatGPT"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(kn,{id:"is-active",checked:x.watch("isActive")||!1,onCheckedChange:j=>x.setValue("isActive",j),"data-testid":"checkbox-command-active"}),r.jsx(Te,{htmlFor:"is-active",children:"Active"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(H,{type:"button",variant:"ghost",onClick:()=>i(!1),"data-testid":"button-cancel-command",children:"Cancel"}),r.jsx(H,{type:"submit",disabled:v.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-save-command",children:v.isPending?"Creating...":"Create Command"})]})]})]})]})]})]})}),r.jsx("div",{className:"p-6",children:m?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading commands..."})]}):w.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-terminal text-muted-foreground text-2xl"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Commands Found"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first command to get started"}),r.jsx(H,{onClick:()=>i(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-command",children:"Create Your First Command"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(j=>r.jsxs(de,{className:"bg-card border-border","data-testid":`command-card-${j.id}`,children:[r.jsx(Me,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("code",{className:"bg-primary/10 text-primary px-2 py-1 rounded text-sm font-mono",children:[".",j.name]}),j.useChatGPT&&r.jsxs("span",{className:"bg-purple-500/10 text-purple-400 px-2 py-1 rounded text-xs",children:[r.jsx("i",{className:"fas fa-brain mr-1"}),"GPT"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>b.mutate({id:j.id,isActive:!j.isActive}),className:`w-8 h-4 rounded-full flex items-center px-1 ${j.isActive?"bg-primary justify-end":"bg-muted justify-start"}`,"data-testid":`toggle-command-${j.id}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${j.isActive?"bg-white":"bg-muted-foreground"}`})}),r.jsx("button",{onClick:()=>C.mutate(j.id),className:"text-muted-foreground hover:text-destructive transition-colors","data-testid":`button-delete-command-${j.id}`,children:r.jsx("i",{className:"fas fa-trash text-sm"})})]})]})}),r.jsxs(fe,{children:[r.jsx("p",{className:"text-sm text-foreground mb-3","data-testid":`command-description-${j.id}`,children:j.description}),j.response&&r.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Response:"}),r.jsx("p",{className:"text-sm text-foreground","data-testid":`command-response-${j.id}`,children:j.response.length>100?`${j.response.substring(0,100)}...`:j.response})]}),j.botInstanceId&&r.jsx("div",{className:"mt-3",children:r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Bot: ",g.find(k=>k.id===j.botInstanceId)?.name||"Unknown"]})})]})]},j.id))})})]})}const sd=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:_e("w-full caption-bottom text-sm",e),...t})}));sd.displayName="Table";const ad=h.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:_e("[&_tr]:border-b",e),...t}));ad.displayName="TableHeader";const id=h.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:_e("[&_tr:last-child]:border-0",e),...t}));id.displayName="TableBody";const rD=h.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:_e("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));rD.displayName="TableFooter";const Fs=h.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:_e("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Fs.displayName="TableRow";const It=h.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:_e("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));It.displayName="TableHead";const _t=h.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:_e("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));_t.displayName="TableCell";const nD=h.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:_e("mt-4 text-sm text-muted-foreground",e),...t}));nD.displayName="TableCaption";var sD=Symbol("radix.slottable");function aD(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=sD,t}var $j="AlertDialog",[iD]=Jr($j,[fb]),us=fb(),Vj=e=>{const{__scopeAlertDialog:t,...n}=e,i=us(t);return r.jsx(yh,{...i,...n,modal:!0})};Vj.displayName=$j;var oD="AlertDialogTrigger",zj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,o=us(n);return r.jsx(Eb,{...o,...i,ref:t})});zj.displayName=oD;var lD="AlertDialogPortal",Uj=e=>{const{__scopeAlertDialog:t,...n}=e,i=us(t);return r.jsx(bh,{...i,...n})};Uj.displayName=lD;var cD="AlertDialogOverlay",qj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,o=us(n);return r.jsx(Cd,{...o,...i,ref:t})});qj.displayName=cD;var gi="AlertDialogContent",[dD,uD]=iD(gi),fD=aD("AlertDialogContent"),Wj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:i,...o}=e,c=us(n),d=h.useRef(null),m=at(t,d),g=h.useRef(null);return r.jsx(n_,{contentName:gi,titleName:Kj,docsSlug:"alert-dialog",children:r.jsx(dD,{scope:n,cancelRef:g,children:r.jsxs(kd,{role:"alertdialog",...c,...o,ref:m,onOpenAutoFocus:Fe(o.onOpenAutoFocus,x=>{x.preventDefault(),g.current?.focus({preventScroll:!0})}),onPointerDownOutside:x=>x.preventDefault(),onInteractOutside:x=>x.preventDefault(),children:[r.jsx(fD,{children:i}),r.jsx(hD,{contentRef:d})]})})})});Wj.displayName=gi;var Kj="AlertDialogTitle",Gj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,o=us(n);return r.jsx(wh,{...o,...i,ref:t})});Gj.displayName=Kj;var Qj="AlertDialogDescription",Hj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,o=us(n);return r.jsx(jh,{...o,...i,ref:t})});Hj.displayName=Qj;var mD="AlertDialogAction",Zj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,o=us(n);return r.jsx(Nh,{...o,...i,ref:t})});Zj.displayName=mD;var Yj="AlertDialogCancel",Xj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,{cancelRef:o}=uD(Yj,n),c=us(n),d=at(t,o);return r.jsx(Nh,{...c,...i,ref:d})});Xj.displayName=Yj;var hD=({contentRef:e})=>{const t=`\`${gi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${gi}\` by passing a \`${Qj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${gi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},pD=Vj,gD=zj,xD=Uj,Jj=qj,eN=Wj,tN=Zj,rN=Xj,nN=Gj,sN=Hj;const vD=pD,yD=gD,bD=xD,aN=h.forwardRef(({className:e,...t},n)=>r.jsx(Jj,{className:_e("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));aN.displayName=Jj.displayName;const iN=h.forwardRef(({className:e,...t},n)=>r.jsxs(bD,{children:[r.jsx(aN,{}),r.jsx(eN,{ref:n,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));iN.displayName=eN.displayName;const oN=({className:e,...t})=>r.jsx("div",{className:_e("flex flex-col space-y-2 text-center sm:text-left",e),...t});oN.displayName="AlertDialogHeader";const lN=({className:e,...t})=>r.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});lN.displayName="AlertDialogFooter";const cN=h.forwardRef(({className:e,...t},n)=>r.jsx(nN,{ref:n,className:_e("text-lg font-semibold",e),...t}));cN.displayName=nN.displayName;const dN=h.forwardRef(({className:e,...t},n)=>r.jsx(sN,{ref:n,className:_e("text-sm text-muted-foreground",e),...t}));dN.displayName=sN.displayName;const uN=h.forwardRef(({className:e,...t},n)=>r.jsx(tN,{ref:n,className:_e(mh(),e),...t}));uN.displayName=tN.displayName;const fN=h.forwardRef(({className:e,...t},n)=>r.jsx(rN,{ref:n,className:_e(mh({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));fN.displayName=rN.displayName;function mN({open:e,onClose:t}){const{toast:n}=Mt(),i=Rr(),[o,c]=h.useState(""),[d,m]=h.useState({serverUrl:"",adminToken:""}),[g,x]=h.useState(null),[v,b]=h.useState(!1),[N,C]=h.useState(null),[T,w]=h.useState("1"),[j,k]=h.useState(""),[_,F]=h.useState("all"),[I,M]=h.useState("all"),[Z,q]=h.useState("all"),[J,U]=h.useState("name"),[re,me]=h.useState("asc"),[te,he]=h.useState([]),[ne,we]=h.useState(!1),[E,K]=h.useState(null),[V,Y]=h.useState(""),[se,A]=h.useState(!1),[R,D]=h.useState(""),[z,ae]=h.useState(!1),{data:pe=[],isLoading:ie}=mt({queryKey:["/api/master/tenancies"],enabled:e}),{data:ce=[],isLoading:Ae,refetch:Ue}=mt({queryKey:["/api/master/cross-tenancy-bots"],enabled:e,refetchInterval:1e4}),{data:ct=[],isLoading:pt}=mt({queryKey:["/api/servers/list"],enabled:e,refetchInterval:15e3}),{data:Ft=[],isLoading:gr}=mt({queryKey:["/api/master/approved-bots"],enabled:e,refetchInterval:1e4}),qt=ce.filter(P=>{const oe=j===""||P.name.toLowerCase().includes(j.toLowerCase())||P.phoneNumber.includes(j)||P.tenancy.toLowerCase().includes(j.toLowerCase()),Pe=_==="all"||P.status===_,qe=I==="all"||P.tenancy===I,dt=Z==="all"||P.approvalStatus===Z;return oe&&Pe&&qe&&dt}).sort((P,oe)=>{let Pe,qe;switch(J){case"name":Pe=P.name.toLowerCase(),qe=oe.name.toLowerCase();break;case"phoneNumber":Pe=P.phoneNumber,qe=oe.phoneNumber;break;case"server":Pe=P.tenancy,qe=oe.tenancy;break;case"status":Pe=P.status,qe=oe.status;break;case"lastActivity":Pe=new Date(P.lastActivity||0),qe=new Date(oe.lastActivity||0);break;default:Pe=P.name,qe=oe.name}return Pe<qe?re==="asc"?-1:1:Pe>qe?re==="asc"?1:-1:0}),Lt={totalBots:ce.length,onlineBots:ce.filter(P=>P.status==="online").length,pendingBots:ce.filter(P=>P.approvalStatus==="pending").length,approvedBots:ce.filter(P=>P.approvalStatus==="approved").length,serverDistribution:ce.reduce((P,oe)=>(P[oe.tenancy]=(P[oe.tenancy]||0)+1,P),{}),statusDistribution:ce.reduce((P,oe)=>(P[oe.status]=(P[oe.status]||0)+1,P),{})};Qe({mutationFn:async P=>(console.log(`Attempting to connect to ${P.tenancy} via God Registry`),{success:!0,message:`Connected to ${P.tenancy} via God Registry`}),onSuccess:()=>{n({title:"Success",description:"Successfully connected to tenancy server"}),i.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:P=>{n({title:"Connection Failed",description:P.message,variant:"destructive"})}});const Ar=Qe({mutationFn:async P=>await(await Nt("POST","/api/master/migrate-bot",P)).json(),onSuccess:()=>{n({title:"Bot Migration Successful",description:"Bot has been migrated to the target server"}),we(!1),K(null),i.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:P=>{n({title:"Migration Failed",description:P.message,variant:"destructive"})}}),fs=Qe({mutationFn:async P=>await(await Nt("POST","/api/master/batch-operation",P)).json(),onSuccess:P=>{n({title:"Batch Operation Successful",description:`${P.completedCount} of ${P.totalCount} operations completed successfully`}),A(!1),he([]),i.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:P=>{n({title:"Batch Operation Failed",description:P.message,variant:"destructive"})}}),Bt=Qe({mutationFn:async({action:P,botId:oe,tenancy:Pe,data:qe})=>(await Nt("POST","/api/master/bot-action",{action:P,botId:oe,tenancy:Pe,data:qe})).json(),onSuccess:(P,oe)=>{n({title:"Success",description:`Successfully ${oe.action}d bot`}),i.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:P=>{n({title:"Action Failed",description:P.message,variant:"destructive"})}}),L=Qe({mutationFn:async({action:P,botId:oe,tenancy:Pe,feature:qe,enabled:dt})=>(await Nt("POST","/api/master/feature-management",{action:P,botId:oe,tenancy:Pe,feature:qe,enabled:dt})).json(),onSuccess:()=>{n({title:"Feature Updated",description:"Bot feature settings updated successfully"}),i.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:P=>{n({title:"Feature Update Failed",description:P.message,variant:"destructive"})}}),G=Qe({mutationFn:async({sourceServer:P,targetServers:oe,commandIds:Pe})=>(await Nt("POST","/api/master/sync-commands",{sourceServer:P,targetServers:oe,commandIds:Pe})).json(),onSuccess:()=>{n({title:"Commands Synced",description:"Commands successfully synced across selected tenancies"})},onError:P=>{n({title:"Command Sync Failed",description:P.message,variant:"destructive"})}}),ee=(P,oe,Pe,qe)=>{Bt.mutate({action:P,botId:oe,tenancy:Pe,data:qe})},Ne=(P,oe,Pe,qe)=>{L.mutate({action:"toggle_feature",botId:P,tenancy:oe,feature:Pe,enabled:qe})},je=()=>{if(N&&T){const P=parseInt(T,10);if(isNaN(P)||P<1||P>12){n({title:"Invalid Duration",description:"Approval duration must be between 1 and 12 months",variant:"destructive"});return}ee("approve",N.id,N.tenancy,{duration:P}),b(!1),C(null)}},ve=P=>{const oe={online:"bg-green-500",offline:"bg-gray-500",pending:"bg-yellow-500",approved:"bg-blue-500",rejected:"bg-red-500",dormant:"bg-purple-500"};return r.jsx(Je,{className:`${oe[P]||"bg-gray-500"} text-white`,children:P})};return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Gt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Qt,{children:r.jsx(Ht,{className:"text-2xl font-bold text-center",children:" Master Control Panel"})}),r.jsxs(Fi,{defaultValue:"overview",className:"w-full",children:[r.jsxs(Ca,{className:"grid w-full grid-cols-6",children:[r.jsx(St,{value:"overview",children:"Overview"}),r.jsx(St,{value:"servers",children:"Servers"}),r.jsx(St,{value:"bots",children:"Bot Management"}),r.jsx(St,{value:"features",children:"Features"}),r.jsx(St,{value:"credentials",children:"Credentials"}),r.jsx(St,{value:"bulk",children:"Bulk Actions"})]}),r.jsxs(xt,{value:"overview",className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-6 mb-6 dark:from-blue-900/20 dark:to-purple-900/20 dark:border-blue-800",children:[r.jsx("h3",{className:"text-xl font-bold text-blue-800 dark:text-blue-200 mb-2 flex items-center gap-2",children:" Master Control Dashboard"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-4",children:"Complete control over all server tenancies and bot containers in the TREKKER-MD ecosystem"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:pe.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Tenancies"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ce.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Bots"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:ce.filter(P=>P.approvalStatus==="pending").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Approval"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:ce.filter(P=>P.status==="online").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Online Bots"})]})]})]}),r.jsxs(de,{children:[r.jsx(Me,{children:r.jsxs($e,{className:"flex items-center gap-2",children:[" Real-time System Status",r.jsx(Je,{variant:"outline",className:"ml-auto",children:"Live"})]})}),r.jsx(fe,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Tenancy Distribution"}),r.jsx("div",{className:"space-y-2",children:pe.map(P=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"font-medium",children:P.name})]}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[P.botCount," bots"]})]},P.name))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Bot Status Summary"}),r.jsx("div",{className:"space-y-2",children:[{status:"online",count:ce.filter(P=>P.status==="online").length,color:"bg-green-500"},{status:"offline",count:ce.filter(P=>P.status==="offline").length,color:"bg-gray-500"},{status:"pending",count:ce.filter(P=>P.approvalStatus==="pending").length,color:"bg-yellow-500"},{status:"error",count:ce.filter(P=>P.status==="error").length,color:"bg-red-500"}].map(P=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 ${P.color} rounded-full`}),r.jsx("span",{className:"capitalize",children:P.status})]}),r.jsx("span",{className:"text-sm text-muted-foreground",children:P.count})]},P.status))})]})]})})]})]}),r.jsx(xt,{value:"servers",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsx($e,{className:"text-blue-600",children:" Server Tenancy Management"}),r.jsx(Ye,{children:"Monitor and control all server instances and their bot containers"})]}),r.jsx(fe,{children:pt?r.jsx("div",{className:"text-center py-8",children:"Loading server information..."}):r.jsx("div",{className:"space-y-4",children:ct.slice(0,20).map(P=>r.jsx(de,{className:"border-l-4 border-l-blue-500",children:r.jsxs(fe,{className:"pt-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-bold text-lg flex items-center gap-2",children:[" ",P.name,P.status==="active"?r.jsx(Je,{className:"bg-green-500 text-white",children:"Active"}):r.jsx(Je,{className:"bg-gray-500 text-white",children:"Available"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:P.description||"Server instance ready for bot deployment"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:P.currentBots}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Bots"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:P.remainingBots}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Available Slots"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg font-medium",children:[Math.round(P.currentBots/P.totalBots*100),"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Capacity Used"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:Math.round(P.currentBots/P.totalBots*100)+"%"}})})]})]}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>{fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:P.name,description:`Switched to ${P.name} for administration`})}).then(()=>{n({title:"Server Switched",description:`Successfully switched to ${P.name}`}),Ue()})},"data-testid":`button-switch-to-${P.name}`,children:" Switch To"}),r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>{const oe=ce.filter(Pe=>Pe.tenancy===P.name);n({title:"Server Bots",description:`${P.name} has ${oe.length} bots registered`})},children:[" View Bots (",ce.filter(oe=>oe.tenancy===P.name).length,")"]})]})]})},P.name))})})]})}),r.jsx(xt,{value:"tenancies",className:"space-y-4",children:r.jsx("div",{className:"grid gap-4",children:pe.map(P=>r.jsxs(de,{children:[r.jsx(Me,{children:r.jsxs($e,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[P.name,ve(P.status||"unknown")]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>ee("sync","",P.name),disabled:Bt.isPending,children:"Sync"}),r.jsx(H,{size:"sm",variant:"destructive",onClick:()=>ee("disconnect","",P.name),disabled:Bt.isPending,children:"Disconnect"})]})]})}),r.jsx(fe,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Server URL"}),r.jsx(kt,{value:P.url,readOnly:!0})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Bot Count"}),r.jsx(kt,{value:P.botCount.toString(),readOnly:!0})]})]})})]},P.name))})}),r.jsxs(xt,{value:"bots",className:"space-y-4",children:[r.jsxs(de,{className:"border-l-4 border-l-purple-500",children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(Dc,{className:"h-5 w-5"}),"Advanced Bot Search & Filtering"]}),r.jsx(Ye,{children:"Search and filter bots across all server tenancies with real-time results"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Dc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),r.jsx(kt,{placeholder:"Search by bot name, phone number, or server...",value:j,onChange:P=>k(P.target.value),className:"pl-10","data-testid":"input-search-bots"})]}),r.jsx(H,{variant:"outline",onClick:()=>{k(""),F("all"),M("all"),q("all")},"data-testid":"button-clear-filters",children:"Clear"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-sm font-medium",children:"Status Filter"}),r.jsxs(mr,{value:_,onValueChange:F,children:[r.jsx(or,{"data-testid":"select-status-filter",children:r.jsx(hr,{})}),r.jsxs(lr,{children:[r.jsxs(Re,{value:"all",children:["All Status (",Lt.totalBots,")"]}),r.jsxs(Re,{value:"online",children:["Online (",Lt.onlineBots,")"]}),r.jsxs(Re,{value:"offline",children:["Offline (",Lt.totalBots-Lt.onlineBots,")"]}),r.jsx(Re,{value:"loading",children:"Loading"}),r.jsx(Re,{value:"error",children:"Error"})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{className:"text-sm font-medium",children:"Server Filter"}),r.jsxs(mr,{value:I,onValueChange:M,children:[r.jsx(or,{"data-testid":"select-server-filter",children:r.jsx(hr,{})}),r.jsxs(lr,{children:[r.jsx(Re,{value:"all",children:"All Servers"}),Object.entries(Lt.serverDistribution).map(([P,oe])=>r.jsxs(Re,{value:P,children:[P," (",oe,")"]},P))]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{className:"text-sm font-medium",children:"Approval Status"}),r.jsxs(mr,{value:Z,onValueChange:q,children:[r.jsx(or,{"data-testid":"select-approval-filter",children:r.jsx(hr,{})}),r.jsxs(lr,{children:[r.jsxs(Re,{value:"all",children:["All (",Lt.totalBots,")"]}),r.jsxs(Re,{value:"approved",children:["Approved (",Lt.approvedBots,")"]}),r.jsxs(Re,{value:"pending",children:["Pending (",Lt.pendingBots,")"]}),r.jsx(Re,{value:"rejected",children:"Rejected"})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{className:"text-sm font-medium",children:"Sort By"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsxs(mr,{value:J,onValueChange:U,children:[r.jsx(or,{"data-testid":"select-sort-by",children:r.jsx(hr,{})}),r.jsxs(lr,{children:[r.jsx(Re,{value:"name",children:"Name"}),r.jsx(Re,{value:"phoneNumber",children:"Phone"}),r.jsx(Re,{value:"server",children:"Server"}),r.jsx(Re,{value:"status",children:"Status"}),r.jsx(Re,{value:"lastActivity",children:"Activity"})]})]}),r.jsx(H,{variant:"outline",size:"sm",onClick:()=>me(re==="asc"?"desc":"asc"),"data-testid":"button-sort-order",children:re==="asc"?"":""})]})]})]}),r.jsx("div",{className:"bg-muted rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsxs("span",{className:"font-medium",children:["Results: ",qt.length," of ",Lt.totalBots," bots"]}),r.jsxs(Je,{variant:"outline",children:[qt.filter(P=>P.status==="online").length," online"]}),r.jsxs(Je,{variant:"outline",children:[qt.filter(P=>P.approvalStatus==="pending").length," pending"]}),r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>Ue(),disabled:Ae,className:"ml-auto","data-testid":"button-refresh-data",children:[r.jsx(Xm,{className:"h-3 w-3 mr-1"}),Ae?"Refreshing...":"Refresh"]})]})})]})]}),r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsx($e,{className:"text-purple-600",children:" Complete Bot Registry"}),r.jsx(Ye,{children:"All bots across all server tenancies with individual container controls"})]}),r.jsx(fe,{children:Ae?r.jsx("div",{className:"text-center py-8",children:"Loading bot registry..."}):r.jsxs(sd,{children:[r.jsx(ad,{children:r.jsxs(Fs,{children:[r.jsx(It,{children:"Bot Details"}),r.jsx(It,{children:"Server"}),r.jsx(It,{children:"Status"}),r.jsx(It,{children:"Approval"}),r.jsx(It,{children:"Features"}),r.jsx(It,{children:"Stats"}),r.jsx(It,{children:"Container Actions"})]})}),r.jsx(id,{children:qt.length===0?r.jsx(Fs,{children:r.jsx(_t,{colSpan:7,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Dc,{className:"h-8 w-8 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"No bots match your current filters"}),r.jsx(H,{variant:"outline",size:"sm",onClick:()=>{k(""),F("all"),M("all"),q("all")},children:"Clear all filters"})]})})}):qt.map(P=>r.jsxs(Fs,{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[r.jsx(_t,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:P.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:P.phoneNumber})]})}),r.jsx(_t,{children:r.jsx(Je,{variant:P.tenancy==="default-server"?"default":"outline",children:P.tenancy})}),r.jsx(_t,{children:r.jsxs("div",{className:"space-y-1",children:[ve(P.status),P.approvalStatus&&r.jsx("div",{children:ve(P.approvalStatus)})]})}),r.jsx(_t,{children:P.approvalStatus==="pending"?r.jsxs("div",{className:"flex gap-1",children:[r.jsx(H,{size:"sm",variant:"default",onClick:()=>{C(P),b(!0)},disabled:Bt.isPending,"data-testid":`button-approve-${P.id}`,children:" Approve"}),r.jsx(H,{size:"sm",variant:"destructive",onClick:()=>ee("reject",P.id,P.tenancy),disabled:Bt.isPending,"data-testid":`button-reject-${P.id}`,children:""})]}):P.approvalStatus==="approved"?r.jsxs("div",{className:"text-xs text-green-600",children:[" Approved",P.expirationMonths&&r.jsxs("div",{children:["(",P.expirationMonths,"mo)"]})]}):r.jsx(H,{size:"sm",variant:"outline",onClick:()=>ee("revoke",P.id,P.tenancy),disabled:Bt.isPending,"data-testid":`button-revoke-${P.id}`,children:" Revoke Approval"})}),r.jsx(_t,{children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsxs(Je,{variant:P.autoLike?"default":"outline",className:"text-xs",children:[" ",P.autoLike?"ON":"OFF"]}),r.jsxs(Je,{variant:P.chatgptEnabled?"default":"outline",className:"text-xs",children:[" ",P.chatgptEnabled?"ON":"OFF"]})]})}),r.jsx(_t,{children:r.jsxs("div",{className:"text-xs space-y-1",children:[r.jsxs("div",{children:["Msgs: ",P.messagesCount||0]}),r.jsxs("div",{children:["Cmds: ",P.commandsCount||0]})]})}),r.jsx(_t,{children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>ee(P.status==="online"?"stop":"start",P.id,P.serverName||P.tenancy||"default-server"),disabled:Bt.isPending,"data-testid":`button-${P.status==="online"?"stop":"start"}-${P.id}`,children:P.status==="online"?"":""}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>Ne(P.id,P.tenancy,"autoLike",!P.autoLike),disabled:L.isPending,children:""}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>{K(P),we(!0)},disabled:Bt.isPending,"data-testid":`button-migrate-${P.id}`,title:"Migrate to another server",children:r.jsx(Io,{className:"h-3 w-3"})}),r.jsx(H,{size:"sm",variant:"destructive",onClick:()=>ee("delete",P.id,P.tenancy),disabled:Bt.isPending,"data-testid":`button-delete-${P.id}`,children:""})]})})]},`${P.tenancy}-${P.id}`))})]})})]}),r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsx($e,{className:"text-green-600",children:" Approved & Active Bots"}),r.jsx(Ye,{children:"Currently approved and active bots across all tenancies"})]}),r.jsx(fe,{children:gr?r.jsx("div",{className:"text-center py-8",children:"Loading approved bots..."}):r.jsxs(sd,{children:[r.jsx(ad,{children:r.jsxs(Fs,{children:[r.jsx(It,{children:"Bot Name"}),r.jsx(It,{children:"Phone Number"}),r.jsx(It,{children:"Tenancy"}),r.jsx(It,{children:"Status"}),r.jsx(It,{children:"Approval Date"}),r.jsx(It,{children:"Last Activity"}),r.jsx(It,{children:"Actions"})]})}),r.jsx(id,{children:Ft.map(P=>r.jsxs(Fs,{children:[r.jsx(_t,{className:"font-medium",children:P.name}),r.jsx(_t,{children:P.phoneNumber}),r.jsx(_t,{children:r.jsx(Je,{variant:"outline",children:P.serverName})}),r.jsx(_t,{children:ve(P.status)}),r.jsx(_t,{className:"text-sm text-muted-foreground",children:P.approvalDate?new Date(P.approvalDate).toLocaleDateString():"N/A"}),r.jsx(_t,{className:"text-sm text-muted-foreground",children:new Date(P.updatedAt||P.createdAt).toLocaleDateString()}),r.jsx(_t,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>ee(P.status==="online"?"stop":"start",P.id,P.serverName||P.tenancy||"default-server"),disabled:Bt.isPending,"data-testid":`button-${P.status==="online"?"stop":"start"}-${P.id}`,children:P.status==="online"?" Stop":" Start"}),r.jsx(H,{size:"sm",variant:"destructive",onClick:()=>ee("delete",P.id,P.tenancy),disabled:Bt.isPending,"data-testid":`button-delete-approved-${P.id}`,children:" Delete"})]})})]},`approved-${P.serverName}-${P.id}`))})]})})]})]}),r.jsx(xt,{value:"features",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsx($e,{className:"text-purple-600",children:" Cross-Tenancy Feature Control"}),r.jsx(Ye,{children:"Manage bot features across all tenancies from this central panel"})]}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800",children:[r.jsx("h4",{className:"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center gap-2",children:" Global Feature Management"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"autoLike",label:"Auto Like",icon:"",description:"Automatically like status updates"},{key:"autoReact",label:"Auto React",icon:"",description:"Automatically react to messages"},{key:"autoView",label:"Auto View",icon:"",description:"Automatically view status updates"},{key:"chatGPT",label:"ChatGPT",icon:"",description:"Enable AI chat responses"},{key:"typingIndicator",label:"Typing",icon:"",description:"Show typing indicators"},{key:"readReceipts",label:"Read Receipts",icon:"",description:"Send read receipts"}].map(P=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-lg",children:P.icon}),r.jsx("span",{className:"font-medium text-sm",children:P.label})]}),r.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:P.description}),r.jsx("div",{className:"space-y-2",children:pe.map(oe=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs",children:oe.name}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>Ne("",oe.name,P.key,!0),className:"h-6 px-2 text-xs",disabled:L.isPending,children:"Toggle"})]},oe.name))})]},P.key))})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:" Individual Bot Feature Control"}),r.jsx("div",{className:"space-y-4",children:ce.filter(P=>P.approvalStatus==="approved").map(P=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium",children:P.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.phoneNumber,"  ",P.tenancy]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[ve(P.status),r.jsx(Je,{variant:"outline",children:P.tenancy})]})]}),r.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:[{key:"autoLike",label:"Like",icon:""},{key:"autoReact",label:"React",icon:""},{key:"autoView",label:"View",icon:""},{key:"chatGPT",label:"AI",icon:""},{key:"typing",label:"Type",icon:""},{key:"receipts",label:"Read",icon:""}].map(oe=>r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>Ne(P.id,P.tenancy,oe.key,!0),className:"flex flex-col items-center gap-1 h-auto py-2",disabled:L.isPending,children:[r.jsx("span",{className:"text-sm",children:oe.icon}),r.jsx("span",{className:"text-xs",children:oe.label})]},oe.key))})]},`${P.tenancy}-${P.id}`))})]}),r.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 dark:bg-emerald-900/20 dark:border-emerald-800",children:[r.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-3 flex items-center gap-2",children:" Command Sync Across Tenancies"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Source Server"}),r.jsxs("select",{className:"w-full p-2 border rounded-md bg-white dark:bg-gray-800",children:[r.jsx("option",{value:"",children:"Select source server..."}),pe.map(P=>r.jsx("option",{value:P.name,children:P.name},P.name))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Target Servers"}),r.jsx("div",{className:"space-y-2",children:pe.map(P=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:`target-${P.name}`,className:"rounded"}),r.jsx("label",{htmlFor:`target-${P.name}`,className:"text-sm",children:P.name})]},P.name))})]})]}),r.jsx(H,{className:"w-full mt-4 bg-emerald-600 hover:bg-emerald-700",disabled:G.isPending,children:" Sync Selected Commands"})]})]})]})}),r.jsx(xt,{value:"credentials",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsx($e,{className:"text-purple-600",children:" Credential Management"}),r.jsx(Ye,{children:"Credential updates removed - credentials can only be set during bot pairing process"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:" Credential Security Policy"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-3",children:"For security reasons, bot credentials can only be set during the initial pairing process through:"}),r.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1 ml-4",children:[r.jsx("li",{children:" Landing page Step 1 (Get Session ID)"}),r.jsx("li",{children:" WhatsApp .pair command"})]}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-3",children:"If credentials are invalid, please register a new bot or contact admin support."})]})})]})}),r.jsx(xt,{value:"bulk",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsx($e,{className:"text-red-600",children:" Bulk Operations"}),r.jsx(Ye,{children:"Perform actions on multiple bots across all server tenancies"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 dark:bg-red-900/20 dark:border-red-800",children:[r.jsx("h4",{className:"font-medium text-red-800 dark:text-red-200 mb-3",children:" Bulk Bot Selection"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>{const P=ce.map(oe=>`${oe.tenancy}-${oe.id}`);he(P)},children:[" Select All (",ce.length,")"]}),r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>{const P=ce.filter(oe=>oe.approvalStatus==="pending").map(oe=>`${oe.tenancy}-${oe.id}`);he(P)},children:[" Select Pending (",ce.filter(P=>P.approvalStatus==="pending").length,")"]}),r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>{const P=ce.filter(oe=>oe.status==="online").map(oe=>`${oe.tenancy}-${oe.id}`);he(P)},children:[" Select Online (",ce.filter(P=>P.status==="online").length,")"]}),r.jsx(H,{size:"sm",variant:"destructive",onClick:()=>he([]),children:" Clear Selection"})]}),r.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["Selected: ",te.length," bots"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(de,{className:"border-l-4 border-l-green-500",children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("h4",{className:"font-medium text-green-600 mb-3",children:" Bulk Approve"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Approve all selected pending bots"}),r.jsx(H,{size:"sm",variant:"default",className:"w-full",disabled:te.length===0,onClick:()=>{te.forEach(P=>{const[oe,Pe]=P.split("-"),qe=ce.find(dt=>dt.tenancy===oe&&dt.id===Pe);qe&&qe.approvalStatus==="pending"&&ee("approve",Pe,oe,{duration:6})}),n({title:"Bulk Approval",description:`Processing approval for ${te.length} bots`})},children:"Approve Selected"})]})}),r.jsx(de,{className:"border-l-4 border-l-blue-500",children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("h4",{className:"font-medium text-blue-600 mb-3",children:" Bulk Start"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Start all selected offline bots"}),r.jsx(H,{size:"sm",variant:"outline",className:"w-full",disabled:te.length===0,onClick:()=>{te.forEach(P=>{const[oe,Pe]=P.split("-"),qe=ce.find(dt=>dt.tenancy===oe&&dt.id===Pe);qe&&qe.status==="offline"&&ee("start",Pe,oe)}),n({title:"Bulk Start",description:`Starting ${te.length} bots`})},children:"Start Selected"})]})}),r.jsx(de,{className:"border-l-4 border-l-orange-500",children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("h4",{className:"font-medium text-orange-600 mb-3",children:" Bulk Stop"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Stop all selected online bots"}),r.jsx(H,{size:"sm",variant:"outline",className:"w-full",disabled:te.length===0,onClick:()=>{te.forEach(P=>{const[oe,Pe]=P.split("-"),qe=ce.find(dt=>dt.tenancy===oe&&dt.id===Pe);qe&&qe.status==="online"&&ee("stop",Pe,oe)}),n({title:"Bulk Stop",description:`Stopping ${te.length} bots`})},children:"Stop Selected"})]})}),r.jsx(de,{className:"border-l-4 border-l-purple-500",children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("h4",{className:"font-medium text-purple-600 mb-3",children:" Bulk Features"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Enable features for selected bots"}),r.jsx(H,{size:"sm",variant:"outline",className:"w-full",disabled:te.length===0,onClick:()=>{te.forEach(P=>{const[oe,Pe]=P.split("-");Ne(Pe,oe,"autoLike",!0)}),n({title:"Bulk Feature Update",description:`Enabling features for ${te.length} bots`})},children:"Enable Auto-Like"})]})})]})]})})]})}),r.jsx(xt,{value:"connect",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsx($e,{children:"God Registry Information"}),r.jsx(Ye,{children:"Cross-tenancy management is powered by the God Registry table"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:" How Cross-Tenancy Works:"}),r.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[r.jsx("li",{children:" All bot registrations are stored in the God Registry table"}),r.jsx("li",{children:" Each entry contains phone number and tenancy name (SERVER1, SERVER2, etc.)"}),r.jsx("li",{children:" Master control can see and manage bots across all tenancies"}),r.jsx("li",{children:" Local tenancy bots show full details, remote ones show registry info"}),r.jsx("li",{children:" Actions on local tenancy bots are executed directly"}),r.jsx("li",{children:" Actions on remote tenancy bots are logged for coordination"})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:" Current Setup:"}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[r.jsxs("li",{children:[" Current Server: ","SERVER1"]}),r.jsx("li",{children:" God Registry: Active and monitoring all tenancies"}),r.jsx("li",{children:" Cross-tenancy actions: Logged and tracked"}),r.jsx("li",{children:" Data isolation: Each tenancy maintains its own bot data"})]})]}),r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No additional setup required - God Registry manages everything automatically"})})]})]})})]}),v&&N&&r.jsx(er,{open:v,onOpenChange:()=>{b(!1),C(null)},children:r.jsxs(Gt,{className:"max-w-md",children:[r.jsx(Qt,{children:r.jsx(Ht,{className:"text-center flex items-center justify-center gap-2",children:" Cross-Server Bot Approval"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot Details"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Name:"})," ",N.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Phone:"})," ",N.phoneNumber]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Server:"})," ",N.tenancy]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Current Status:"})," ",N.approvalStatus]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"approval-duration",children:"Approval Duration"}),r.jsxs(mr,{value:T,onValueChange:w,children:[r.jsx(or,{"data-testid":"select-approval-duration",children:r.jsx(hr,{placeholder:"Select approval duration"})}),r.jsxs(lr,{children:[r.jsx(Re,{value:"1",children:"1 Month"}),r.jsx(Re,{value:"2",children:"2 Months"}),r.jsx(Re,{value:"3",children:"3 Months (Recommended)"}),r.jsx(Re,{value:"6",children:"6 Months"}),r.jsx(Re,{value:"9",children:"9 Months"}),r.jsx(Re,{value:"12",children:"12 Months"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bot will be automatically deactivated after this period unless renewed."})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 dark:bg-yellow-900/20 dark:border-yellow-800",children:r.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:[r.jsx("strong",{children:"Cross-Server Approval:"})," This bot is located on ",N.tenancy," server. The approval will be coordinated through the God Registry system."]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{onClick:je,disabled:Bt.isPending,className:"flex-1 bg-green-600 hover:bg-green-700","data-testid":"button-confirm-approval",children:Bt.isPending?r.jsx(r.Fragment,{children:" Processing..."}):r.jsxs(r.Fragment,{children:[" Approve for ",T," Month",parseInt(T)>1?"s":""]})}),r.jsx(H,{variant:"outline",onClick:()=>{b(!1),C(null)},disabled:Bt.isPending,"data-testid":"button-cancel-approval",children:"Cancel"})]})]})]})}),ne&&E&&r.jsx(er,{open:ne,onOpenChange:we,children:r.jsxs(Gt,{className:"max-w-md",children:[r.jsx(Qt,{children:r.jsxs(Ht,{className:"flex items-center gap-2",children:[r.jsx(Io,{className:"h-5 w-5 text-blue-600"}),"Cross-Server Bot Migration"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot to Migrate"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Name:"})," ",E.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Phone:"})," ",E.phoneNumber]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Current Server:"})," ",E.tenancy]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"target-server",children:"Target Server"}),r.jsxs(mr,{value:V,onValueChange:Y,children:[r.jsx(or,{"data-testid":"select-target-server",children:r.jsx(hr,{placeholder:"Select destination server"})}),r.jsx(lr,{children:Object.keys(Lt.serverDistribution).filter(P=>P!==E.tenancy).map(P=>r.jsxs(Re,{value:P,children:[P," (",Lt.serverDistribution[P]," bots)"]},P))})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 dark:bg-yellow-900/20 dark:border-yellow-800",children:r.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:[r.jsx("strong",{children:"Migration Process:"})," Bot will be safely transferred with all data and credentials. This process maintains data integrity and bot functionality."]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{onClick:()=>{if(!V){n({title:"Target Required",description:"Please select a target server",variant:"destructive"});return}if(V===E.tenancy){n({title:"Invalid Target",description:"Target server must be different from source server",variant:"destructive"});return}Ar.mutate({botId:E.id,sourceServer:E.tenancy,targetServer:V})},disabled:Ar.isPending||!V,className:"flex-1 bg-blue-600 hover:bg-blue-700","data-testid":"button-confirm-migration",children:Ar.isPending?r.jsx(r.Fragment,{children:" Migrating..."}):r.jsx(r.Fragment,{children:" Migrate Bot"})}),r.jsx(H,{variant:"outline",onClick:()=>{we(!1),K(null),Y("")},disabled:Ar.isPending,children:"Cancel"})]})]})]})}),se&&r.jsx(er,{open:se,onOpenChange:A,children:r.jsxs(Gt,{className:"max-w-lg",children:[r.jsx(Qt,{children:r.jsxs(Ht,{className:"flex items-center gap-2",children:[r.jsx(b2,{className:"h-5 w-5 text-purple-600"}),"Batch Bot Operations"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800",children:[r.jsxs("h4",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:["Selected Bots (",te.length,")"]}),r.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 text-sm",children:te.map(P=>{const[oe,Pe]=P.split("-"),qe=qt.find(dt=>dt.tenancy===oe&&dt.id===Pe);return qe?r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:qe.name}),r.jsx("span",{className:"text-muted-foreground",children:qe.tenancy})]},P):null})})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"batch-operation",children:"Operation Type"}),r.jsxs(mr,{value:R,onValueChange:D,children:[r.jsx(or,{"data-testid":"select-batch-operation",children:r.jsx(hr,{placeholder:"Select batch operation"})}),r.jsxs(lr,{children:[r.jsx(Re,{value:"start",children:"Start All Selected Bots"}),r.jsx(Re,{value:"stop",children:"Stop All Selected Bots"}),r.jsx(Re,{value:"restart",children:"Restart All Selected Bots"}),r.jsx(Re,{value:"approve",children:"Bulk Approve (Pending Bots Only)"}),r.jsx(Re,{value:"feature-toggle",children:"Enable/Disable Feature"})]})]})]}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 dark:bg-red-900/20 dark:border-red-800",children:r.jsxs("p",{className:"text-xs text-red-700 dark:text-red-300",children:[r.jsx("strong",{children:"Batch Operations:"})," This will apply the selected operation to all ",te.length,"selected bots simultaneously. This action affects multiple servers and cannot be undone."]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{onClick:()=>{if(!R){n({title:"Operation Required",description:"Please select a batch operation",variant:"destructive"});return}fs.mutate({operation:R,botIds:te})},disabled:fs.isPending||!R||te.length===0,className:"flex-1 bg-purple-600 hover:bg-purple-700","data-testid":"button-execute-batch",children:fs.isPending?r.jsx(r.Fragment,{children:" Processing..."}):r.jsx(r.Fragment,{children:" Execute Batch Operation"})}),r.jsx(H,{variant:"outline",onClick:()=>{A(!1),D("")},disabled:fs.isPending,children:"Cancel"})]})]})]})}),z&&r.jsx(er,{open:z,onOpenChange:ae,children:r.jsxs(Gt,{className:"max-w-4xl",children:[r.jsx(Qt,{children:r.jsxs(Ht,{className:"flex items-center gap-2",children:[r.jsx(ci,{className:"h-5 w-5 text-green-600"}),"Cross-Server Health Monitor"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(de,{className:"border-green-200",children:r.jsx(fe,{className:"pt-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Healthy Bots"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:qt.filter(P=>P.status==="online").length})]}),r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"})]})})}),r.jsx(de,{className:"border-yellow-200",children:r.jsx(fe,{className:"pt-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Warning Status"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:qt.filter(P=>P.status==="loading").length})]}),r.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"})]})})}),r.jsx(de,{className:"border-red-200",children:r.jsx(fe,{className:"pt-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Critical Issues"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:qt.filter(P=>P.status==="error"||P.status==="offline").length})]}),r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"})]})})})]}),r.jsxs(de,{children:[r.jsx(Me,{children:r.jsx($e,{className:"text-sm font-medium",children:"Server Health Status"})}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-3",children:Object.entries(Lt.serverDistribution).map(([P,oe])=>{const qe=qt.filter(Xs=>Xs.tenancy===P).filter(Xs=>Xs.status==="online").length,dt=Math.round(qe/oe*100)||0,dr=dt>=80?"text-green-600":dt>=60?"text-yellow-600":"text-red-600";return r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${dt>=80?"bg-green-500":dt>=60?"bg-yellow-500":"bg-red-500"}`}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:P}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[qe,"/",oe," bots online"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:`font-bold ${dr}`,children:[dt,"%"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Health Score"})]})]},P)})})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(H,{variant:"outline",onClick:()=>ae(!1),children:"Close Monitor"})})]})]})})]})})}const wD=al("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Vr=h.forwardRef(({className:e,variant:t,...n},i)=>r.jsx("div",{ref:i,role:"alert",className:_e(wD({variant:t}),e),...n}));Vr.displayName="Alert";const jD=h.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:_e("mb-1 font-medium leading-none tracking-tight",e),...t}));jD.displayName="AlertTitle";const zr=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:_e("text-sm [&_p]:leading-relaxed",e),...t}));zr.displayName="AlertDescription";var uy=1,ND=.9,SD=.8,CD=.17,rm=.1,nm=.999,kD=.9999,PD=.99,ED=/[\\\/_+.#"@\[\(\{&]/,TD=/[\\\/_+.#"@\[\(\{&]/g,_D=/[\s-]/,hN=/[\s-]/g;function Bm(e,t,n,i,o,c,d){if(c===t.length)return o===e.length?uy:PD;var m=`${o},${c}`;if(d[m]!==void 0)return d[m];for(var g=i.charAt(c),x=n.indexOf(g,o),v=0,b,N,C,T;x>=0;)b=Bm(e,t,n,i,x+1,c+1,d),b>v&&(x===o?b*=uy:ED.test(e.charAt(x-1))?(b*=SD,C=e.slice(o,x-1).match(TD),C&&o>0&&(b*=Math.pow(nm,C.length))):_D.test(e.charAt(x-1))?(b*=ND,T=e.slice(o,x-1).match(hN),T&&o>0&&(b*=Math.pow(nm,T.length))):(b*=CD,o>0&&(b*=Math.pow(nm,x-o))),e.charAt(x)!==t.charAt(c)&&(b*=kD)),(b<rm&&n.charAt(x-1)===i.charAt(c+1)||i.charAt(c+1)===i.charAt(c)&&n.charAt(x-1)!==i.charAt(c))&&(N=Bm(e,t,n,i,x+1,c+2,d),N*rm>b&&(b=N*rm)),b>v&&(v=b),x=n.indexOf(g,x+1);return d[m]=v,v}function fy(e){return e.toLowerCase().replace(hN," ")}function RD(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,Bm(e,t,fy(e),fy(t),0,0,{})}var AD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zs=AD.reduce((e,t)=>{const n=ol(`Primitive.${t}`),i=h.forwardRef((o,c)=>{const{asChild:d,...m}=o,g=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(g,{...m,ref:c})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),ko='[cmdk-group=""]',sm='[cmdk-group-items=""]',ID='[cmdk-group-heading=""]',pN='[cmdk-item=""]',my=`${pN}:not([aria-disabled="true"])`,$m="cmdk-item-select",ii="data-value",OD=(e,t,n)=>RD(e,t,n),gN=h.createContext(void 0),ml=()=>h.useContext(gN),xN=h.createContext(void 0),zh=()=>h.useContext(xN),vN=h.createContext(void 0),yN=h.forwardRef((e,t)=>{let n=oi(()=>{var R,D;return{search:"",value:(D=(R=e.value)!=null?R:e.defaultValue)!=null?D:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),i=oi(()=>new Set),o=oi(()=>new Map),c=oi(()=>new Map),d=oi(()=>new Set),m=bN(e),{label:g,children:x,value:v,onValueChange:b,filter:N,shouldFilter:C,loop:T,disablePointerSelection:w=!1,vimBindings:j=!0,...k}=e,_=Tr(),F=Tr(),I=Tr(),M=h.useRef(null),Z=WD();Sa(()=>{if(v!==void 0){let R=v.trim();n.current.value=R,q.emit()}},[v]),Sa(()=>{Z(6,he)},[]);let q=h.useMemo(()=>({subscribe:R=>(d.current.add(R),()=>d.current.delete(R)),snapshot:()=>n.current,setState:(R,D,z)=>{var ae,pe,ie,ce;if(!Object.is(n.current[R],D)){if(n.current[R]=D,R==="search")te(),re(),Z(1,me);else if(R==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Ae=document.getElementById(I);Ae?Ae.focus():(ae=document.getElementById(_))==null||ae.focus()}if(Z(7,()=>{var Ae;n.current.selectedItemId=(Ae=ne())==null?void 0:Ae.id,q.emit()}),z||Z(5,he),((pe=m.current)==null?void 0:pe.value)!==void 0){let Ae=D??"";(ce=(ie=m.current).onValueChange)==null||ce.call(ie,Ae);return}}q.emit()}},emit:()=>{d.current.forEach(R=>R())}}),[]),J=h.useMemo(()=>({value:(R,D,z)=>{var ae;D!==((ae=c.current.get(R))==null?void 0:ae.value)&&(c.current.set(R,{value:D,keywords:z}),n.current.filtered.items.set(R,U(D,z)),Z(2,()=>{re(),q.emit()}))},item:(R,D)=>(i.current.add(R),D&&(o.current.has(D)?o.current.get(D).add(R):o.current.set(D,new Set([R]))),Z(3,()=>{te(),re(),n.current.value||me(),q.emit()}),()=>{c.current.delete(R),i.current.delete(R),n.current.filtered.items.delete(R);let z=ne();Z(4,()=>{te(),z?.getAttribute("id")===R&&me(),q.emit()})}),group:R=>(o.current.has(R)||o.current.set(R,new Set),()=>{c.current.delete(R),o.current.delete(R)}),filter:()=>m.current.shouldFilter,label:g||e["aria-label"],getDisablePointerSelection:()=>m.current.disablePointerSelection,listId:_,inputId:I,labelId:F,listInnerRef:M}),[]);function U(R,D){var z,ae;let pe=(ae=(z=m.current)==null?void 0:z.filter)!=null?ae:OD;return R?pe(R,n.current.search,D):0}function re(){if(!n.current.search||m.current.shouldFilter===!1)return;let R=n.current.filtered.items,D=[];n.current.filtered.groups.forEach(ae=>{let pe=o.current.get(ae),ie=0;pe.forEach(ce=>{let Ae=R.get(ce);ie=Math.max(Ae,ie)}),D.push([ae,ie])});let z=M.current;we().sort((ae,pe)=>{var ie,ce;let Ae=ae.getAttribute("id"),Ue=pe.getAttribute("id");return((ie=R.get(Ue))!=null?ie:0)-((ce=R.get(Ae))!=null?ce:0)}).forEach(ae=>{let pe=ae.closest(sm);pe?pe.appendChild(ae.parentElement===pe?ae:ae.closest(`${sm} > *`)):z.appendChild(ae.parentElement===z?ae:ae.closest(`${sm} > *`))}),D.sort((ae,pe)=>pe[1]-ae[1]).forEach(ae=>{var pe;let ie=(pe=M.current)==null?void 0:pe.querySelector(`${ko}[${ii}="${encodeURIComponent(ae[0])}"]`);ie?.parentElement.appendChild(ie)})}function me(){let R=we().find(z=>z.getAttribute("aria-disabled")!=="true"),D=R?.getAttribute(ii);q.setState("value",D||void 0)}function te(){var R,D,z,ae;if(!n.current.search||m.current.shouldFilter===!1){n.current.filtered.count=i.current.size;return}n.current.filtered.groups=new Set;let pe=0;for(let ie of i.current){let ce=(D=(R=c.current.get(ie))==null?void 0:R.value)!=null?D:"",Ae=(ae=(z=c.current.get(ie))==null?void 0:z.keywords)!=null?ae:[],Ue=U(ce,Ae);n.current.filtered.items.set(ie,Ue),Ue>0&&pe++}for(let[ie,ce]of o.current)for(let Ae of ce)if(n.current.filtered.items.get(Ae)>0){n.current.filtered.groups.add(ie);break}n.current.filtered.count=pe}function he(){var R,D,z;let ae=ne();ae&&(((R=ae.parentElement)==null?void 0:R.firstChild)===ae&&((z=(D=ae.closest(ko))==null?void 0:D.querySelector(ID))==null||z.scrollIntoView({block:"nearest"})),ae.scrollIntoView({block:"nearest"}))}function ne(){var R;return(R=M.current)==null?void 0:R.querySelector(`${pN}[aria-selected="true"]`)}function we(){var R;return Array.from(((R=M.current)==null?void 0:R.querySelectorAll(my))||[])}function E(R){let D=we()[R];D&&q.setState("value",D.getAttribute(ii))}function K(R){var D;let z=ne(),ae=we(),pe=ae.findIndex(ce=>ce===z),ie=ae[pe+R];(D=m.current)!=null&&D.loop&&(ie=pe+R<0?ae[ae.length-1]:pe+R===ae.length?ae[0]:ae[pe+R]),ie&&q.setState("value",ie.getAttribute(ii))}function V(R){let D=ne(),z=D?.closest(ko),ae;for(;z&&!ae;)z=R>0?UD(z,ko):qD(z,ko),ae=z?.querySelector(my);ae?q.setState("value",ae.getAttribute(ii)):K(R)}let Y=()=>E(we().length-1),se=R=>{R.preventDefault(),R.metaKey?Y():R.altKey?V(1):K(1)},A=R=>{R.preventDefault(),R.metaKey?E(0):R.altKey?V(-1):K(-1)};return h.createElement(Zs.div,{ref:t,tabIndex:-1,...k,"cmdk-root":"",onKeyDown:R=>{var D;(D=k.onKeyDown)==null||D.call(k,R);let z=R.nativeEvent.isComposing||R.keyCode===229;if(!(R.defaultPrevented||z))switch(R.key){case"n":case"j":{j&&R.ctrlKey&&se(R);break}case"ArrowDown":{se(R);break}case"p":case"k":{j&&R.ctrlKey&&A(R);break}case"ArrowUp":{A(R);break}case"Home":{R.preventDefault(),E(0);break}case"End":{R.preventDefault(),Y();break}case"Enter":{R.preventDefault();let ae=ne();if(ae){let pe=new Event($m);ae.dispatchEvent(pe)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:J.inputId,id:J.labelId,style:GD},g),Bd(e,R=>h.createElement(xN.Provider,{value:q},h.createElement(gN.Provider,{value:J},R))))}),DD=h.forwardRef((e,t)=>{var n,i;let o=Tr(),c=h.useRef(null),d=h.useContext(vN),m=ml(),g=bN(e),x=(i=(n=g.current)==null?void 0:n.forceMount)!=null?i:d?.forceMount;Sa(()=>{if(!x)return m.item(o,d?.id)},[x]);let v=wN(o,c,[e.value,e.children,c],e.keywords),b=zh(),N=Gs(Z=>Z.value&&Z.value===v.current),C=Gs(Z=>x||m.filter()===!1?!0:Z.search?Z.filtered.items.get(o)>0:!0);h.useEffect(()=>{let Z=c.current;if(!(!Z||e.disabled))return Z.addEventListener($m,T),()=>Z.removeEventListener($m,T)},[C,e.onSelect,e.disabled]);function T(){var Z,q;w(),(q=(Z=g.current).onSelect)==null||q.call(Z,v.current)}function w(){b.setState("value",v.current,!0)}if(!C)return null;let{disabled:j,value:k,onSelect:_,forceMount:F,keywords:I,...M}=e;return h.createElement(Zs.div,{ref:cn(c,t),...M,id:o,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!N,"data-disabled":!!j,"data-selected":!!N,onPointerMove:j||m.getDisablePointerSelection()?void 0:w,onClick:j?void 0:T},e.children)}),MD=h.forwardRef((e,t)=>{let{heading:n,children:i,forceMount:o,...c}=e,d=Tr(),m=h.useRef(null),g=h.useRef(null),x=Tr(),v=ml(),b=Gs(C=>o||v.filter()===!1?!0:C.search?C.filtered.groups.has(d):!0);Sa(()=>v.group(d),[]),wN(d,m,[e.value,e.heading,g]);let N=h.useMemo(()=>({id:d,forceMount:o}),[o]);return h.createElement(Zs.div,{ref:cn(m,t),...c,"cmdk-group":"",role:"presentation",hidden:b?void 0:!0},n&&h.createElement("div",{ref:g,"cmdk-group-heading":"","aria-hidden":!0,id:x},n),Bd(e,C=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?x:void 0},h.createElement(vN.Provider,{value:N},C))))}),FD=h.forwardRef((e,t)=>{let{alwaysRender:n,...i}=e,o=h.useRef(null),c=Gs(d=>!d.search);return!n&&!c?null:h.createElement(Zs.div,{ref:cn(o,t),...i,"cmdk-separator":"",role:"separator"})}),LD=h.forwardRef((e,t)=>{let{onValueChange:n,...i}=e,o=e.value!=null,c=zh(),d=Gs(x=>x.search),m=Gs(x=>x.selectedItemId),g=ml();return h.useEffect(()=>{e.value!=null&&c.setState("search",e.value)},[e.value]),h.createElement(Zs.input,{ref:t,...i,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":g.listId,"aria-labelledby":g.labelId,"aria-activedescendant":m,id:g.inputId,type:"text",value:o?e.value:d,onChange:x=>{o||c.setState("search",x.target.value),n?.(x.target.value)}})}),BD=h.forwardRef((e,t)=>{let{children:n,label:i="Suggestions",...o}=e,c=h.useRef(null),d=h.useRef(null),m=Gs(x=>x.selectedItemId),g=ml();return h.useEffect(()=>{if(d.current&&c.current){let x=d.current,v=c.current,b,N=new ResizeObserver(()=>{b=requestAnimationFrame(()=>{let C=x.offsetHeight;v.style.setProperty("--cmdk-list-height",C.toFixed(1)+"px")})});return N.observe(x),()=>{cancelAnimationFrame(b),N.unobserve(x)}}},[]),h.createElement(Zs.div,{ref:cn(c,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":m,"aria-label":i,id:g.listId},Bd(e,x=>h.createElement("div",{ref:cn(d,g.listInnerRef),"cmdk-list-sizer":""},x)))}),$D=h.forwardRef((e,t)=>{let{open:n,onOpenChange:i,overlayClassName:o,contentClassName:c,container:d,...m}=e;return h.createElement(yh,{open:n,onOpenChange:i},h.createElement(bh,{container:d},h.createElement(Cd,{"cmdk-overlay":"",className:o}),h.createElement(kd,{"aria-label":e.label,"cmdk-dialog":"",className:c},h.createElement(yN,{ref:t,...m}))))}),VD=h.forwardRef((e,t)=>Gs(n=>n.filtered.count===0)?h.createElement(Zs.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),zD=h.forwardRef((e,t)=>{let{progress:n,children:i,label:o="Loading...",...c}=e;return h.createElement(Zs.div,{ref:t,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},Bd(e,d=>h.createElement("div",{"aria-hidden":!0},d)))}),Ur=Object.assign(yN,{List:BD,Item:DD,Input:LD,Group:MD,Separator:FD,Dialog:$D,Empty:VD,Loading:zD});function UD(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function qD(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function bN(e){let t=h.useRef(e);return Sa(()=>{t.current=e}),t}var Sa=typeof window>"u"?h.useEffect:h.useLayoutEffect;function oi(e){let t=h.useRef();return t.current===void 0&&(t.current=e()),t}function Gs(e){let t=zh(),n=()=>e(t.snapshot());return h.useSyncExternalStore(t.subscribe,n,n)}function wN(e,t,n,i=[]){let o=h.useRef(),c=ml();return Sa(()=>{var d;let m=(()=>{var x;for(let v of n){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(x=v.current.textContent)==null?void 0:x.trim():o.current}})(),g=i.map(x=>x.trim());c.value(e,m,g),(d=t.current)==null||d.setAttribute(ii,m),o.current=m}),o}var WD=()=>{let[e,t]=h.useState(),n=oi(()=>new Map);return Sa(()=>{n.current.forEach(i=>i()),n.current=new Map},[e]),(i,o)=>{n.current.set(i,o),t({})}};function KD(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Bd({asChild:e,children:t},n){return e&&h.isValidElement(t)?h.cloneElement(KD(t),{ref:t.ref},n(t.props.children)):n(t)}var GD={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const jN=h.forwardRef(({className:e,...t},n)=>r.jsx(Ur,{ref:n,className:_e("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));jN.displayName=Ur.displayName;const NN=h.forwardRef(({className:e,...t},n)=>r.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[r.jsx(Dc,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx(Ur.Input,{ref:n,className:_e("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));NN.displayName=Ur.Input.displayName;const SN=h.forwardRef(({className:e,...t},n)=>r.jsx(Ur.List,{ref:n,className:_e("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));SN.displayName=Ur.List.displayName;const CN=h.forwardRef((e,t)=>r.jsx(Ur.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));CN.displayName=Ur.Empty.displayName;const kN=h.forwardRef(({className:e,...t},n)=>r.jsx(Ur.Group,{ref:n,className:_e("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));kN.displayName=Ur.Group.displayName;const QD=h.forwardRef(({className:e,...t},n)=>r.jsx(Ur.Separator,{ref:n,className:_e("-mx-1 h-px bg-border",e),...t}));QD.displayName=Ur.Separator.displayName;const PN=h.forwardRef(({className:e,...t},n)=>r.jsx(Ur.Item,{ref:n,className:_e("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));PN.displayName=Ur.Item.displayName;function HD(e){const t=ZD(e),n=h.forwardRef((i,o)=>{const{children:c,...d}=i,m=h.Children.toArray(c),g=m.find(XD);if(g){const x=g.props.children,v=m.map(b=>b===g?h.Children.count(x)>1?h.Children.only(null):h.isValidElement(x)?x.props.children:null:b);return r.jsx(t,{...d,ref:o,children:h.isValidElement(x)?h.cloneElement(x,void 0,v):null})}return r.jsx(t,{...d,ref:o,children:c})});return n.displayName=`${e}.Slot`,n}function ZD(e){const t=h.forwardRef((n,i)=>{const{children:o,...c}=n;if(h.isValidElement(o)){const d=eM(o),m=JD(c,o.props);return o.type!==h.Fragment&&(m.ref=i?cn(i,d):d),h.cloneElement(o,m)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var YD=Symbol("radix.slottable");function XD(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===YD}function JD(e,t){const n={...t};for(const i in t){const o=e[i],c=t[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...m)=>{const g=c(...m);return o(...m),g}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...e,...n}}function eM(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var $d="Popover",[EN]=Jr($d,[Di]),hl=Di(),[tM,Ys]=EN($d),TN=e=>{const{__scopePopover:t,children:n,open:i,defaultOpen:o,onOpenChange:c,modal:d=!1}=e,m=hl(t),g=h.useRef(null),[x,v]=h.useState(!1),[b,N]=is({prop:i,defaultProp:o??!1,onChange:c,caller:$d});return r.jsx(K0,{...m,children:r.jsx(tM,{scope:t,contentId:Tr(),triggerRef:g,open:b,onOpenChange:N,onOpenToggle:h.useCallback(()=>N(C=>!C),[N]),hasCustomAnchor:x,onCustomAnchorAdd:h.useCallback(()=>v(!0),[]),onCustomAnchorRemove:h.useCallback(()=>v(!1),[]),modal:d,children:n})})};TN.displayName=$d;var _N="PopoverAnchor",rM=h.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,o=Ys(_N,n),c=hl(n),{onCustomAnchorAdd:d,onCustomAnchorRemove:m}=o;return h.useEffect(()=>(d(),()=>m()),[d,m]),r.jsx(vd,{...c,...i,ref:t})});rM.displayName=_N;var RN="PopoverTrigger",AN=h.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,o=Ys(RN,n),c=hl(n),d=at(t,o.triggerRef),m=r.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":FN(o.open),...i,ref:d,onClick:Fe(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?m:r.jsx(vd,{asChild:!0,...c,children:m})});AN.displayName=RN;var Uh="PopoverPortal",[nM,sM]=EN(Uh,{forceMount:void 0}),IN=e=>{const{__scopePopover:t,forceMount:n,children:i,container:o}=e,c=Ys(Uh,t);return r.jsx(nM,{scope:t,forceMount:n,children:r.jsx(En,{present:n||c.open,children:r.jsx(nl,{asChild:!0,container:o,children:i})})})};IN.displayName=Uh;var Pi="PopoverContent",ON=h.forwardRef((e,t)=>{const n=sM(Pi,e.__scopePopover),{forceMount:i=n.forceMount,...o}=e,c=Ys(Pi,e.__scopePopover);return r.jsx(En,{present:i||c.open,children:c.modal?r.jsx(iM,{...o,ref:t}):r.jsx(oM,{...o,ref:t})})});ON.displayName=Pi;var aM=HD("PopoverContent.RemoveScroll"),iM=h.forwardRef((e,t)=>{const n=Ys(Pi,e.__scopePopover),i=h.useRef(null),o=at(t,i),c=h.useRef(!1);return h.useEffect(()=>{const d=i.current;if(d)return ph(d)},[]),r.jsx(Nd,{as:aM,allowPinchZoom:!0,children:r.jsx(DN,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(e.onCloseAutoFocus,d=>{d.preventDefault(),c.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Fe(e.onPointerDownOutside,d=>{const m=d.detail.originalEvent,g=m.button===0&&m.ctrlKey===!0,x=m.button===2||g;c.current=x},{checkForDefaultPrevented:!1}),onFocusOutside:Fe(e.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1})})})}),oM=h.forwardRef((e,t)=>{const n=Ys(Pi,e.__scopePopover),i=h.useRef(!1),o=h.useRef(!1);return r.jsx(DN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(i.current||n.triggerRef.current?.focus(),c.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=c.target;n.triggerRef.current?.contains(d)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),DN=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:v,...b}=e,N=Ys(Pi,n),C=hl(n);return hh(),r.jsx(wd,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:c,children:r.jsx(Ri,{asChild:!0,disableOutsidePointerEvents:d,onInteractOutside:v,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:x,onDismiss:()=>N.onOpenChange(!1),children:r.jsx(dh,{"data-state":FN(N.open),role:"dialog",id:N.contentId,...C,...b,ref:t,style:{...b.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),MN="PopoverClose",lM=h.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,o=Ys(MN,n);return r.jsx(He.button,{type:"button",...i,ref:t,onClick:Fe(e.onClick,()=>o.onOpenChange(!1))})});lM.displayName=MN;var cM="PopoverArrow",dM=h.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,o=hl(n);return r.jsx(uh,{...o,...i,ref:t})});dM.displayName=cM;function FN(e){return e?"open":"closed"}var uM=TN,fM=AN,mM=IN,LN=ON;const hM=uM,pM=fM,BN=h.forwardRef(({className:e,align:t="center",sideOffset:n=4,...i},o)=>r.jsx(mM,{children:r.jsx(LN,{ref:o,align:t,sideOffset:n,className:_e("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...i})}));BN.displayName=LN.displayName;function gM({open:e,onOpenChange:t,currentServerName:n,hasSecretConfig:i}){const{toast:o}=Mt(),c=Rr(),[d,m]=h.useState(n||""),[g,x]=h.useState(""),[v,b]=h.useState(!1),{data:N=[],isLoading:C}=mt({queryKey:["/api/servers/list"],enabled:e&&!i}),T=Qe({mutationFn:async k=>await(await Nt("POST","/api/server/configure",k)).json(),onSuccess:k=>{o({title:"Server configured successfully",description:"Your server name has been saved."}),k&&k.requiresRefresh?(o({title:"Server context switched",description:"Refreshing to load new server data..."}),c.clear(),setTimeout(()=>{window.location.reload()},1e3)):c.invalidateQueries({queryKey:["/api/server/info"]}),t(!1)},onError:k=>{o({title:"Configuration failed",description:k.message||"Failed to configure server",variant:"destructive"})}}),w=k=>{if(k.preventDefault(),!d.trim()){o({title:"Server required",description:"Please select a server",variant:"destructive"});return}T.mutate({serverName:d.trim(),description:g.trim()||void 0})},j=N.find(k=>k.name===d);return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Gt,{className:"sm:max-w-[500px]","data-testid":"dialog-server-config",children:[r.jsxs(Qt,{children:[r.jsxs(Ht,{className:"flex items-center gap-2",children:[r.jsx(Vn,{className:"h-5 w-5"}),"Server Configuration"]}),r.jsx(Bo,{children:"Configure your server name and description. This will be used to identify this server instance."})]}),i&&r.jsxs(Vr,{"data-testid":"alert-secret-configured",children:[r.jsx(ln,{className:"h-4 w-4"}),r.jsx(zr,{children:"Server name is configured via environment secrets (SERVER_NAME) and cannot be changed through the UI."})]}),!i&&r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{"data-testid":"label-server-name",children:"Select Server *"}),C?r.jsxs("div",{className:"flex items-center justify-center p-4 border rounded-md",children:[r.jsx(vi,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading servers..."})]}):r.jsxs(hM,{open:v,onOpenChange:b,children:[r.jsx(pM,{asChild:!0,children:r.jsxs(H,{variant:"outline",role:"combobox","aria-expanded":v,className:"w-full justify-between",disabled:T.isPending,"data-testid":"button-server-select",children:[d?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dv,{className:"h-4 w-4"}),r.jsx("span",{children:d}),j&&r.jsxs(Je,{variant:"secondary",className:"ml-auto",children:[j.currentBots,"/",j.totalBots]})]}):r.jsx("span",{className:"text-muted-foreground",children:"Select a server..."}),r.jsx(Jm,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(BN,{className:"w-full p-0",align:"start",children:r.jsxs(jN,{children:[r.jsx(NN,{placeholder:"Search servers...",className:"h-9"}),r.jsx(CN,{children:"No servers found."}),r.jsx(SN,{className:"max-h-[200px]",children:r.jsx(kN,{children:N.map(k=>r.jsxs(PN,{value:k.name,onSelect:()=>{m(k.name),b(!1)},className:"flex items-center justify-between","data-testid":`option-${k.name}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dv,{className:"h-4 w-4"}),r.jsx("span",{children:k.name})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Je,{variant:k.currentBots===0?"secondary":k.remainingBots===0?"destructive":"default",className:"text-xs",children:[k.currentBots,"/",k.totalBots]}),k.remainingBots>0&&r.jsxs("span",{className:"text-xs text-green-600",children:[k.remainingBots," free"]})]})]},k.name))})})]})})]}),j&&r.jsx("div",{className:"text-sm text-muted-foreground p-2 bg-muted rounded",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{children:["Bot Usage: ",j.currentBots,"/",j.totalBots]}),r.jsxs("span",{className:j.remainingBots>0?"text-green-600":"text-red-600",children:[j.remainingBots," slots available"]})]})}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose from Server1 to Server100. Servers with fewer bots are shown first."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{htmlFor:"description","data-testid":"label-description",children:"Description (Optional)"}),r.jsx(ds,{id:"description","data-testid":"textarea-description",value:g,onChange:k=>x(k.target.value),placeholder:"Describe the purpose of this server...",disabled:T.isPending,rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:T.isPending,"data-testid":"button-cancel",children:"Cancel"}),r.jsxs(H,{type:"submit",disabled:T.isPending||!d.trim(),"data-testid":"button-save-config",children:[T.isPending&&r.jsx(vi,{className:"mr-2 h-4 w-4 animate-spin"}),"Switch to ",d]})]})]}),i&&r.jsx("div",{className:"flex justify-end",children:r.jsx(H,{onClick:()=>t(!1),"data-testid":"button-close",children:"Close"})})]})})}function xM(e,t=[]){let n=[];function i(c,d){const m=h.createContext(d);m.displayName=c+"Context";const g=n.length;n=[...n,d];const x=b=>{const{scope:N,children:C,...T}=b,w=N?.[e]?.[g]||m,j=h.useMemo(()=>T,Object.values(T));return r.jsx(w.Provider,{value:j,children:C})};x.displayName=c+"Provider";function v(b,N){const C=N?.[e]?.[g]||m,T=h.useContext(C);if(T)return T;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${c}\``)}return[x,v]}const o=()=>{const c=n.map(d=>h.createContext(d));return function(m){const g=m?.[e]||c;return h.useMemo(()=>({[`__scope${e}`]:{...m,[e]:g}}),[m,g])}};return o.scopeName=e,[i,vM(o,...t)]}function vM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const d=i.reduce((m,{useScope:g,scopeName:x})=>{const b=g(c)[`__scope${x}`];return{...m,...b}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var yM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$N=yM.reduce((e,t)=>{const n=ol(`Primitive.${t}`),i=h.forwardRef((o,c)=>{const{asChild:d,...m}=o,g=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(g,{...m,ref:c})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),qh="Progress",Wh=100,[bM]=xM(qh),[wM,jM]=bM(qh),VN=h.forwardRef((e,t)=>{const{__scopeProgress:n,value:i=null,max:o,getValueLabel:c=NM,...d}=e;(o||o===0)&&!hy(o)&&console.error(SM(`${o}`,"Progress"));const m=hy(o)?o:Wh;i!==null&&!py(i,m)&&console.error(CM(`${i}`,"Progress"));const g=py(i,m)?i:null,x=od(g)?c(g,m):void 0;return r.jsx(wM,{scope:n,value:g,max:m,children:r.jsx($N.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":od(g)?g:void 0,"aria-valuetext":x,role:"progressbar","data-state":qN(g,m),"data-value":g??void 0,"data-max":m,...d,ref:t})})});VN.displayName=qh;var zN="ProgressIndicator",UN=h.forwardRef((e,t)=>{const{__scopeProgress:n,...i}=e,o=jM(zN,n);return r.jsx($N.div,{"data-state":qN(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...i,ref:t})});UN.displayName=zN;function NM(e,t){return`${Math.round(e/t*100)}%`}function qN(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function od(e){return typeof e=="number"}function hy(e){return od(e)&&!isNaN(e)&&e>0}function py(e,t){return od(e)&&!isNaN(e)&&e<=t&&e>=0}function SM(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Wh}\`.`}function CM(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Wh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var WN=VN,kM=UN;const Vm=h.forwardRef(({className:e,value:t,...n},i)=>r.jsx(WN,{ref:i,className:_e("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:r.jsx(kM,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Vm.displayName=WN.displayName;function PM(){const{data:e,isLoading:t}=mt({queryKey:["/api/servers/all"],refetchInterval:5e3}),n=e?.servers||[],i=(b,N,C)=>b!=="active"?r.jsx(v2,{className:"h-4 w-4 text-red-500"}):N>=C?r.jsx(ln,{className:"h-4 w-4 text-yellow-500"}):r.jsx(y2,{className:"h-4 w-4 text-green-500"}),o=(b,N,C)=>b!=="active"?r.jsx(Je,{variant:"destructive",children:"Inactive"}):N>=C?r.jsx(Je,{variant:"secondary",children:"Full"}):N===0?r.jsx(Je,{variant:"outline",children:"Empty"}):r.jsx(Je,{variant:"default",children:"Active"}),c=b=>b>=90?"bg-red-500":b>=70?"bg-yellow-500":"bg-green-500",d=n.length,m=n.filter(b=>b.serverStatus==="active").length,g=n.reduce((b,N)=>b+N.currentBots,0),x=n.reduce((b,N)=>b+N.maxBots,0),v=x>0?Math.round(g/x*100):0;return t?r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((b,N)=>r.jsx(de,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})})},N))})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(de,{"data-testid":"card-total-servers",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Servers"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-servers",children:d})]}),r.jsx(Vn,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(de,{"data-testid":"card-active-servers",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Servers"}),r.jsx("p",{className:"text-2xl font-bold text-green-600","data-testid":"text-active-servers",children:m})]}),r.jsx(Xm,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(de,{"data-testid":"card-total-bots",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Bots"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600","data-testid":"text-total-bots",children:g})]}),r.jsx(Bn,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(de,{"data-testid":"card-avg-utilization",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg. Utilization"}),r.jsxs("p",{className:"text-2xl font-bold","data-testid":"text-avg-utilization",children:[v,"%"]})]}),r.jsx("div",{className:"text-right",children:r.jsx(Vm,{value:v,className:"w-16 h-2","data-testid":"progress-avg-utilization"})})]})})})]}),r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(Vn,{className:"h-5 w-5"}),"Server Status Overview"]}),r.jsx(Ye,{children:"Real-time status of all registered servers in the multi-tenant system"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:n.map(b=>{const N=b.maxBots>0?Math.round(b.currentBots/b.maxBots*100):0;return r.jsx(de,{className:"relative overflow-hidden","data-testid":`card-server-${b.serverName}`,children:r.jsxs(fe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[i(b.serverStatus,b.currentBots,b.maxBots),r.jsx("h3",{className:"font-semibold text-sm","data-testid":`text-server-name-${b.serverName}`,children:b.serverName})]}),r.jsx("div",{"data-testid":`badge-status-${b.serverName}`,children:o(b.serverStatus,b.currentBots,b.maxBots)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Bots"}),r.jsxs("span",{className:"font-medium","data-testid":`text-bot-count-${b.serverName}`,children:[b.currentBots,"/",b.maxBots]})]}),r.jsx(Vm,{value:N,className:`h-2 ${c(N)}`,"data-testid":`progress-utilization-${b.serverName}`}),r.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[r.jsxs("span",{"data-testid":`text-utilization-${b.serverName}`,children:["Utilization: ",N,"%"]}),r.jsxs("span",{"data-testid":`text-slots-free-${b.serverName}`,children:[b.availableSlots," slots free"]})]}),b.description&&r.jsx("p",{className:"text-xs text-muted-foreground truncate mt-2",title:b.description,"data-testid":`text-description-${b.serverName}`,children:b.description})]}),b.currentBots>=b.maxBots&&r.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-bl-lg"})]})},b.serverName)})}),n.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Vn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg font-medium mb-2",children:"No Servers Registered"}),r.jsx("p",{className:"text-sm",children:"Register your first server to see it here."})]})]})]})]})}function EM(){const{toast:e}=Mt(),t=Rr(),[n,i]=h.useState("days"),[o,c]=h.useState("7"),{data:d,isLoading:m}=mt({queryKey:["/api/offer/status"],refetchInterval:1e4}),g=Qe({mutationFn:async T=>{const w=await fetch("/api/offer/configure",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(T)});if(!w.ok)throw new Error("Failed to update offer");return w.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/offer/status"]}),e({title:"Offer updated successfully",description:"The promotional offer settings have been updated."})},onError:()=>{e({title:"Failed to update offer",variant:"destructive"})}}),x=()=>{const T=parseInt(o);if(isNaN(T)||T<=0){e({title:"Invalid duration",description:"Please enter a valid duration value",variant:"destructive"});return}g.mutate({durationType:n,durationValue:T,isActive:!0})},v=()=>{g.mutate({isActive:!1})},b=T=>{const w=Math.floor(T/1e3),j=Math.floor(w/86400),k=Math.floor(w%86400/3600),_=Math.floor(w%3600/60);return j>0?`${j}d ${k}h ${_}m`:k>0?`${k}h ${_}m`:`${_}m`},N=T=>new Date(T).toLocaleString(),C=d?.isActive!==void 0;return r.jsx("div",{className:"space-y-6",children:r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(Oo,{className:"h-6 w-6 text-yellow-500","data-testid":"icon-gift-header"}),"Promotional Offer Management"]}),r.jsx(Ye,{children:"Configure auto-approval offers for bot registrations"})]}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-200","data-testid":"text-env-status",children:"Promotional Offer Feature"}),r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300","data-testid":"text-env-value",children:["Status: ",C?"Available":"Loading..."]})]}),r.jsx(Je,{variant:C?"default":"outline",className:C?"bg-green-500":"","data-testid":"badge-env-status",children:C?"Ready":"Loading"})]}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-2","data-testid":"text-env-warning",children:" Configure offer duration and activate promotional auto-approval below"})]}),d?.config&&r.jsxs("div",{className:`p-4 rounded-lg border ${d.isActive?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(m0,{className:`h-5 w-5 ${d.isActive?"text-green-600 animate-pulse":"text-gray-500"}`,"data-testid":"icon-clock-status"}),r.jsxs("p",{className:"font-medium","data-testid":"text-offer-status-title",children:["Offer Status: ",d.isActive?"Active":"Inactive"]})]}),r.jsx(Je,{variant:d.isActive?"default":"outline",className:d.isActive?"bg-green-500":"","data-testid":"badge-offer-status",children:d.isActive?"Active":"Inactive"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{"data-testid":"text-offer-duration",children:[r.jsx("p",{className:"text-muted-foreground",children:"Duration:"}),r.jsxs("p",{className:"font-medium",children:[d.config.durationValue," ",d.config.durationType]})]}),r.jsxs("div",{"data-testid":"text-offer-start",children:[r.jsx("p",{className:"text-muted-foreground",children:"Start Date:"}),r.jsx("p",{className:"font-medium",children:N(d.config.startDate)})]}),r.jsxs("div",{"data-testid":"text-offer-end",children:[r.jsx("p",{className:"text-muted-foreground",children:"End Date:"}),r.jsx("p",{className:"font-medium",children:N(d.config.endDate)})]}),d.timeRemaining&&r.jsxs("div",{"data-testid":"text-offer-remaining",children:[r.jsx("p",{className:"text-muted-foreground",children:"Time Remaining:"}),r.jsx("p",{className:"font-medium text-orange-600",children:b(d.timeRemaining)})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"font-medium flex items-center gap-2","data-testid":"text-config-title",children:[r.jsx(yi,{className:"h-5 w-5"}),"Configure New Offer"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{htmlFor:"duration-type","data-testid":"label-duration-type",children:"Duration Type"}),r.jsxs(mr,{value:n,onValueChange:i,children:[r.jsx(or,{id:"duration-type","data-testid":"select-duration-type",children:r.jsx(hr,{})}),r.jsxs(lr,{children:[r.jsx(Re,{value:"days","data-testid":"option-days",children:"Days"}),r.jsx(Re,{value:"months","data-testid":"option-months",children:"Months"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{htmlFor:"duration-value","data-testid":"label-duration-value",children:"Duration Value"}),r.jsx(kt,{id:"duration-value",type:"number",min:"1",value:o,onChange:T=>c(T.target.value),placeholder:"Enter duration","data-testid":"input-duration-value"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{onClick:x,disabled:!C||g.isPending||d?.isActive,className:"flex-1","data-testid":"button-activate-offer",children:g.isPending?"Activating...":"Activate Offer"}),d?.isActive&&r.jsx(H,{variant:"outline",onClick:v,disabled:g.isPending,className:"flex-1","data-testid":"button-deactivate-offer",children:g.isPending?"Deactivating...":"Deactivate Offer"})]}),r.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border border-yellow-200 dark:border-yellow-800",children:r.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200","data-testid":"text-auto-approval-info",children:[r.jsx("strong",{children:"Auto-Approval:"})," When an offer is active, all bot registrations will be automatically approved and placed in the selected server's approved bots list. Bots will auto-start on server restart."]})})]})]})]})})}function TM(){const{toast:e}=Mt(),t=Rr(),{logout:n}=ll(),[i,o]=h.useState(!1),[c,d]=h.useState(!1),[m,g]=h.useState(""),[x,v]=h.useState(null),{data:b=[],isLoading:N}=mt({queryKey:["/api/admin/bot-instances"],queryFn:async()=>{const U=await fetch("/api/admin/bot-instances",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!U.ok)throw new Error("Failed to fetch bot instances");return await U.json()}}),{data:C=[],isLoading:T}=mt({queryKey:["/api/admin/activities"],queryFn:async()=>{const U=await fetch("/api/admin/activities",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!U.ok)throw new Error("Failed to fetch activities");return await U.json()}}),{data:w}=mt({queryKey:["/api/admin/stats"],queryFn:async()=>{const U=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!U.ok)throw new Error("Failed to fetch stats");return U.json()}}),{data:j={}}=mt({queryKey:["/api/server/info"]}),k=Qe({mutationFn:async U=>{const re=await fetch(`/api/admin/bot-instances/${U}/start`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!re.ok)throw new Error("Failed to start bot");return re.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot started successfully"})},onError:()=>{e({title:"Failed to start bot",variant:"destructive"})}}),_=Qe({mutationFn:async U=>{const re=await fetch(`/api/admin/bot-instances/${U}/stop`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!re.ok)throw new Error("Failed to stop bot");return re.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot stopped successfully"})},onError:()=>{e({title:"Failed to stop bot",variant:"destructive"})}}),F=Qe({mutationFn:async U=>{const re=await fetch(`/api/admin/bot-instances/${U}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!re.ok){const me=await re.text();throw new Error(me||"Failed to delete bot")}return re.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot deleted successfully"})},onError:()=>{e({title:"Failed to delete bot",variant:"destructive"})}}),I=Qe({mutationFn:async U=>{const re=U.replace(/[\s\-\(\)\+]/g,""),me=await fetch(`/api/guest/session/${re}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!me.ok)throw new Error("Failed to retrieve session");return me.json()},onSuccess:U=>{v(U),e({title:"Session retrieved successfully"})},onError:()=>{e({title:"Failed to retrieve guest session",variant:"destructive"})}}),M=Qe({mutationFn:async U=>{const re=U.replace(/[\s\-\(\)\+]/g,""),me=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({phoneNumber:re})});if(!me.ok)throw new Error("Failed to check registration");return me.json()},onSuccess:()=>{e({title:"Registration status retrieved"})},onError:()=>{e({title:"Failed to check registration",variant:"destructive"})}}),Z=Qe({mutationFn:async U=>{const re=U.replace(/[\s\-\(\)\+]/g,""),me=await fetch("/api/guest/auth/send-otp",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({phoneNumber:re})});if(!me.ok)throw new Error("Failed to send OTP");return me.json()},onSuccess:()=>{e({title:"OTP sent successfully"})},onError:()=>{e({title:"Failed to send OTP",variant:"destructive"})}}),q=U=>{const re={online:"default",offline:"secondary",loading:"outline",error:"destructive",qr_code:"outline"};return r.jsx(Je,{variant:re[U]||"secondary","data-testid":`status-${U}`,children:U.replace("_"," ").toUpperCase()})},J=U=>new Date(U).toLocaleString();return r.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ci,{className:"h-6 w-6 text-red-600"}),r.jsx("h1",{className:"text-3xl font-bold","data-testid":"admin-console-title",children:"Admin Console"})]}),r.jsxs(H,{variant:"outline",onClick:()=>{n(),window.location.href="/"},className:"flex items-center gap-2","data-testid":"button-logout-admin",children:[r.jsx(h0,{className:"h-4 w-4"}),"Logout"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs(de,{children:[r.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx($e,{className:"text-sm font-medium",children:"Total Bots"}),r.jsx(Bn,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(fe,{children:r.jsx("div",{className:"text-2xl font-bold","data-testid":"total-bots",children:w?.totalBots||b.length})})]}),r.jsxs(de,{children:[r.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx($e,{className:"text-sm font-medium",children:"Online Bots"}),r.jsx(Xm,{className:"h-4 w-4 text-green-600"})]}),r.jsx(fe,{children:r.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"online-bots",children:b.filter(U=>U.status==="online").length})})]}),r.jsxs(de,{children:[r.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx($e,{className:"text-sm font-medium",children:"Total Messages"}),r.jsx(a2,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(fe,{children:r.jsx("div",{className:"text-2xl font-bold","data-testid":"total-messages",children:b.reduce((U,re)=>U+(re.messagesCount||0),0)})})]}),r.jsxs(de,{children:[r.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx($e,{className:"text-sm font-medium",children:"Commands Used"}),r.jsx(x2,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(fe,{children:r.jsx("div",{className:"text-2xl font-bold","data-testid":"total-commands",children:b.reduce((U,re)=>U+(re.commandsCount||0),0)})})]})]}),r.jsxs(Fi,{defaultValue:"overview",className:"space-y-4",children:[r.jsxs(Ca,{children:[r.jsx(St,{value:"overview","data-testid":"tab-overview",children:"Server Overview"}),r.jsx(St,{value:"bots","data-testid":"tab-bots",children:"Bot Management"}),r.jsx(St,{value:"guest","data-testid":"tab-guest",children:"Guest Management"}),r.jsx(St,{value:"activities","data-testid":"tab-activities",children:"Recent Activity"}),r.jsx(St,{value:"server","data-testid":"tab-server",children:"Server Config"}),r.jsxs(St,{value:"offer","data-testid":"tab-offer",children:[r.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Promotional Offers"]}),r.jsx(St,{value:"master","data-testid":"tab-master",children:"Master Control"})]}),r.jsx(xt,{value:"overview",className:"space-y-4",children:r.jsx(PM,{})}),r.jsx(xt,{value:"bots",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsx($e,{children:"Bot Instance Management"}),r.jsx(Ye,{children:"Manage all WhatsApp bot instances across the system"})]}),r.jsx(fe,{children:N?r.jsx("div",{className:"text-center py-8",children:"Loading bot instances..."}):r.jsxs(sd,{children:[r.jsx(ad,{children:r.jsxs(Fs,{children:[r.jsx(It,{children:"Name"}),r.jsx(It,{children:"Phone Number"}),r.jsx(It,{children:"Status"}),r.jsx(It,{children:"Messages"}),r.jsx(It,{children:"Commands"}),r.jsx(It,{children:"Last Activity"}),r.jsx(It,{children:"Actions"})]})}),r.jsx(id,{children:b.map(U=>r.jsxs(Fs,{children:[r.jsx(_t,{className:"font-medium","data-testid":`bot-name-${U.id}`,children:U.name}),r.jsx(_t,{"data-testid":`bot-phone-${U.id}`,children:U.phoneNumber||"Not set"}),r.jsx(_t,{children:q(U.status)}),r.jsx(_t,{"data-testid":`bot-messages-${U.id}`,children:U.messagesCount||0}),r.jsx(_t,{"data-testid":`bot-commands-${U.id}`,children:U.commandsCount||0}),r.jsx(_t,{"data-testid":`bot-activity-${U.id}`,children:U.lastActivity?J(U.lastActivity):"Never"}),r.jsx(_t,{children:r.jsxs("div",{className:"flex gap-2",children:[U.status==="offline"||U.status==="error"?r.jsx(H,{size:"sm",variant:"outline",onClick:()=>k.mutate(U.id),disabled:k.isPending,"data-testid":`button-start-${U.id}`,children:r.jsx(Do,{className:"h-4 w-4"})}):r.jsx(H,{size:"sm",variant:"outline",onClick:()=>_.mutate(U.id),disabled:_.isPending,"data-testid":`button-stop-${U.id}`,children:r.jsx(Mo,{className:"h-4 w-4"})}),r.jsxs(vD,{children:[r.jsx(yD,{asChild:!0,children:r.jsx(H,{size:"sm",variant:"destructive","data-testid":`button-delete-${U.id}`,children:r.jsx(p2,{className:"h-4 w-4"})})}),r.jsxs(iN,{children:[r.jsxs(oN,{children:[r.jsx(cN,{children:"Delete Bot Instance"}),r.jsxs(dN,{children:['Are you sure you want to delete "',U.name,'"? This action cannot be undone.']})]}),r.jsxs(lN,{children:[r.jsx(fN,{children:"Cancel"}),r.jsx(uN,{onClick:()=>F.mutate(U.id),"data-testid":`confirm-delete-${U.id}`,children:"Delete"})]})]})]})]})})]},U.id))})]})})]})}),r.jsx(xt,{value:"guest",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(bi,{className:"h-5 w-5"}),"Guest Session Management"]}),r.jsx(Ye,{children:"Manage guest bot sessions, retrieve credentials, and send OTPs"})]}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Enter Guest Phone Number"}),r.jsx("div",{className:"flex gap-2",children:r.jsx("input",{type:"text",placeholder:"Enter phone number (e.g., 254704897825)",value:m,onChange:U=>g(U.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","data-testid":"input-guest-phone"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs(H,{onClick:()=>I.mutate(m),disabled:!m||I.isPending,className:"flex items-center gap-2","data-testid":"button-get-session",children:[r.jsx(gm,{className:"h-4 w-4"}),"Get Session"]}),r.jsxs(H,{onClick:()=>M.mutate(m),disabled:!m||M.isPending,variant:"outline",className:"flex items-center gap-2","data-testid":"button-check-registration",children:[r.jsx(bi,{className:"h-4 w-4"}),"Check Registration"]}),r.jsxs(H,{onClick:()=>Z.mutate(m),disabled:!m||Z.isPending,variant:"secondary",className:"flex items-center gap-2","data-testid":"button-send-otp",children:[r.jsx(m2,{className:"h-4 w-4"}),"Send OTP"]})]}),x&&r.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Retrieved Session"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Session ID:"}),r.jsxs("p",{className:"font-mono text-xs bg-background p-2 rounded mt-1 break-all max-h-24 overflow-y-auto","data-testid":"text-session-id",children:[x.sessionId?.substring(0,100),"..."]})]}),x.pairingCode&&r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Pairing Code:"}),r.jsx("p",{className:"font-mono text-sm bg-background p-2 rounded mt-1","data-testid":"text-pairing-code",children:x.pairingCode})]}),x.createdAt&&r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Created:"}),r.jsx("p",{"data-testid":"text-session-created",children:J(x.createdAt)})]})]})]})]})]})}),r.jsx(xt,{value:"activities",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsx($e,{children:"System Activity Monitor"}),r.jsx(Ye,{children:"Recent activities across all bot instances"})]}),r.jsx(fe,{children:T?r.jsx("div",{className:"text-center py-8",children:"Loading activities..."}):r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto","data-testid":"activities-list",children:C.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No recent activities"}):C.map(U=>r.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Je,{variant:"outline","data-testid":`activity-type-${U.type}`,children:U.type.replace("_"," ").toUpperCase()}),r.jsx("span",{className:"text-sm text-muted-foreground",children:J(U.createdAt)})]}),r.jsx("p",{className:"text-sm","data-testid":`activity-description-${U.id}`,children:U.description}),U.metadata&&typeof U.metadata=="object"&&Object.keys(U.metadata).length>0?r.jsxs("details",{className:"text-xs",children:[r.jsx("summary",{className:"cursor-pointer text-muted-foreground",children:"View details"}),r.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-xs overflow-x-auto",children:JSON.stringify(U.metadata,null,2)})]}):null]},U.id))})})]})}),r.jsx(xt,{value:"server",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsx($e,{children:"Server Configuration"}),r.jsx(Ye,{children:"Configure server settings and tenancy management"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Current Server"}),r.jsx("p",{className:"text-2xl font-bold text-primary",children:j?.serverName||"default-server"}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Bot Slots: ",j?.currentBots||0,"/",j?.maxBots||0]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Configuration Status"}),r.jsx("p",{className:"text-sm",children:j?.hasSecretConfig?r.jsx("span",{className:"text-green-600",children:" Environment Configured"}):r.jsx("span",{className:"text-yellow-600",children:" Manual Configuration"})})]})]}),r.jsx(H,{onClick:()=>d(!0),className:"w-full","data-testid":"button-configure-server-admin",children:" Configure Server Settings"}),r.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Switch between server instances and manage tenancy settings"})]})})]})}),r.jsx(xt,{value:"offer",className:"space-y-4",children:r.jsx(EM,{})}),r.jsx(xt,{value:"master",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsx($e,{children:"Master Control Panel"}),r.jsx(Ye,{children:"Cross-tenancy bot management using God Registry"})]}),r.jsxs(fe,{children:[r.jsx(H,{onClick:()=>o(!0),className:"w-full","data-testid":"button-open-master-control",children:" Open Master Control Panel"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Manage bots across all tenancies from a centralized interface"})]})]})})]}),r.jsx(mN,{open:i,onClose:()=>o(!1)}),r.jsx(gM,{open:c,onOpenChange:d,currentServerName:j?.serverName||"",hasSecretConfig:j?.hasSecretConfig||!1})]})}function _M(){const[e]=h.useState(!0);return r.jsx(mN,{open:e,onClose:()=>{}})}function RM(){return r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:r.jsx(de,{className:"w-full max-w-md mx-4",children:r.jsxs(fe,{className:"pt-6",children:[r.jsxs("div",{className:"flex mb-4 gap-2",children:[r.jsx(o2,{className:"h-8 w-8 text-red-500"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),r.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function AM(){Mt();const[e,t]=h.useState("session"),[n,i]=h.useState(!1),[o,c]=h.useState(null),d=[{step:1,title:"Contact Support",description:"Credentials can only be set during the initial pairing process",icon:r.jsx(ln,{className:"h-5 w-5"}),completed:!1},{step:2,title:"Get Help",description:"Admin support can assist with bot issues",icon:r.jsx(Oc,{className:"h-5 w-5"}),completed:!1}];return r.jsx("div",{className:"min-h-screen w-full p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Bot Session Verification"}),r.jsx("p",{className:"text-muted-foreground",children:"Verify your bot ownership with session credentials to access management features"})]}),r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(ci,{className:"h-5 w-5"}),"Verification Process"]}),r.jsx(Ye,{children:"Follow these steps to verify your bot session and access management features"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:d.map(m=>r.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border",children:[r.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${m.completed?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:m.completed?r.jsx(jr,{className:"h-4 w-4"}):m.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium",children:m.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:m.description})]}),r.jsx(Je,{variant:m.completed?"default":"outline",children:m.completed?"Completed":"Pending"})]},m.step))})})]}),r.jsxs(de,{className:"border-amber-200",children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(ln,{className:"h-5 w-5 text-amber-500"}),"Credential Updates Not Available"]}),r.jsx(Ye,{children:"Credentials can only be set during the initial pairing process"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-md",children:[r.jsx("p",{className:"text-sm font-medium text-amber-900 dark:text-amber-100 mb-2",children:"Important: Security Policy"}),r.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:"For security reasons, bot credentials can only be set during the initial pairing process (via the panel landing page step 1 or .pair command). Existing bots cannot have their credentials updated through this interface."})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-md",children:[r.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Need Help?"}),r.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"If your bot is offline or needs assistance, please contact admin support. They can help you resolve any issues with your bot."})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{asChild:!0,variant:"default",children:r.jsx("a",{href:"/guest/bot-management",children:"View Bot Management"})}),r.jsx(H,{asChild:!0,variant:"outline",children:r.jsx("a",{href:"/",children:"Return to Home"})})]})]})]}),r.jsx(de,{className:"border-orange-200",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ln,{className:"h-5 w-5 text-orange-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-orange-800",children:"Security Notice"}),r.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Your session ID contains sensitive authentication information. Only enter it on trusted platforms and never share it with others. This verification ensures you have legitimate access to the bot."})]})]})})})]})})}function IM(){const{toast:e}=Mt(),t=Rr(),[,n]=Ei(),[i,o]=h.useState(""),[c,d]=h.useState(""),[m,g]=h.useState("session"),[x,v]=h.useState(null),[b,N]=h.useState(null),[C,T]=h.useState(null),[w,j]=h.useState(!1),k=Qe({mutationFn:async E=>{let K=E.trim();if(K.includes("~")){const Y=K.split("~");K=Y[Y.length-1].trim()}try{const Y=atob(K),se=JSON.parse(Y),A=se.noiseKey&&se.signedIdentityKey,R=se.me&&(se.me.id||se.me.lid);if(!A&&!R)throw new Error("Missing required credential fields. Please use valid Baileys v7 session data.")}catch(Y){throw Y instanceof Error&&Y.message.includes("Missing required")?Y:new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded Baileys v7 credentials.")}const V=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:K})});if(!V.ok){const Y=await V.json();throw new Error(Y.message||"Session verification failed")}return V.json()},onSuccess:E=>{if(T(E),o(E.phoneNumber),v(E.token),E.success&&E.botActive&&!E.credentialValidationFailed)g("dashboard"),N(E.botId),e({title:"Bot Active!",description:`Your bot ${E.phoneNumber} is connected and ready to manage.`});else if(E.success&&E.connectionUpdated&&!E.credentialValidationFailed)g("dashboard"),N(E.botId),e({title:"Session Updated!",description:"New session ID tested successfully! Your bot is reconnecting and a success message has been sent to your WhatsApp."}),d(""),setTimeout(()=>{t.invalidateQueries({queryKey:["/api/guest/server-bots",E.phoneNumber]})},3e3);else{g("inactive");let K="Your bot is not currently connected. Please provide updated credentials.";E.credentialValidationFailed||E.message&&E.message.includes("validation failed")?K="The credentials you provided are invalid or expired. Please provide fresh session credentials.":E.message&&E.message.includes("Connection Failure")||E.message.includes("401")?K="Connection test failed - your credentials are invalid or expired. Please get a new session ID.":E.message&&E.message.includes("failed")&&(K="Connection test failed. Please ensure your credentials are current and valid."),e({title:"Bot Inactive",description:K,variant:"destructive"})}},onError:E=>{let K=E.message;K.includes("Cannot extract phone number")?K=" Invalid Baileys v7 session: Cannot extract phone number. Ensure your session includes 'me.id' or 'me.lid' fields.":K.includes("Missing required credential fields")?K=" Invalid Baileys v7 format: Missing required fields (noiseKey, signedIdentityKey). Please get fresh credentials.":K.includes("Invalid session ID format")&&(K=" Invalid format: Please paste valid base64-encoded Baileys v7 session data."),e({title:"Verification Failed",description:K,variant:"destructive"})}}),_=Qe({mutationFn:async E=>{let K=E.trim();if(K.includes("~")){const Y=K.split("~");K=Y[Y.length-1].trim()}try{const Y=atob(K),se=JSON.parse(Y),A=se.noiseKey&&se.signedIdentityKey,R=se.me&&(se.me.id||se.me.lid);if(!A&&!R)throw new Error("Missing required credential fields. Please use valid Baileys v7 session data.")}catch(Y){throw Y instanceof Error&&Y.message.includes("Missing required")?Y:new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded Baileys v7 credentials.")}const V=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:K})});if(!V.ok){const Y=await V.json();throw new Error(Y.message||"Session update failed")}return V.json()},onSuccess:E=>{if(T(E),o(E.phoneNumber),v(E.token),E.success&&!E.credentialValidationFailed){g("dashboard"),N(E.botId);let K="Session Updated!",V="";E.crossServer?V=` Credentials updated successfully for bot on ${E.botServer}! Success message sent to your WhatsApp.`:E.botActive?V=` New session ID updated successfully! Your bot ${E.phoneNumber} is now connected and ready to manage.`:E.connectionUpdated?V=" New session ID tested successfully! Your bot is reconnecting and a success message has been sent to your WhatsApp.":V=" Credentials updated successfully and success message sent to your WhatsApp.",e({title:K,description:V}),d(""),setTimeout(()=>{t.invalidateQueries({queryKey:["/api/guest/server-bots",E.phoneNumber]})},3e3)}else{let K="New session update failed - connection could not be verified";E.credentialValidationFailed||E.message&&E.message.includes("validation failed")?K="The new credentials you provided are invalid or expired. Please get a fresh session ID.":E.message&&E.message.includes("Connection Failure")||E.message.includes("401")?K="Connection test failed - your new credentials are invalid or expired. Please get a fresh session ID.":E.message&&E.message.includes("failed")&&(K="Connection test failed. Please ensure your new credentials are current and valid."),e({title:"Update Failed",description:K,variant:"destructive"})}},onError:E=>{let K=E.message;K.includes("Cannot extract phone number")?K=" Invalid Baileys v7 session: Cannot extract phone number. Ensure 'me.id' or 'me.lid' fields exist.":K.includes("Missing required credential fields")?K=" Invalid Baileys v7 format: Missing noiseKey or signedIdentityKey. Get fresh credentials.":K.includes("Connection timeout")?K=" Connection timeout: Your Baileys v7 session may be expired. Please get a fresh session.":K.includes("phone number mismatch")?K=" Phone number mismatch: The session belongs to a different WhatsApp account.":K.includes("Failed to establish connection")?K=" Cannot connect: Ensure your Baileys v7 credentials are valid and current.":K.includes("Invalid session ID format")&&(K=" Invalid format: Paste valid base64-encoded Baileys v7 session data."),e({title:"Update Failed",description:K,variant:"destructive"})}});Qe({mutationFn:async E=>{const K=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:E.trim()})});if(!K.ok){const V=await K.json();throw new Error(V.message||"Session verification failed")}return K.json()},onSuccess:E=>{T(E),o(E.phoneNumber),v(E.token),E.botActive?(g("dashboard"),N(E.botId),e({title:"Bot Active!",description:`Your bot ${E.phoneNumber} is now connected and ready to manage.`})):e({title:"Bot Still Inactive",description:"The bot is still not connected. Please ensure the credentials are current.",variant:"destructive"})},onError:E=>{e({title:"Verification Failed",description:E.message,variant:"destructive"})}});const{data:F=[],isLoading:I}=mt({queryKey:["/api/guest/server-bots",i],queryFn:async()=>{if(!i.trim()||m!=="dashboard")return[];const E=i.replace(/[\s\-\(\)\+]/g,""),K=await fetch("/api/guest/search-server-bots",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify({phoneNumber:E})});if(!K.ok)return[];const V=await K.json();return console.log("Bot search response:",V),(V.bots||[]).map(se=>({...se,hostingServer:V.hostingServer||se.hostingServer||se.serverName,currentServer:V.currentServer,crossServer:se.crossServer||V.hostingServer!==V.currentServer}))},enabled:m==="dashboard"&&!!i.trim()&&!!x}),M=Qe({mutationFn:async({action:E,botId:K,phoneNumber:V})=>{const Y=await fetch("/api/guest/server-bot-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:E,botId:K,phoneNumber:V})});if(!Y.ok){const se=await Y.json();throw new Error(se.message||`Failed to ${E} bot`)}return Y.json()},onSuccess:(E,K)=>{e({title:"Action Successful",description:`Bot ${K.action} completed successfully`}),t.invalidateQueries({queryKey:["/api/guest/server-bots",i]})},onError:E=>{e({title:"Action Failed",description:E.message,variant:"destructive"})}}),Z=Qe({mutationFn:async({feature:E,enabled:K,botId:V})=>{const Y=await fetch("/api/guest/server-bot-features",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feature:E,enabled:K,botId:V,phoneNumber:i})});if(!Y.ok){const se=await Y.json();throw new Error(se.message||"Failed to update feature")}return Y.json()},onSuccess:E=>{const K=E.crossServer?` on ${E.hostingServer}`:"";e({title:"Feature Updated",description:`${E.feature} ${E.enabled?"enabled":"disabled"} successfully${K}`}),t.invalidateQueries({queryKey:["/api/guest/server-bots",i]})},onError:(E,K)=>{let V=E.message,Y="Feature Update Failed";V.includes("Bot not found")?(Y="Bot Not Found",V="The bot could not be found on the hosting server. It may have been removed."):V.includes("Only approved bots")?(Y="Bot Not Approved",V="Only approved bots can have features updated. Please contact admin for approval."):V.includes("Invalid feature name")&&(Y="Invalid Feature",V="The requested feature is not available for this bot."),e({title:Y,description:V,variant:"destructive"})}}),q=()=>{if(!c.trim()){e({title:"Session ID Required",description:"Please paste your session ID (base64 credentials)",variant:"destructive"});return}k.mutate(c)},J=()=>{if(!c.trim()){e({title:"Session ID Required",description:"Please paste your NEW session credentials",variant:"destructive"});return}d(c.trim()),_.mutate(c.trim())},U=(E,K)=>{M.mutate({action:E,botId:K.botId,phoneNumber:i})},re=(E,K,V)=>{const Y=V.crossServer?{feature:E,enabled:K,botId:V.botId,phoneNumber:i}:{feature:E,enabled:K,botId:V.botId};Z.mutate(Y)},me=()=>{g("session"),o(""),d(""),v(null),N(null),T(null),j(!1)},te=(E,K)=>{if(K==="pending")return r.jsx(Je,{variant:"outline",className:"bg-yellow-50 text-yellow-800",children:"Pending Approval"});switch(E){case"online":return r.jsx(Je,{className:"bg-green-500",children:"Online"});case"offline":return r.jsx(Je,{variant:"outline",children:"Offline"});case"error":return r.jsx(Je,{variant:"destructive",children:"Error"});default:return r.jsx(Je,{variant:"outline",children:E})}},he=F.filter(E=>E.isActive&&E.isApproved),ne=F.filter(E=>E.approvalStatus==="pending"),we=F.filter(E=>!E.isActive||E.approvalStatus==="rejected");return r.jsx("div",{className:"min-h-screen w-full p-6 bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx(Bn,{className:"h-10 w-10 text-blue-600"}),r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Bot Management Portal"})]}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Manage your WhatsApp bots with Baileys v7 secure credential verification"})]}),r.jsx(de,{className:"border-blue-200 bg-blue-50/50 dark:bg-blue-900/20",children:r.jsx(fe,{className:"pt-6",children:r.jsx("div",{className:"flex items-center justify-between",children:[{step:1,title:"Verify Session",icon:ci,active:m==="session",completed:["dashboard","inactive"].includes(m)},{step:2,title:"Check Connection",icon:Ds,active:m==="inactive",completed:m==="dashboard"},{step:3,title:"Manage Bot",icon:yi,active:m==="dashboard",completed:!1}].map((E,K)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${E.completed?"bg-green-500 border-green-500 text-white":E.active?"bg-blue-500 border-blue-500 text-white":"bg-gray-200 border-gray-300 text-gray-500"}`,children:E.completed?r.jsx(jr,{className:"h-5 w-5"}):r.jsx(E.icon,{className:"h-5 w-5"})}),r.jsx("div",{className:"ml-3 hidden sm:block",children:r.jsx("p",{className:`text-sm font-medium ${E.active||E.completed?"text-gray-900 dark:text-gray-100":"text-gray-500"}`,children:E.title})}),K<2&&r.jsx("div",{className:`hidden sm:block w-16 h-0.5 mx-4 ${E.completed?"bg-green-500":"bg-gray-300"}`})]},E.step))})})}),m==="session"&&!w&&r.jsxs(de,{className:"border-blue-200",children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(ci,{className:"h-6 w-6 text-blue-600"}),"Enter Baileys v7 Session Credentials"]}),r.jsx(Ye,{children:"Paste your bot's Baileys v7 base64 session credentials to verify ownership and check connection status"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("label",{className:"text-sm font-medium",children:"Session ID (Base64 Credentials)"})}),r.jsx("textarea",{placeholder:"Paste your base64 encoded credentials here...",value:c,onChange:E=>d(E.target.value),className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm",onKeyDown:E=>E.key==="Enter"&&E.ctrlKey&&q()}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"We'll extract the phone number and check if your bot is currently active"}),r.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg border border-amber-200 dark:border-amber-800 mb-2",children:[r.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-200 font-medium mb-1",children:" Baileys v7 Session ID Format:"}),r.jsxs("ul",{className:"text-xs text-amber-700 dark:text-amber-300 space-y-1 ml-4",children:[r.jsx("li",{children:" Must be base64 encoded Baileys v7 credentials"}),r.jsx("li",{children:" Contains noiseKey, signedIdentityKey, and me.lid/me.id"}),r.jsx("li",{children:" Any prefix (like TREKKER~) will be automatically removed"}),r.jsx("li",{children:" Paste the complete session without modifications"})]})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:[r.jsx("strong",{children:"Need a new session ID?"})," If your credentials are expired:"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pm,{className:"h-4 w-4"}),r.jsx("a",{href:"https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Get NEW SESSION ID"})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{onClick:q,disabled:k.isPending,size:"lg",className:"flex-1",children:k.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Ds,{className:"h-4 w-4 mr-2 animate-spin"})," Verifying..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ci,{className:"h-4 w-4 mr-2"})," Verify Session & Check Connection"]})}),r.jsxs(H,{variant:"outline",onClick:()=>j(!0),size:"lg",className:"flex items-center gap-2",children:[r.jsx(Oc,{className:"h-4 w-4"}),"Use Phone Number"]})]}),r.jsxs(Vr,{children:[r.jsx(ln,{className:"h-4 w-4"}),r.jsx(zr,{children:"Your session ID contains sensitive authentication information. Only enter it on trusted platforms and never share it with others."})]})]})]}),m==="session"&&w&&r.jsxs(de,{className:"border-green-200",children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(Oc,{className:"h-6 w-6 text-green-600"}),"Enter Phone Number"]}),r.jsx(Ye,{children:"Enter your phone number to search for your bot"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Phone Number (with country code)"}),r.jsx(kt,{placeholder:"+254700000000",value:i,onChange:E=>{const K=E.target.value.replace(/[\s\-\(\)]/g,"");o(K)},className:"text-lg",autoFocus:!0}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your phone number with country code (+ will be removed automatically)"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(H,{onClick:()=>{if(!i.trim()){e({title:"Phone number required",description:"Please enter your phone number",variant:"destructive"});return}n("/guest/verification")},size:"lg",className:"flex-1",children:[r.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Search Bot by Phone"]}),r.jsx(H,{variant:"outline",onClick:()=>j(!1),size:"lg",children:"Back to Session ID"})]})]})]}),m==="inactive"&&r.jsxs(de,{className:"border-orange-200",children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(ln,{className:"h-6 w-6 text-orange-500"}),"Bot Connection Inactive"]}),r.jsxs(Ye,{children:["Your bot ",C?.phoneNumber," was found but is not currently connected. Enter a NEW Baileys v7 session ID and we'll automatically test the connection and update your credentials."]})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("label",{className:"text-sm font-medium",children:"Updated Session ID (Base64 Credentials)"})}),r.jsx("textarea",{placeholder:"Paste your NEW base64 session credentials here...",value:c,onChange:E=>d(E.target.value),className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll test your NEW session ID connection, verify it works, then update your bot credentials"}),r.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200",children:[r.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mb-2",children:r.jsx("strong",{children:" Automated Baileys v7 Update Process:"})}),r.jsxs("ul",{className:"text-xs text-green-600 dark:text-green-400 space-y-1",children:[r.jsx("li",{children:" Validates Baileys v7 credential structure (noiseKey, LID, etc.)"}),r.jsx("li",{children:" Tests connection with new credentials"}),r.jsx("li",{children:" Updates bot credentials if validation passes"}),r.jsx("li",{children:" Sends success confirmation to your WhatsApp"}),r.jsx("li",{children:" Redirects to bot management dashboard"})]})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:[r.jsx("strong",{children:"Need a new session ID?"})," Get fresh credentials:"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pm,{className:"h-4 w-4"}),r.jsx("a",{href:"https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Get NEW SESSION ID"})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{onClick:J,disabled:_.isPending,className:"flex-1",size:"lg",children:_.isPending?r.jsxs(r.Fragment,{children:[r.jsx(vi,{className:"h-4 w-4 mr-2 animate-spin"})," Auto-Testing & Updating Session..."]}):r.jsxs(r.Fragment,{children:[r.jsx(g2,{className:"h-4 w-4 mr-2"})," Auto-Test & Update Session"]})}),r.jsx(H,{variant:"outline",onClick:()=>{g("session"),d(""),T(null),j(!1)},size:"lg",children:"Back"})]})]})]}),m==="dashboard"&&r.jsxs(r.Fragment,{children:[r.jsx(de,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(jr,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-green-800 dark:text-green-200",children:"Authentication Successful!"}),r.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["Welcome! You can now manage your bot for ",i]})]}),r.jsx(H,{variant:"outline",size:"sm",onClick:me,className:"ml-auto",children:"Switch Account"})]})})}),r.jsxs(Fi,{defaultValue:"active",className:"w-full",children:[r.jsxs(Ca,{className:"grid w-full grid-cols-3",children:[r.jsxs(St,{value:"active",className:"flex items-center gap-2",children:[r.jsx(Bn,{className:"h-4 w-4"}),"Active Bots (",he.length,")"]}),r.jsxs(St,{value:"pending",className:"flex items-center gap-2",children:[r.jsx(ln,{className:"h-4 w-4"}),"Pending (",ne.length,")"]}),r.jsxs(St,{value:"inactive",className:"flex items-center gap-2",children:[r.jsx(Mo,{className:"h-4 w-4"}),"Inactive (",we.length,")"]})]}),r.jsx(xt,{value:"active",className:"space-y-4",children:I?r.jsx(de,{children:r.jsxs(fe,{className:"pt-6 text-center",children:[r.jsx(Ds,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{children:"Loading your bots..."})]})}):he.length===0?r.jsx(de,{children:r.jsxs(fe,{className:"pt-6 text-center",children:[r.jsx(Bn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No active bots found"})]})}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:he.map(E=>r.jsxs(de,{className:"border-green-200 hover:shadow-lg transition-shadow",children:[r.jsxs(Me,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx($e,{className:"text-lg",children:E.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[E.crossServer&&r.jsxs(Je,{variant:"outline",className:"bg-blue-50 text-blue-700 text-xs",children:[" ",E.hostingServer]}),te(E.status,E.approvalStatus)]})]}),r.jsxs(Ye,{children:[E.phoneNumber,E.crossServer&&r.jsx("span",{className:"block text-xs text-blue-600 mt-1",children:" Cross-server management enabled"})]})]}),r.jsxs(fe,{className:"space-y-4",children:[E.crossServer&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-2 mb-3",children:[r.jsx("p",{className:"text-xs text-blue-700 font-medium",children:" Cross-Server Bot"}),r.jsx("p",{className:"text-xs text-blue-600",children:"Feature toggles require server connectivity"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto Like"}),r.jsx("button",{onClick:()=>re("autoLike",!E.features?.autoLike,E),disabled:Z.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${E.features?.autoLike?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${E.features?.autoLike?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),r.jsx("button",{onClick:()=>re("autoView",!E.features?.autoView,E),disabled:Z.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${E.features?.autoView?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${E.features?.autoView?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto React"}),r.jsx("button",{onClick:()=>re("autoReact",!E.features?.autoReact,E),disabled:Z.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${E.features?.autoReact?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${E.features?.autoReact?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),r.jsx("button",{onClick:()=>re("chatGPT",!E.features?.chatGPT,E),disabled:Z.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${E.features?.chatGPT?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${E.features?.chatGPT?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Always Online"}),r.jsx("button",{onClick:()=>re("alwaysOnline",!E.features?.alwaysOnline,E),disabled:Z.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${E.features?.alwaysOnline?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${E.features?.alwaysOnline?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Typing Indicator"}),r.jsx("button",{onClick:()=>re("typingIndicator",!E.features?.typingIndicator,E),disabled:Z.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${E.features?.typingIndicator?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${E.features?.typingIndicator?"bg-white":"bg-muted-foreground"}`})})]})]}),r.jsx("div",{className:"flex gap-2",children:E.crossServer?r.jsxs("div",{className:"flex-1 bg-blue-50 border border-blue-200 rounded-md p-2 text-center",children:[r.jsxs("p",{className:"text-xs text-blue-700",children:[" Bot hosted on ",E.hostingServer]}),r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Features can be toggled above"})]}):r.jsxs(r.Fragment,{children:[E.status==="offline"?r.jsxs(H,{size:"sm",onClick:()=>U("start",E),disabled:M.isPending,className:"flex-1",children:[r.jsx(Do,{className:"h-3 w-3 mr-1"}),"Start"]}):r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>U("stop",E),disabled:M.isPending,className:"flex-1",children:[r.jsx(Mo,{className:"h-3 w-3 mr-1"}),"Stop"]}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>U("restart",E),disabled:M.isPending,title:"Restart bot",children:r.jsx(Ds,{className:"h-3 w-3"})})]})}),r.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground pt-2 border-t",children:[r.jsxs("span",{children:["Messages: ",E.messagesCount||0]}),r.jsxs("span",{children:["Commands: ",E.commandsCount||0]})]})]})]},E.id))})}),r.jsx(xt,{value:"pending",className:"space-y-4",children:ne.length===0?r.jsx(de,{children:r.jsxs(fe,{className:"pt-6 text-center",children:[r.jsx(jr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No pending approvals"})]})}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ne.map(E=>r.jsx(de,{className:"border-yellow-200",children:r.jsxs(Me,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx($e,{className:"text-lg",children:E.name}),te(E.status,E.approvalStatus)]}),r.jsx(Ye,{children:E.phoneNumber})]})},E.id))})}),r.jsx(xt,{value:"inactive",className:"space-y-4",children:we.length===0?r.jsx(de,{children:r.jsxs(fe,{className:"pt-6 text-center",children:[r.jsx(Bn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No inactive bots"})]})}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:we.map(E=>r.jsxs(de,{className:"border-gray-200 hover:shadow-lg transition-shadow",children:[r.jsxs(Me,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx($e,{className:"text-lg",children:E.name}),te(E.status,E.approvalStatus)]}),r.jsx(Ye,{children:E.phoneNumber})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),r.jsx("button",{onClick:()=>re("autoViewStatus",!E.features?.autoView,E),disabled:Z.isPending||E.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${E.features?.autoView?"bg-primary justify-end":"bg-muted justify-start"} ${E.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${E.features?.autoView?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),r.jsx("button",{onClick:()=>re("chatgptEnabled",!E.features?.chatGPT,E),disabled:Z.isPending||E.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${E.features?.chatGPT?"bg-primary justify-end":"bg-muted justify-start"} ${E.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${E.features?.chatGPT?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Always Online"}),r.jsx("button",{onClick:()=>re("alwaysOnline",!E.features?.alwaysOnline,E),disabled:Z.isPending||E.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${E.features?.alwaysOnline?"bg-primary justify-end":"bg-muted justify-start"} ${E.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${E.features?.alwaysOnline?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Typing Indicator"}),r.jsx("button",{onClick:()=>re("typingIndicator",!E.features?.typingIndicator,E),disabled:Z.isPending||E.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${E.features?.typingIndicator?"bg-primary justify-end":"bg-muted justify-start"} ${E.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${E.features?.typingIndicator?"bg-white":"bg-muted-foreground"}`})})]})]}),r.jsx("div",{className:"flex gap-2",children:E.approvalStatus==="approved"?r.jsxs(r.Fragment,{children:[r.jsxs(H,{size:"sm",onClick:()=>U("start",E),disabled:M.isPending,className:"flex-1",children:[r.jsx(Do,{className:"h-3 w-3 mr-1"}),"Start"]}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>U("restart",E),disabled:M.isPending,title:"Restart bot",children:r.jsx(Ds,{className:"h-3 w-3"})})]}):r.jsxs(H,{size:"sm",disabled:!0,className:"flex-1",title:"Bot must be approved to start",children:[r.jsx(ln,{className:"h-3 w-3 mr-1"}),"Pending Approval"]})}),E.approvalStatus!=="approved"&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2 text-xs",children:[r.jsx("p",{className:"text-yellow-800 font-medium",children:" Awaiting Admin Approval"}),r.jsx("p",{className:"text-yellow-600",children:"Contact admin to activate this bot"})]})]})]},E.id))})})]})]})]})})}function OM(){const{toast:e}=Mt(),t=Rr(),[n,i]=h.useState(""),[o,c]=h.useState(!1),{data:d,isLoading:m}=mt({queryKey:["/api/guest/cross-server-bots",n],queryFn:async()=>{if(!n.trim())return{bots:[],servers:[]};const w=n.replace(/[\s\-\(\)\+]/g,""),j=await fetch("/api/guest/cross-server-bots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:w})});if(!j.ok){const k=await j.json();throw new Error(k.message||"Failed to fetch cross-server data")}return j.json()},enabled:o&&!!n.trim()}),g=Qe({mutationFn:async({action:w,botId:j,serverName:k,data:_})=>{const F=await fetch("/api/guest/cross-server-action",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("guest_token")}`},body:JSON.stringify({action:w,botId:j,serverName:k,..._})});if(!F.ok){const I=await F.json();throw new Error(I.message||`Failed to ${w} bot on ${k}`)}return F.json()},onSuccess:(w,j)=>{e({title:"Cross-Server Action Successful",description:`${j.action} completed on ${j.serverName}`}),t.invalidateQueries({queryKey:["/api/guest/cross-server-bots"]})},onError:w=>{e({title:"Cross-Server Action Failed",description:w.message,variant:"destructive"})}}),x=()=>{if(!n.trim()){e({title:"Phone Required",description:"Please enter your phone number to find your cross-server bots",variant:"destructive"});return}c(!0)},v=(w,j,k)=>{g.mutate({action:w,botId:j.id,serverName:j.serverName,data:k})},b=(w,j)=>{if(j==="pending")return r.jsx(Je,{variant:"outline",className:"bg-yellow-50 text-yellow-800",children:"Pending"});switch(w){case"online":return r.jsx(Je,{className:"bg-green-500",children:"Online"});case"offline":return r.jsx(Je,{variant:"outline",children:"Offline"});case"error":return r.jsx(Je,{variant:"destructive",children:"Error"});default:return r.jsx(Je,{variant:"outline",children:w})}},N=d?.bots||[],C=d?.servers||[],T=N.reduce((w,j)=>(w[j.serverName]||(w[j.serverName]=[]),w[j.serverName].push(j),w),{});return r.jsx("div",{className:"min-h-screen w-full p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Cross-Server Bot Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your bots across multiple servers from one central location"})]}),r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(Lf,{className:"h-5 w-5"}),"Find Your Cross-Server Bots"]}),r.jsx(Ye,{children:"Enter your phone number to discover and manage bots across all servers"})]}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(kt,{type:"tel",placeholder:"+1234567890",value:n,onChange:w=>i(w.target.value),className:"flex-1","data-testid":"input-cross-server-phone"}),r.jsx(H,{onClick:x,disabled:m,"data-testid":"button-search-cross-server",children:m?r.jsx(Ds,{className:"h-4 w-4 animate-spin"}):"Find Bots"})]})})]}),o&&!m&&C.length>0&&r.jsxs(de,{children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(Vn,{className:"h-5 w-5"}),"Server Overview"]}),r.jsxs(Ye,{children:["Your bots are distributed across ",C.length," server",C.length>1?"s":""]})]}),r.jsx(fe,{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:C.map(w=>r.jsx(de,{className:"border-blue-200",children:r.jsxs(fe,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:w.serverName}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[w.botCount," bot",w.botCount>1?"s":""]})]}),w.serverUrl&&r.jsx(H,{size:"sm",variant:"outline",asChild:!0,children:r.jsx("a",{href:w.serverUrl,target:"_blank",rel:"noopener noreferrer",children:r.jsx(pm,{className:"h-3 w-3"})})})]}),r.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-green-600",children:w.onlineBots})," online"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-yellow-600",children:w.pendingBots})," pending"]})]})]})},w.serverName))})})]}),o&&!m&&N.length>0&&r.jsxs(Fi,{defaultValue:"all",className:"w-full",children:[r.jsxs(Ca,{className:"grid w-full grid-cols-4",children:[r.jsxs(St,{value:"all","data-testid":"tab-all-servers",children:["All Servers (",N.length,")"]}),r.jsxs(St,{value:"online","data-testid":"tab-online-servers",children:["Online (",N.filter(w=>w.status==="online").length,")"]}),r.jsxs(St,{value:"offline","data-testid":"tab-offline-servers",children:["Offline (",N.filter(w=>w.status==="offline").length,")"]}),r.jsxs(St,{value:"pending","data-testid":"tab-pending-servers",children:["Pending (",N.filter(w=>w.approvalStatus==="pending").length,")"]})]}),r.jsx(xt,{value:"all",className:"space-y-6",children:Object.entries(T).map(([w,j])=>r.jsxs(de,{children:[r.jsx(Me,{children:r.jsxs($e,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vn,{className:"h-5 w-5"}),w]}),r.jsxs(Je,{variant:"outline",children:[j.length," bot",j.length>1?"s":""]})]})}),r.jsx(fe,{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:j.map(k=>r.jsx(de,{className:"border-gray-200",children:r.jsxs(fe,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:k.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:k.phoneNumber})]}),b(k.status,k.approvalStatus)]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Messages"}),r.jsx("p",{className:"font-medium",children:k.messagesCount||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Commands"}),r.jsx("p",{className:"font-medium",children:k.commandsCount||0})]})]}),k.features&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Features"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[k.features.autoLike&&r.jsx(Je,{variant:"outline",className:"text-xs",children:"Like"}),k.features.autoReact&&r.jsx(Je,{variant:"outline",className:"text-xs",children:"React"}),k.features.autoView&&r.jsx(Je,{variant:"outline",className:"text-xs",children:"View"}),k.features.chatGPT&&r.jsx(Je,{variant:"outline",className:"text-xs",children:"AI"})]})]}),k.canManage&&k.approvalStatus==="approved"&&r.jsxs("div",{className:"flex gap-1",children:[k.status==="offline"?r.jsxs(H,{size:"sm",onClick:()=>v("start",k),disabled:g.isPending,className:"flex-1","data-testid":`button-cross-start-${k.id}`,children:[r.jsx(Do,{className:"h-3 w-3 mr-1"}),"Start"]}):r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>v("stop",k),disabled:g.isPending,className:"flex-1","data-testid":`button-cross-stop-${k.id}`,children:[r.jsx(Mo,{className:"h-3 w-3 mr-1"}),"Stop"]}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>v("restart",k),disabled:g.isPending,"data-testid":`button-cross-restart-${k.id}`,children:r.jsx(Ds,{className:"h-3 w-3"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>v("configure",k),disabled:g.isPending,"data-testid":`button-cross-config-${k.id}`,children:r.jsx(yi,{className:"h-3 w-3"})})]}),!k.canManage&&r.jsxs(Vr,{children:[r.jsx(ln,{className:"h-4 w-4"}),r.jsx(zr,{className:"text-xs",children:"Limited access on this server. Contact admin for full management."})]})]})},k.id))})})]},w))}),r.jsx(xt,{value:"online",className:"space-y-4",children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:N.filter(w=>w.status==="online").map(w=>r.jsx(de,{className:"border-green-200",children:r.jsxs(fe,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium",children:w.name}),b(w.status)]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[w.phoneNumber,"  ",w.serverName]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>v("stop",w),disabled:g.isPending,className:"flex-1",children:[r.jsx(Mo,{className:"h-3 w-3 mr-1"}),"Stop"]}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>v("restart",w),disabled:g.isPending,children:r.jsx(Ds,{className:"h-3 w-3"})})]})]})},w.id))})}),r.jsx(xt,{value:"offline",className:"space-y-4",children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:N.filter(w=>w.status==="offline").map(w=>r.jsx(de,{className:"border-gray-200",children:r.jsxs(fe,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium",children:w.name}),b(w.status)]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[w.phoneNumber,"  ",w.serverName]}),r.jsxs(H,{size:"sm",onClick:()=>v("start",w),disabled:g.isPending,className:"w-full",children:[r.jsx(Do,{className:"h-3 w-3 mr-1"}),"Start Bot"]})]})},w.id))})}),r.jsx(xt,{value:"pending",className:"space-y-4",children:r.jsx("div",{className:"space-y-4",children:N.filter(w=>w.approvalStatus==="pending").map(w=>r.jsx(de,{className:"border-yellow-200",children:r.jsxs(fe,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:w.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[w.phoneNumber,"  ",w.serverName]})]}),b(w.status,w.approvalStatus)]}),r.jsxs(Vr,{children:[r.jsx(ln,{className:"h-4 w-4"}),r.jsxs(zr,{children:["This bot is awaiting approval from the admin on ",w.serverName,"."]})]})]})},w.id))})})]}),o&&!m&&N.length===0&&r.jsx(de,{children:r.jsxs(fe,{className:"pt-6 text-center space-y-4",children:[r.jsx(Lf,{className:"h-16 w-16 text-muted-foreground mx-auto"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:"No Cross-Server Bots Found"}),r.jsxs("p",{className:"text-muted-foreground",children:["No bots found across servers for phone number ",n,"."]})]}),r.jsxs("div",{className:"flex gap-2 justify-center",children:[r.jsx(H,{variant:"outline",asChild:!0,children:r.jsx("a",{href:"/guest/verification",children:"Register New Bot"})}),r.jsx(H,{variant:"outline",asChild:!0,children:r.jsx("a",{href:"/guest/bot-management",children:"Manage Existing Bots"})})]})]})}),r.jsx(de,{className:"border-blue-200",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Lf,{className:"h-5 w-5 text-blue-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-800",children:"Cross-Server Management"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"This feature allows you to manage bots across multiple servers from a single interface. Actions are coordinated through the God Registry system to ensure consistency across all servers. Some features may have limited availability depending on server configuration and your access level."})]})]})})})]})})}function DM(){const{toast:e}=Mt(),[,t]=Ei(),[n,i]=h.useState(1),[o,c]=h.useState(""),[d,m]=h.useState(""),[g,x]=h.useState(""),[v,b]=h.useState(!1),[N,C]=h.useState(null),T=async()=>{if(!o){e({title:"Phone Number Required",description:"Please enter your phone number first",variant:"destructive"});return}b(!0);try{const k=await fetch(`/api/pair?number=${o.replace(/[\s\-\(\)\+]/g,"")}`,{method:"GET"});if(!k.ok)throw new Error("Failed to generate pairing code");const _=await k.json();m(_.code),w(_.code,o),e({title:"Pairing Code Generated!",description:"Use this code in WhatsApp to link your device"})}catch{e({title:"Error",description:"Failed to generate pairing code. Please try again.",variant:"destructive"})}finally{b(!1)}},w=(k,_)=>{N&&clearInterval(N);const F=setInterval(async()=>{try{const I=await fetch(`/api/guest/session/${_.replace(/[\s\-\(\)\+]/g,"")}`);if(I.ok){const M=await I.json();if(M.found&&M.sessionId){x(M.sessionId),clearInterval(F),C(null),e({title:"Session ID Retrieved!",description:"Automatically opening bot registration..."});const Z=Date.now().toString();localStorage.setItem("autoRegisterSessionId",M.sessionId),localStorage.setItem("autoRegisterPhoneNumber",_),localStorage.setItem("autoRegisterFlow","true"),localStorage.setItem("autoRegisterTimestamp",Z),console.log("Setting auto-register data:",{sessionId:M.sessionId.substring(0,20)+"...",phoneNumber:_,timestamp:Z}),setTimeout(()=>{t("/")},1500)}}}catch(I){console.error("Error polling for session ID:",I)}},3e3);C(F),setTimeout(()=>{F&&(clearInterval(F),C(null),e({title:"Timeout",description:"Session ID not received. Please try again or proceed manually.",variant:"destructive"}))},18e4)};Ot.useEffect(()=>()=>{N&&clearInterval(N)},[N]);const j=k=>{navigator.clipboard.writeText(k),e({title:"Copied!",description:"Pairing code copied to clipboard"})};return r.jsx("div",{className:"min-h-screen w-full p-6 bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx(bi,{className:"h-10 w-10 text-blue-600"}),r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"WhatsApp Bot Setup"})]}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Generate your session credentials to manage your WhatsApp bot"})]}),r.jsx(de,{className:"border-blue-200 bg-blue-50/50 dark:bg-blue-900/20",children:r.jsxs(fe,{className:"pt-6",children:[r.jsxs("div",{className:"flex items-center justify-center gap-4",children:[r.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${n>=1?"bg-blue-500 border-blue-500 text-white":"bg-gray-200 border-gray-300 text-gray-500"}`,children:"1"}),r.jsx("div",{className:`w-24 h-0.5 ${n>=2?"bg-blue-500":"bg-gray-300"}`}),r.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${n>=2?"bg-blue-500 border-blue-500 text-white":"bg-gray-200 border-gray-300 text-gray-500"}`,children:"2"})]}),r.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[r.jsx("span",{className:n>=1?"text-blue-600 font-medium":"text-gray-500",children:"Generate Pairing Code"}),r.jsx("span",{className:n>=2?"text-blue-600 font-medium":"text-gray-500",children:"Link WhatsApp"})]})]})}),n===1&&r.jsxs(de,{className:"border-blue-200",children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(bi,{className:"h-6 w-6 text-blue-600"}),"Step 1: Generate Session ID"]}),r.jsx(Ye,{children:"Enter your phone number to generate a pairing code and session ID for your WhatsApp bot"})]}),r.jsx(fe,{className:"space-y-4",children:d?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center p-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Your Pairing Code:"}),r.jsx("p",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400 tracking-wider",children:d}),r.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>j(d),className:"mt-2",children:[r.jsx(Vc,{className:"h-4 w-4 mr-1"}),"Copy Code"]})]}),r.jsx(Vr,{className:"border-blue-500",children:r.jsxs(zr,{children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:" This code is valid for linking your WhatsApp account"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"After pairing, we'll check if this number is already registered and either create a new bot or update your existing bot's session."})]})}),r.jsxs(H,{onClick:()=>i(2),size:"lg",className:"w-full",children:["Continue to WhatsApp Linking",r.jsx(Io,{className:"h-4 w-4 ml-2"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{htmlFor:"phone",children:"Phone Number (with country code)"}),r.jsx(kt,{id:"phone","data-testid":"input-phone",type:"tel",placeholder:"+254700000000",value:o,onChange:k=>c(k.target.value),className:"text-lg"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your WhatsApp number with country code"})]}),r.jsx(H,{onClick:T,disabled:v||!o,size:"lg",className:"w-full","data-testid":"button-generate-code",children:v?"Generating...":"Generate Pairing Code"})]})})]}),n===2&&r.jsxs(de,{className:"border-green-200",children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(jr,{className:"h-6 w-6 text-green-600"}),"Step 2: Waiting for WhatsApp Pairing"]}),r.jsx(Ye,{children:"Enter the pairing code in WhatsApp - we'll automatically fetch your session ID"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"text-center p-6 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Your Pairing Code:"}),r.jsx("p",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400 tracking-wider",children:d}),r.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>j(d),className:"mt-2",children:[r.jsx(Vc,{className:"h-4 w-4 mr-1"}),"Copy Code"]})]}),r.jsxs(Vr,{className:"border-green-500",children:[r.jsx(jr,{className:"h-4 w-4 text-green-600"}),r.jsx(zr,{children:r.jsxs("ol",{className:"space-y-1 text-sm",children:[r.jsx("li",{children:"1. Open WhatsApp on your phone"}),r.jsxs("li",{children:["2. Go to ",r.jsx("strong",{children:"Settings  Linked Devices"})]}),r.jsxs("li",{children:["3. Tap ",r.jsx("strong",{children:"Link a Device"})]}),r.jsxs("li",{children:["4. Tap ",r.jsx("strong",{children:"Link with phone number instead"})]}),r.jsx("li",{children:"5. Enter the pairing code above"})]})})]}),!g&&r.jsx(de,{className:"border-blue-200 bg-blue-50 dark:bg-blue-900/20",children:r.jsxs(fe,{className:"pt-6",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Waiting for Session ID..."}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"This will happen automatically after pairing"})]})]}),r.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}),g&&r.jsxs(de,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:[r.jsx(Me,{children:r.jsxs($e,{className:"flex items-center gap-2 text-green-700 dark:text-green-300",children:[r.jsx(jr,{className:"h-6 w-6"}),"Session ID Retrieved Successfully!"]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs(Vr,{className:"border-green-500 bg-white dark:bg-gray-800",children:[r.jsx(jr,{className:"h-4 w-4 text-green-600"}),r.jsx(zr,{className:"text-green-800 dark:text-green-200",children:" Your session credentials have been automatically retrieved and saved!"})]}),r.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border-2 border-purple-300",children:[r.jsx("div",{className:"animate-pulse mb-3",children:r.jsx(Io,{className:"h-8 w-8 mx-auto text-purple-600"})}),r.jsx("p",{className:"font-semibold text-purple-900 dark:text-purple-100 mb-2",children:"Redirecting to Bot Registration..."}),r.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:"You will be automatically redirected in 2 seconds"})]})]})]}),r.jsx(Vr,{className:"border-blue-500",children:r.jsxs(zr,{className:"text-sm",children:[r.jsx("strong",{children:" Automatic Process:"}),r.jsxs("ul",{className:"mt-2 space-y-1 ml-4 list-disc",children:[r.jsx("li",{children:"Enter pairing code in WhatsApp"}),r.jsx("li",{children:"Session ID will be fetched automatically"}),r.jsx("li",{children:"You'll be redirected to bot registration"}),r.jsx("li",{children:"No manual credential entry required!"})]})]})}),r.jsxs(H,{variant:"outline",onClick:()=>{i(1),m(""),x(""),N&&(clearInterval(N),C(null))},size:"lg",className:"w-full",children:[r.jsx(xi,{className:"h-4 w-4 mr-2"}),"Start Over"]})]})]}),r.jsx(de,{className:"border-orange-200",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Need help? The Session ID will be automatically sent to your WhatsApp after successful pairing."}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Make sure to save the Session ID securely - you'll need it to access your bot dashboard."})]})})})]})})}function MM(){const{toast:e}=Mt(),[,t]=Ei(),n=localStorage.getItem("autoRegisterSessionId")||"",i=localStorage.getItem("autoRegisterPhoneNumber")||"",[o,c]=h.useState({botName:"",phoneNumber:i,credentialType:"base64",sessionId:n,credsFile:null,features:{autoView:!1,typingMode:"none",presenceMode:"none",intervalSeconds:30,chatGPT:!1},selectedServer:""}),[d,m]=h.useState(1),[g,x]=h.useState(null),[v,b]=h.useState(""),[N,C]=h.useState([]);h.useEffect(()=>{n&&i&&(console.log("Bot registration opened with auto-filled data"),e({title:"Credentials Auto-Filled!",description:`Session ID and phone number (${i}) have been automatically filled.`}),m(4),localStorage.removeItem("autoRegisterSessionId"),localStorage.removeItem("autoRegisterPhoneNumber"),localStorage.removeItem("autoRegisterFlow"),localStorage.removeItem("autoRegisterTimestamp"))},[n,i,e]);const T=async()=>{try{const I=await fetch("/api/servers/available");if(I.ok){const M=await I.json();C(M.servers||[])}}catch(I){console.error("Error fetching servers:",I)}},w=Qe({mutationFn:async I=>{const M=I.replace(/[\s\-\(\)\+]/g,""),Z=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:M})});if(!Z.ok){const q=await Z.json();if(q.registeredTo&&q.message)return{registered:!0,currentServer:!1,registeredTo:q.registeredTo,message:q.message,serverMismatch:!0};throw new Error(q.message||"Failed to check phone number")}return Z.json()},onSuccess:I=>{if(x(I),I.registered&&!I.currentServer){e({title:"Phone Number Registered",description:`This number is registered on ${I.registeredTo}. Please use a different number.`,variant:"destructive"});return}T(),m(3)},onError:I=>{e({title:"Phone Check Failed",description:I.message,variant:"destructive"})}}),j=Qe({mutationFn:async I=>{const M=new FormData;if(M.append("botName",I.botName),M.append("phoneNumber",I.phoneNumber),M.append("credentialType",I.credentialType),M.append("features",JSON.stringify(I.features)),I.selectedServer&&M.append("selectedServer",I.selectedServer),I.credentialType==="base64"&&I.sessionId)try{const q=atob(I.sessionId.trim());JSON.parse(q),M.append("sessionId",I.sessionId)}catch{throw new Error("Invalid session ID format")}else I.credsFile&&M.append("credsFile",I.credsFile);const Z=await fetch("/api/guest/register-bot",{method:"POST",body:M});if(!Z.ok){const q=await Z.json();throw new Error(q.message||"Failed to register bot")}return Z.json()},onSuccess:()=>{m(7),e({title:"Bot Registered Successfully!",description:"Your bot has been submitted for approval."})},onError:I=>{e({title:"Registration Failed",description:I.message,variant:"destructive"})}}),k=I=>{if(I.preventDefault(),!o.phoneNumber){e({title:"Validation Error",description:"Please enter your phone number",variant:"destructive"});return}m(2),w.mutate(o.phoneNumber)},_=I=>{b(I.name),c(M=>({...M,selectedServer:I.name})),m(4)},F=()=>{if(!o.botName){e({title:"Validation Error",description:"Please enter a bot name",variant:"destructive"});return}m(6),j.mutate({...o,selectedServer:v||o.selectedServer})};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-emerald-950",children:[r.jsx("header",{className:"sticky top-0 z-40 backdrop-blur-xl bg-gray-900/80 border-b border-emerald-500/20 px-4 sm:px-6 py-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto flex items-center gap-4",children:[r.jsxs(H,{variant:"ghost",onClick:()=>t("/"),className:"text-emerald-400 hover:text-emerald-300",children:[r.jsx(xi,{className:"h-5 w-5 mr-2"}),"Back to Dashboard"]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-400 to-green-400 bg-clip-text text-transparent",children:"Register Your Bot"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Step-by-step bot registration process"})]})]})}),r.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[r.jsx(de,{className:"border-emerald-500/30 bg-gray-800/50",children:r.jsx(fe,{className:"pt-6",children:r.jsx("div",{className:"flex items-center justify-between",children:[{step:1,title:"Phone Number",icon:bi,active:d===1,completed:d>1},{step:2,title:"Checking",icon:Vn,active:d===2,completed:d>2},{step:3,title:"Select Server",icon:Vn,active:d===3,completed:d>3},{step:4,title:"Credentials",icon:gm,active:d===4,completed:d>4},{step:5,title:"Features",icon:yi,active:d===5,completed:d>5},{step:6,title:"Complete",icon:fv,active:d>=6,completed:d===7}].map((I,M)=>r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:`flex flex-col items-center ${M<5?"mr-2":""}`,children:[r.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all ${I.completed?"bg-green-500 border-green-500 text-white":I.active?"bg-emerald-500 border-emerald-500 text-white":"bg-gray-700 border-gray-600 text-gray-400"}`,children:I.completed?r.jsx(jr,{className:"h-5 w-5"}):r.jsx(I.icon,{className:"h-5 w-5"})}),r.jsx("p",{className:"text-xs mt-1 hidden sm:block text-gray-400",children:I.title})]}),M<5&&r.jsx("div",{className:`hidden sm:block w-12 h-0.5 ${I.completed?"bg-green-500":"bg-gray-700"}`})]},I.step))})})}),d===1&&r.jsxs(de,{className:"border-emerald-500/30",children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(bi,{className:"h-6 w-6 text-emerald-400"}),"Enter Your Phone Number"]}),r.jsx(Ye,{children:"We'll check if you have an existing bot or help you register a new one"})]}),r.jsx(fe,{children:r.jsxs("form",{onSubmit:k,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Phone Number (with country code)"}),r.jsx(kt,{placeholder:"+254700000000",value:o.phoneNumber,onChange:I=>c(M=>({...M,phoneNumber:I.target.value.replace(/[\s\-\(\)]/g,"")})),className:"mt-1",autoFocus:!0,readOnly:!!i})]}),r.jsx(H,{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700",children:"Continue"})]})})]}),d===2&&r.jsx(de,{className:"border-blue-500/30",children:r.jsxs(fe,{className:"pt-6 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-blue-400",children:"Checking Your Phone Number"}),r.jsx("p",{className:"text-gray-400 mt-2",children:"Please wait..."})]})}),d===3&&r.jsxs(de,{className:"border-purple-500/30",children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(Vn,{className:"h-6 w-6 text-purple-400"}),"Select Your Server"]}),r.jsx(Ye,{children:"Choose a server with available bot slots"})]}),r.jsx(fe,{children:r.jsx("div",{className:"grid gap-3",children:N.map(I=>r.jsx("div",{onClick:()=>_(I),className:"p-4 border border-gray-700 rounded-lg hover:bg-gray-800 cursor-pointer transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-white",children:I.name}),r.jsx("p",{className:"text-sm text-gray-400",children:I.description})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-green-400",children:[I.availableSlots," slots available"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[I.currentBots,"/",I.maxBots," bots"]})]})]})},I.id))})})]}),d===4&&r.jsxs(de,{className:"border-amber-500/30",children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(gm,{className:"h-6 w-6 text-amber-400"}),"Bot Credentials"]}),r.jsx(Ye,{children:"Provide your bot name and session credentials"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Bot Name"}),r.jsx(kt,{placeholder:"My WhatsApp Bot",value:o.botName,onChange:I=>c(M=>({...M,botName:I.target.value})),className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Credential Type"}),r.jsxs(Vh,{value:o.credentialType,onValueChange:I=>c(M=>({...M,credentialType:I})),className:"mt-2",children:[r.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[r.jsx(tl,{value:"base64",id:"base64"}),r.jsx(Te,{htmlFor:"base64",className:"cursor-pointer",children:"Paste Base64 Session ID"})]}),r.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[r.jsx(tl,{value:"file",id:"file"}),r.jsx(Te,{htmlFor:"file",className:"cursor-pointer",children:"Upload creds.json File"})]})]})]}),o.credentialType==="base64"?r.jsxs("div",{children:[r.jsx(Te,{children:"Base64 Session ID"}),r.jsx(ds,{placeholder:"Paste your base64 encoded session ID here...",value:o.sessionId,onChange:I=>c(M=>({...M,sessionId:I.target.value})),className:"min-h-[100px] font-mono text-sm mt-1"})]}):r.jsxs("div",{children:[r.jsx(Te,{children:"Upload creds.json File"}),r.jsx(kt,{type:"file",accept:".json",onChange:I=>c(M=>({...M,credsFile:I.target.files?.[0]||null})),className:"mt-1"})]}),r.jsx(H,{onClick:()=>m(5),className:"w-full bg-amber-600 hover:bg-amber-700",children:"Continue to Features"})]})]}),d===5&&r.jsxs(de,{className:"border-green-500/30",children:[r.jsxs(Me,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(yi,{className:"h-6 w-6 text-green-400"}),"Bot Features"]}),r.jsx(Ye,{children:"Configure your bot's automation features"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(kn,{id:"autoView",checked:o.features.autoView,onCheckedChange:I=>c(M=>({...M,features:{...M.features,autoView:!!I}}))}),r.jsx(Te,{htmlFor:"autoView",className:"cursor-pointer",children:"Auto View Status"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(kn,{id:"chatGPT",checked:o.features.chatGPT,onCheckedChange:I=>c(M=>({...M,features:{...M.features,chatGPT:!!I}}))}),r.jsx(Te,{htmlFor:"chatGPT",className:"cursor-pointer",children:"ChatGPT Integration"})]})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Presence Mode"}),r.jsxs(mr,{value:o.features.presenceMode,onValueChange:I=>c(M=>({...M,features:{...M.features,presenceMode:I}})),children:[r.jsx(or,{className:"mt-1",children:r.jsx(hr,{})}),r.jsxs(lr,{children:[r.jsx(Re,{value:"none",children:"None"}),r.jsx(Re,{value:"always_online",children:"Always Online"}),r.jsx(Re,{value:"always_typing",children:"Always Typing"}),r.jsx(Re,{value:"always_recording",children:"Always Recording"}),r.jsx(Re,{value:"auto_switch",children:"Auto Switch"})]})]})]}),r.jsxs(H,{onClick:F,className:"w-full bg-green-600 hover:bg-green-700",children:[r.jsx(fv,{className:"h-4 w-4 mr-2"}),"Register Bot Now"]})]})]}),d===6&&r.jsx(de,{className:"border-blue-500/30",children:r.jsxs(fe,{className:"pt-6 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-blue-400",children:"Registering Your Bot"}),r.jsx("p",{className:"text-gray-400 mt-2",children:"Please wait while we set up your WhatsApp bot..."})]})}),d===7&&r.jsx(de,{className:"border-green-500/30",children:r.jsxs(fe,{className:"pt-6 text-center",children:[r.jsx(jr,{className:"h-16 w-16 text-green-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-2xl font-bold text-green-400",children:"Bot Registered Successfully!"}),r.jsx("p",{className:"text-gray-400 mt-2",children:"Your bot is now awaiting admin approval"}),r.jsxs("div",{className:"mt-6 space-y-2 text-left bg-gray-800/50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-300",children:" Your bot is dormant and awaiting approval"}),r.jsx("p",{className:"text-sm text-gray-300",children:" Contact +254704897825 to activate your bot"}),r.jsx("p",{className:"text-sm text-gray-300",children:" You'll receive hourly status updates"}),r.jsx("p",{className:"text-sm text-gray-300",children:" Once approved, enjoy all premium features!"})]}),r.jsx(H,{onClick:()=>t("/"),className:"w-full mt-6 bg-emerald-600 hover:bg-emerald-700",children:"Return to Dashboard"})]})})]})]})}function FM(){const{toast:e}=Mt(),[t,n]=h.useState("Trekker Bot"),[i,o]=h.useState("254704897825"),[c,d]=h.useState(""),[m,g]=h.useState(!1),[x,v]=h.useState(!1),[b,N]=h.useState(!1),[C,T]=h.useState(null),[w,j]=h.useState(null),[k,_]=h.useState(null),F={autoView:!0,presenceMode:"always_online",intervalSeconds:30,chatGPT:!1,typingMode:"typing"},{data:I}=mt({queryKey:["/api/offer/status"],refetchInterval:1e4}),M=async()=>{if(!i.trim()){e({title:"Phone Number Required",description:"Please enter your phone number",variant:"destructive"});return}N(!0),j(null);try{const J=i.replace(/[\s\-\(\)\+]/g,""),U=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:J})});if(!U.ok){const me=await U.json();if(me.registeredTo){j({registered:!0,serverMismatch:!0,registeredTo:me.registeredTo,message:me.message}),e({title:"Phone Already Registered",description:`This number is registered on ${me.registeredTo}`,variant:"destructive"});return}throw new Error(me.message||"Failed to check phone number")}const re=await U.json();j(re),re.registered&&!re.currentServer?e({title:"Phone Registered Elsewhere",description:`This number is registered on ${re.registeredTo}`,variant:"destructive"}):re.registered&&re.hasBot?e({title:"Phone Already Has Bot",description:"This number already has a bot registered",variant:"destructive"}):e({title:"Phone Number Available",description:"You can proceed with registration"})}catch(J){e({title:"Check Failed",description:J.message,variant:"destructive"})}finally{N(!1)}};h.useEffect(()=>{if(i&&i.length>=10){const J=setTimeout(()=>{M()},500);return()=>clearTimeout(J)}},[i]);const Z=async()=>{if(!w||w.registered){e({title:"Phone Check Required",description:"Please verify phone number availability first",variant:"destructive"});return}if(!c.trim()){e({title:"Session ID Required",description:"Please paste the session ID",variant:"destructive"});return}g(!0),T(null);try{const J=await fetch("/api/whatsapp/validate-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:c.trim(),phoneNumber:i.replace(/[\s\-\(\)\+]/g,"")})}),U=await J.json();J.ok?(T({success:!0,data:U}),e({title:"Session Validated!",description:U.messageSent?` Validation message sent to ${U.phoneNumber}! Check your WhatsApp.`:` Session is valid for ${U.phoneNumber}`})):(T({success:!1,error:U.error||"Validation failed"}),e({title:"Validation Failed",description:U.error||"Invalid credentials",variant:"destructive"}))}catch(J){T({success:!1,error:J.message}),e({title:"Error",description:J.message,variant:"destructive"})}finally{g(!1)}},q=async()=>{if(!c.trim()){e({title:"Session ID Required",description:"Please enter your session ID to register",variant:"destructive"});return}if(!t.trim()){e({title:"Bot Name Required",description:"Please enter a name for your bot",variant:"destructive"});return}if(!i.trim()){e({title:"Phone Number Required",description:"Please enter your phone number",variant:"destructive"});return}if(!w||w.registered){e({title:"Phone Validation Required",description:"Please validate your phone number first",variant:"destructive"});return}v(!0);try{const J=new FormData;J.append("botName",t.trim()),J.append("phoneNumber",i.replace(/\D/g,"")),J.append("credentialType","base64"),J.append("sessionId",c.trim()),J.append("features",JSON.stringify({autoLike:!1,autoReact:!1,autoView:F.autoView,presenceMode:F.presenceMode,intervalSeconds:F.intervalSeconds,chatGPT:F.chatGPT,typingMode:F.typingMode}));const U=await fetch("/api/guest/register-bot",{method:"POST",body:J}),re=await U.json();if(U.ok){const me=I?.isActive,te=me?" Bot Auto-Approved & Live!":" Bot Registered Successfully!",he=me?`${t} is now ACTIVE and ready to use! All features enabled instantly.`:`${t} registered successfully. Awaiting admin approval - you'll be notified.`;e({title:te,description:he,duration:5e3}),d(""),n(""),o(""),j(null),_({success:!0,registered:!0,data:re,autoApproved:me,botName:t,phoneNumber:i})}else e({title:"Registration Failed",description:re.error||re.message||"Failed to register bot. Please try again.",variant:"destructive"}),_({success:!1,error:re.error||re.message})}catch(J){e({title:"Connection Error",description:J.message||"Unable to connect to server. Please check your connection.",variant:"destructive"}),_({success:!1,error:J.message})}finally{v(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 py-8",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(Bn,{className:"w-8 h-8 text-green-500"}),r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Direct Bot Registration"})]}),r.jsx("p",{className:"text-gray-400",children:"Test and register your WhatsApp bot instantly"})]}),I?.isActive&&r.jsxs(Vr,{className:"border-green-500 bg-green-50 dark:bg-green-900/20",children:[r.jsx(Oo,{className:"h-4 w-4 text-green-600"}),r.jsxs(zr,{className:"text-green-800 dark:text-green-200",children:[" ",r.jsx("strong",{children:"Promotional Offer Active!"})," Your bot will be AUTO-APPROVED instantly when registered!"]})]}),w&&w.registered&&r.jsxs(Vr,{className:"border-red-500 bg-red-50 dark:bg-red-900/20",children:[r.jsx(ln,{className:"h-4 w-4 text-red-600"}),r.jsx(zr,{className:"text-red-800 dark:text-red-200",children:w.serverMismatch?` This phone number is already registered on ${w.registeredTo}. Please use a different number.`:" This phone number already has a bot registered. Please use a different number."})]}),w&&!w.registered&&r.jsxs(Vr,{className:"border-green-500 bg-green-50 dark:bg-green-900/20",children:[r.jsx(jr,{className:"h-4 w-4 text-green-600"}),r.jsx(zr,{className:"text-green-800 dark:text-green-200",children:" Phone number is available for registration!"})]}),k&&k.registered&&r.jsxs(Vr,{className:"border-green-500 bg-green-50 dark:bg-green-900/20",children:[r.jsx(jr,{className:"h-4 w-4 text-green-600"}),r.jsx(zr,{className:"text-green-800 dark:text-green-200",children:k.autoApproved?r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-bold text-lg",children:" Bot Auto-Approved & Live!"}),r.jsxs("p",{children:[" ",r.jsx("strong",{children:k.botName})," is now active and ready to use"]}),r.jsxs("p",{children:[" Phone: ",k.phoneNumber]}),r.jsx("p",{className:"text-sm mt-2",children:"All premium features are enabled. Your bot will start automatically."}),r.jsx("div",{className:"mt-3 pt-3 border-t border-green-300",children:r.jsx(H,{onClick:()=>window.location.href="/",className:"w-full bg-green-600 hover:bg-green-700",children:"Go to Dashboard"})})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-bold",children:" Bot Registered Successfully!"}),r.jsxs("p",{children:[r.jsx("strong",{children:k.botName})," is awaiting admin approval"]}),r.jsxs("p",{children:[" Phone: ",k.phoneNumber]}),r.jsx("p",{className:"text-sm mt-2",children:"Contact +254704897825 to activate your bot. You'll receive hourly status updates."}),r.jsx("div",{className:"mt-3 pt-3 border-t border-green-300",children:r.jsx(H,{onClick:()=>window.location.href="/",variant:"outline",className:"w-full",children:"Return to Dashboard"})})]})})]}),r.jsxs(de,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(Me,{children:[r.jsx($e,{className:"text-white",children:"Bot Information"}),r.jsx(Ye,{className:"text-gray-400",children:"Enter your bot details and session credentials"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{htmlFor:"input-bot-name",className:"text-gray-200",children:"Bot Name"}),r.jsx(kt,{id:"input-bot-name","data-testid":"input-bot-name",placeholder:"My WhatsApp Bot",value:t,onChange:J=>n(J.target.value),className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{htmlFor:"input-phone-number",className:"text-gray-200",children:["Phone Number ",b&&r.jsx("span",{className:"text-xs text-blue-400",children:"(Checking...)"})]}),r.jsx(kt,{id:"input-phone-number","data-testid":"input-phone-number",placeholder:"254704897825",value:i,onChange:J=>o(J.target.value),onBlur:M,className:"bg-gray-700 border-gray-600 text-white",disabled:b}),w&&!w.registered&&r.jsx("p",{className:"text-xs text-green-400",children:" Available"}),w&&w.registered&&r.jsx("p",{className:"text-xs text-red-400",children:" Already registered"})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"sessionId",children:"Session ID (Base64) *"}),r.jsx(ds,{id:"sessionId","data-testid":"textarea-session-id",placeholder:"Paste your base64 session ID here... (starts with TREKKER~ or long alphanumeric string)",value:c,onChange:J=>{const U=J.target.value.trim();d(U)},className:"min-h-[120px] font-mono text-sm",required:!0}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c.length>0?r.jsxs("span",{className:"text-green-600",children:[" Session ID loaded (",c.length," characters)"]}):"Get this from the pairing site after linking your WhatsApp"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(H,{"data-testid":"button-test-session",onClick:Z,disabled:m||!c.trim()||!w||w.registered||b,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:m?r.jsxs(r.Fragment,{children:[r.jsx(vi,{className:"mr-2 h-4 w-4 animate-spin"}),"Testing..."]}):"Test Session"}),r.jsx(H,{"data-testid":"button-register-bot",onClick:q,disabled:x||!c.trim()||!t.trim()||!i.trim()||!w||w.registered||b,className:"flex-1 bg-green-600 hover:bg-green-700",children:x?r.jsxs(r.Fragment,{children:[r.jsx(vi,{className:"mr-2 h-4 w-4 animate-spin"}),"Registering..."]}):I?.isActive?r.jsxs(r.Fragment,{children:[r.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Auto-Approve & Register"]}):"Register Bot"})]}),C&&r.jsx(Vr,{"data-testid":"alert-test-result",className:C.success?"bg-green-900/20 border-green-700":"bg-red-900/20 border-red-700",children:r.jsxs("div",{className:"flex items-start gap-2",children:[C.success?r.jsx(jr,{className:"h-5 w-5 text-green-500 mt-0.5"}):r.jsx(l2,{className:"h-5 w-5 text-red-500 mt-0.5"}),r.jsx(zr,{className:C.success?"text-green-200":"text-red-200",children:C.success?r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:C.registered?C.autoApproved?" Bot Auto-Approved!":"Bot Registered!":" Session Valid!"}),C.data?.phoneNumber&&r.jsxs("p",{className:"text-sm mt-1",children:["Phone: ",C.data.phoneNumber]}),C.data?.messageSent&&!C.registered&&r.jsx("p",{className:"text-sm mt-1 text-green-600",children:" Validation message sent to WhatsApp!"}),C.registered&&r.jsxs("p",{className:"text-sm mt-1",children:["Status: ",C.autoApproved?" APPROVED & ACTIVE (Promotional Offer)":"Pending Admin Approval"]})]}):r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Error"}),r.jsx("p",{className:"text-sm mt-1",children:C.error})]})})]})})]})]}),r.jsxs(de,{className:"bg-gray-800 border-gray-700",children:[r.jsx(Me,{children:r.jsx($e,{className:"text-white",children:"Instructions"})}),r.jsx(fe,{className:"space-y-2 text-gray-300 text-sm",children:r.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[r.jsx("li",{children:"Enter your phone number (auto-checks availability)"}),r.jsx("li",{children:"Paste your session ID (with or without TREKKER~ prefix)"}),r.jsx("li",{children:'Click "Test Session" to validate the credentials'}),r.jsx("li",{children:'If valid, click "Register Bot" to add it to the system'}),I?.isActive?r.jsx("li",{className:"text-green-400 font-semibold",children:" Promotional offer active - Your bot will be AUTO-APPROVED instantly!"}):r.jsx("li",{children:"Wait for admin approval to activate your bot"})]})})]})]})})}function LM(){const[,e]=Ei(),{toast:t}=Mt(),[n,i]=h.useState(!0),[o,c]=h.useState(!1),[d,m]=h.useState(null),[g,x]=h.useState(!1),v=()=>{i(!1),c(!1)},b=()=>{i(!1),c(!0)},N=()=>{i(!0),c(!1);const j=document.querySelector('iframe[data-testid="iframe-pairing"]');j&&(j.src=j.src)};h.useEffect(()=>{const j=k=>{k.origin===window.location.origin&&k.data.type==="PAIRING_SUCCESS"&&(console.log("Pairing success received:",k.data),m({sessionId:k.data.sessionId,pairingCode:k.data.pairingCode||"",phoneNumber:k.data.phoneNumber||""}),t({title:"Pairing Successful!",description:"Your session ID is ready. You can now download or copy it."}),k.data.sessionId&&k.data.phoneNumber&&(localStorage.setItem("autoRegisterSessionId",k.data.sessionId),localStorage.setItem("autoRegisterPhoneNumber",k.data.phoneNumber),localStorage.setItem("autoRegisterFlow","true"),localStorage.setItem("autoRegisterTimestamp",new Date().toISOString()),console.log("Auto-register data saved to localStorage")))};return window.addEventListener("message",j),()=>window.removeEventListener("message",j)},[t]);const C=async()=>{if(d?.sessionId)try{await navigator.clipboard.writeText(d.sessionId),x(!0),t({title:"Copied!",description:"Session ID copied to clipboard"}),setTimeout(()=>x(!1),2e3)}catch{t({title:"Copy Failed",description:"Please copy manually",variant:"destructive"})}},T=async()=>{if(!d?.sessionId){t({title:"No Session ID",description:"No session data available to copy",variant:"destructive"});return}try{await navigator.clipboard.writeText(d.sessionId),x(!0),t({title:" Copied Successfully!",description:"Session ID copied to clipboard. You can now paste it during bot registration."}),setTimeout(()=>x(!1),3e3)}catch(j){console.error("Copy error:",j),t({title:"Copy Failed",description:"Please select and copy the session ID manually",variant:"destructive"})}},w=()=>{if(!d?.sessionId){t({title:"No Session Data",description:"No session credentials available to download",variant:"destructive"});return}try{let j=d.sessionId;j.startsWith("TREKKER~")&&(console.log("Removing TREKKER~ prefix from session ID"),j=j.substring(8)),console.log("Decoding session ID...");const k=atob(j),_=JSON.parse(k);console.log("Creating download file...");const F=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),I=URL.createObjectURL(F),M=document.createElement("a");M.href=I,M.download=`creds_${d.phoneNumber||"whatsapp_session"}.json`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(I),t({title:" Download Complete!",description:"creds.json file saved successfully. Use this file to register your bot."})}catch(j){console.error("Download error:",j),t({title:"Download Failed",description:`Failed to generate creds.json: ${j instanceof Error?j.message:"Invalid session format"}`,variant:"destructive"})}};return r.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-br from-gray-950 via-gray-900 to-emerald-950",children:[r.jsx("div",{className:"sticky top-0 z-40 backdrop-blur-xl bg-gray-900/80 border-b border-emerald-500/20 px-4 sm:px-6 py-4 shadow-lg shadow-emerald-500/5",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(H,{onClick:()=>e("/"),variant:"ghost",className:"text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10","data-testid":"button-back-dashboard",children:[r.jsx(xi,{className:"w-5 h-5 mr-2"}),"Back to Dashboard"]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-400 via-green-400 to-teal-400 bg-clip-text text-transparent",children:"TREKKER-MD Pairing"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Generate your WhatsApp session credentials"})]})]})}),n&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-950/50 z-30",children:r.jsxs("div",{className:"text-center",children:[r.jsx(vi,{className:"w-12 h-12 animate-spin text-emerald-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-300 text-lg",children:"Loading Pairing Interface..."})]})}),o&&!n&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-950/50 z-30",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-400 text-xl mb-4",children:"Failed to load pairing interface"}),r.jsx(H,{onClick:N,className:"bg-emerald-600 hover:bg-emerald-700",children:"Retry"})]})}),d&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-950/95 backdrop-blur-sm z-50 p-4",children:r.jsxs(de,{className:"w-full max-w-3xl bg-gradient-to-br from-gray-800 to-gray-900 border-2 border-emerald-500/50 shadow-2xl shadow-emerald-500/20",children:[r.jsx(Me,{className:"border-b border-emerald-500/30 bg-gradient-to-r from-emerald-900/30 to-green-900/30",children:r.jsxs($e,{className:"text-3xl text-center text-emerald-400 flex items-center justify-center gap-3",children:[r.jsx(jr,{className:"w-10 h-10 animate-pulse"}),"Pairing Successful! "]})}),r.jsxs(fe,{className:"pt-8 space-y-6",children:[r.jsxs("div",{className:"text-center space-y-3 bg-emerald-500/10 p-4 rounded-lg border border-emerald-500/30",children:[r.jsx("p",{className:"text-gray-200 text-lg font-medium",children:" Your WhatsApp Session ID is ready!"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Save it securely for bot registration. You can download as JSON or copy the session ID."}),d.phoneNumber&&r.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:[" Phone: ",r.jsx("span",{className:"text-emerald-400 font-mono font-bold",children:d.phoneNumber})]})]}),r.jsxs("div",{className:"bg-gray-900/50 border-2 border-gray-700 rounded-lg p-5 shadow-inner",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wide",children:" Session ID"}),r.jsx(H,{size:"sm",variant:"ghost",onClick:C,className:"text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/20",children:g?r.jsxs(r.Fragment,{children:[r.jsx(jr,{className:"w-4 h-4 mr-1"}),"Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(Vc,{className:"w-4 h-4 mr-1"}),"Quick Copy"]})})]}),r.jsx("div",{className:"bg-gray-950 border border-emerald-500/20 rounded-md p-4 max-h-48 overflow-y-auto scrollbar-thin scrollbar-thumb-emerald-500 scrollbar-track-gray-800",children:r.jsx("code",{className:"text-xs text-emerald-400 font-mono break-all leading-relaxed",children:d.sessionId})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(H,{onClick:T,className:"w-full bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 text-white font-semibold shadow-lg shadow-emerald-500/30",size:"lg",children:g?r.jsxs(r.Fragment,{children:[r.jsx(jr,{className:"mr-2 h-5 w-5"}),"Copied to Clipboard!"]}):r.jsxs(r.Fragment,{children:[r.jsx(Vc,{className:"mr-2 h-5 w-5"}),"Copy Session ID"]})}),r.jsxs(H,{onClick:w,variant:"outline",className:"w-full border-2 border-emerald-500 text-emerald-400 hover:bg-emerald-500/20 font-semibold shadow-lg shadow-emerald-500/20",size:"lg",children:[r.jsx(d2,{className:"mr-2 h-5 w-5"}),"Download creds.json"]})]}),r.jsxs(H,{onClick:()=>{d.sessionId&&d.phoneNumber&&(localStorage.setItem("autoRegisterSessionId",d.sessionId),localStorage.setItem("autoRegisterPhoneNumber",d.phoneNumber),localStorage.setItem("autoRegisterFlow","true"),localStorage.setItem("autoRegisterTimestamp",new Date().toISOString())),e("/?openRegistration=true")},variant:"default",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold shadow-lg shadow-blue-500/30",size:"lg",children:["Continue to Bot Registration",r.jsx(Io,{className:"ml-2 h-5 w-5"})]})]}),r.jsx("div",{className:"text-center pt-4 border-t border-gray-700",children:r.jsxs(H,{onClick:()=>{f(null),e("/")},variant:"outline",className:"border-gray-600 text-gray-400 hover:bg-gray-700 hover:text-gray-200",children:[r.jsx(xi,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})})]})]})}),r.jsx("div",{className:"flex-1 relative",children:r.jsx("iframe",{src:"/pair/pair.html",className:"absolute inset-0 w-full h-full border-0",title:"TREKKER-MD Pairing Interface","data-testid":"iframe-pairing",onLoad:v,onError:b,sandbox:"allow-same-origin allow-scripts allow-forms allow-popups"})})]})}function BM({isOpen:e,onClose:t,onLogin:n}){const[i,o]=h.useState(""),[c,d]=h.useState(""),[m,g]=h.useState(!1),{toast:x}=Mt(),v=async b=>{b.preventDefault(),g(!0);try{const N=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,password:c})});if(N.ok){const C=await N.json();localStorage.setItem("auth_token",C.token),localStorage.setItem("user",JSON.stringify(C.user)),n(C.token,C.user),t(),x({title:"Login successful",description:C.message}),C.user?.isAdmin&&window.location.reload()}else{const C=await N.json();x({title:"Login failed",description:C.message,variant:"destructive"})}}catch{x({title:"Login error",description:"Failed to connect to server",variant:"destructive"})}finally{g(!1)}};return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Gt,{className:"sm:max-w-[425px]",children:[r.jsx(Qt,{children:r.jsx(Ht,{children:" Admin Login"})}),r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{htmlFor:"username",children:"Username"}),r.jsx(kt,{id:"username",type:"text",value:i,onChange:b=>o(b.target.value),placeholder:"Enter admin username",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{htmlFor:"password",children:"Password"}),r.jsx(kt,{id:"password",type:"password",value:c,onChange:b=>d(b.target.value),placeholder:"Enter admin password",required:!0})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(H,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),r.jsx(H,{type:"submit",disabled:m,className:"flex-1",children:m?"Logging in...":"Login"})]})]})]})})}function $M(){const[e]=Ei(),{user:t,isAdmin:n,logout:i,login:o}=ll(),{toast:c}=Mt(),[d,m]=h.useState(!1),[g,x]=h.useState(!1),v=()=>{i(),c({title:"Logged out successfully"});try{Nt("POST","/api/logout").catch(()=>{})}catch{}},b=n?[{icon:uv,label:"Dashboard",path:"/"},{icon:Bn,label:"Bot Instances",path:"/bot-instances"},{icon:h2,label:"Commands",path:"/commands"},{icon:Vn,label:"Cross-Server Bots",path:"/cross-server-bots"},{icon:yi,label:"Admin Console",path:"/admin"}]:[{icon:uv,label:"Dashboard",path:"/"},{icon:Bn,label:"My Bots",path:"/guest/bot-management"}];return r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>m(!d),className:"fixed top-4 left-4 z-50 lg:hidden bg-primary text-primary-foreground p-2 rounded-lg shadow-lg hover:bg-primary/90 transition-colors","aria-label":"Toggle menu",children:d?r.jsx(md,{className:"w-6 h-6"}):r.jsx(f2,{className:"w-6 h-6"})}),d&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>m(!1)}),r.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-40
        w-64 bg-card border-r border-border flex flex-col
        transform transition-transform duration-300 ease-in-out
        ${d?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[r.jsx("div",{className:"p-4 lg:p-6 border-b border-border",children:r.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[r.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-primary rounded-lg flex items-center justify-center",children:r.jsx(Bn,{className:"w-5 h-5 lg:w-6 lg:h-6 text-primary-foreground"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-base lg:text-lg font-bold text-foreground",children:"TREKKER-MD"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Bot Manager"})]})]})}),r.jsx("nav",{className:"flex-1 p-3 lg:p-4 space-y-1 lg:space-y-2 overflow-y-auto",children:b.map(N=>{const C=N.icon,T=e===N.path;return r.jsxs(Po,{href:N.path,onClick:()=>m(!1),className:`flex items-center gap-2 lg:gap-3 px-3 lg:px-4 py-2.5 lg:py-3 rounded-lg transition-colors ${T?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:[r.jsx(C,{className:"w-4 h-4 lg:w-5 lg:h-5 flex-shrink-0"}),r.jsx("span",{className:"font-medium text-sm lg:text-base",children:N.label})]},N.path)})}),r.jsxs("div",{className:"p-3 lg:p-4 border-t border-border",children:[r.jsxs("div",{className:"mb-3 lg:mb-4 p-2.5 lg:p-3 bg-muted rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:t?.username||"Guest"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n?"Administrator":"Guest User"})]}),t?r.jsxs(H,{onClick:()=>{v(),m(!1)},variant:"outline",className:"w-full text-sm lg:text-base",children:[r.jsx(h0,{className:"w-4 h-4 mr-2"}),"Logout"]}):r.jsxs(H,{onClick:()=>{x(!0),m(!1)},variant:"default",className:"w-full text-sm lg:text-base",children:[r.jsx(u2,{className:"w-4 h-4 mr-2"}),"Admin Login"]})]})]}),r.jsx(BM,{isOpen:g,onClose:()=>x(!1),onLogin:(N,C)=>{o(N,C),x(!1)}})]})}function Rc({children:e,requireAdmin:t=!1,requireAuth:n=!1}){const{isAuthenticated:i,isAdmin:o}=ll(),[,c]=Ei();return t&&!o?r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-6 bg-background",children:r.jsxs(de,{className:"max-w-md w-full",children:[r.jsxs(Me,{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(mv,{className:"h-8 w-8 text-red-600"})}),r.jsx($e,{className:"text-2xl text-red-600",children:"Access Denied"}),r.jsx(Ye,{className:"text-base",children:"This page is restricted to administrators only."})]}),r.jsxs(fe,{className:"text-center space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"You don't have permission to access bot management features. These tools are reserved for system administrators."}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs(H,{onClick:()=>c("/"),className:"w-full","data-testid":"button-return-dashboard",children:[r.jsx(xi,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]}),r.jsx(H,{onClick:()=>c("/guest/verification"),variant:"outline",className:"w-full","data-testid":"button-guest-registration",children:"Register Your Bot"})]})]})]})}):n&&!i?r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-6 bg-background",children:r.jsxs(de,{className:"max-w-md w-full",children:[r.jsxs(Me,{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(mv,{className:"h-8 w-8 text-yellow-600"})}),r.jsx($e,{className:"text-2xl text-yellow-600",children:"Authentication Required"}),r.jsx(Ye,{className:"text-base",children:"Please log in to access this page."})]}),r.jsxs(fe,{className:"text-center space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"This page requires authentication. Please log in to continue."}),r.jsxs(H,{onClick:()=>c("/"),className:"w-full","data-testid":"button-return-home",children:[r.jsx(xi,{className:"h-4 w-4 mr-2"}),"Return Home"]})]})]})}):r.jsx(r.Fragment,{children:e})}function VM(){return r.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[r.jsx($M,{}),r.jsx("main",{className:"flex-1 overflow-auto w-full lg:w-auto",children:r.jsxs(xC,{children:[r.jsx(Qr,{path:"/",children:r.jsx(WO,{})}),r.jsx(Qr,{path:"/bot-instances",children:r.jsx(Rc,{requireAdmin:!0,children:r.jsx(JO,{})})}),r.jsx(Qr,{path:"/commands",children:r.jsx(Rc,{requireAdmin:!0,children:r.jsx(tD,{})})}),r.jsx(Qr,{path:"/admin",children:r.jsx(Rc,{requireAdmin:!0,children:r.jsx(TM,{})})}),r.jsx(Qr,{path:"/cross-server-bots",children:r.jsx(Rc,{requireAdmin:!0,children:r.jsx(_M,{})})}),r.jsx(Qr,{path:"/guest/verification",component:AM}),r.jsx(Qr,{path:"/guest/bot-management",component:IM}),r.jsx(Qr,{path:"/guest/cross-server",component:OM}),r.jsx(Qr,{path:"/guest/whatsapp-pairing",component:DM}),r.jsx(Qr,{path:"/guest/bot-registration",component:MM}),r.jsx(Qr,{path:"/guest/direct-bot-test",component:FM}),r.jsx(Qr,{path:"/pairing",component:LM}),r.jsx(Qr,{component:RM})]})})]})}function zM(){return r.jsx(VC,{client:wr,children:r.jsx(x_,{children:r.jsx(zE,{children:r.jsxs("div",{className:"dark",children:[r.jsx(rP,{}),r.jsx(VM,{})]})})})})}Q1.createRoot(document.getElementById("root")).render(r.jsx(zM,{}));
